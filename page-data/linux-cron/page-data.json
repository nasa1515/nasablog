{"componentChunkName":"component---src-templates-blog-template-js","path":"/linux-cron/","result":{"data":{"cur":{"id":"160f9a4e-ca45-5f19-8a90-6f768c6d810d","html":"<p>머리말  </p>\n<p>이번 포스트에서는 개인적으로 실무에서 가장 많이 사용했던 CROND에 대해서 포스트 해보았습니다.</p>\n<hr>\n<h2 id=\"-cron\" style=\"position:relative;\"><a href=\"#-cron\" aria-label=\" cron permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ CRON</h2>\n<p>리눅스에서는 일반적으로 cron 데몬이 주기적인 작업 실행을 처리합니다. cron의 설정 파일은 cron table을 줄여서 <code class=\"language-text\">crontab</code>이라 부릅니다.  </p>\n<br/>\n<ul>\n<li>\n<h3 id=\"cron의-실행-확인\" style=\"position:relative;\"><a href=\"#cron%EC%9D%98-%EC%8B%A4%ED%96%89-%ED%99%95%EC%9D%B8\" aria-label=\"cron의 실행 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CRON의 실행 확인</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># ps -ef | grep crond</span>\n\n\troot      <span class=\"token number\">1214</span>     <span class=\"token number\">1</span>  <span class=\"token number\">0</span> <span class=\"token number\">14</span><span class=\"token punctuation\">:</span><span class=\"token number\">22</span> <span class=\"token punctuation\">?</span>        <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">00</span> crond</code></pre></div>\n<p>cron은 작동 시 모든 설정파일들을 읽어 메모리에 저장해두고 휴지 상태에 들어갑니다.<br>\n그리고 매분마다 활성화돼 변경된 crontab 파일들이 있는지 확인하고 파일이 변경된 경우 설정을 다시 읽어 저장하고<br>\n실행해야 할 작업이 있는지 확인하고 실행시킨 후 다시 휴지 상태로 들어갑니다.  </p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"cron이-참조하는-crontab-파일-위치\" style=\"position:relative;\"><a href=\"#cron%EC%9D%B4-%EC%B0%B8%EC%A1%B0%ED%95%98%EB%8A%94-crontab-%ED%8C%8C%EC%9D%BC-%EC%9C%84%EC%B9%98\" aria-label=\"cron이 참조하는 crontab 파일 위치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cron이 참조하는 crontab 파일 위치</h3>\n<br/>\n<h4 id=\"varspoolcron\" style=\"position:relative;\"><a href=\"#varspoolcron\" aria-label=\"varspoolcron permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/var/spool/cron</h4>\n<p>시스템 개별 사용자를 위한 crontab 파일 위치이며 일반적으로 root 계정용 하나와 계정 사용자당 1개의 파일을 가집니다.<br>\n파일명은 사용자의 계정명이며 cron은 이 이름을 바탕으로 각 설정 파일에 지정된 작업들을 실행할 때 사용할 UID를 결정합니다.<br>\n이 곳에 있는 설정파일들은 crontab 명령으로 관리합니다.</p>\n<h4 id=\"etccrond\" style=\"position:relative;\"><a href=\"#etccrond\" aria-label=\"etccrond permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/etc/cron.d</h4>\n<p>소프트웨어 패키지를 설치할 때 필요한 주기적인 작업을 등록하는 공간으로 사용한다.<br>\n임의의 사용자 권한으로 실행할 수 있다.</p>\n<h4 id=\"etccrontab\" style=\"position:relative;\"><a href=\"#etccrontab\" aria-label=\"etccrontab permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/etc/crontab</h4>\n<p>관리자가 직접 지정한 작업들을 설정하며, 임의의 사용자 권한으로 실행할 수 있다.<br>\n시스템 관련 작업들을 등록해 사용하는 곳이다.</p>\n<h4 id=\"crontab-파일-내용\" style=\"position:relative;\"><a href=\"#crontab-%ED%8C%8C%EC%9D%BC-%EB%82%B4%EC%9A%A9\" aria-label=\"crontab 파일 내용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>crontab 파일 내용</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">vi <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span><span class=\"token class-name\">crontab</span>\nSHELL<span class=\"token operator\">=</span><span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span><span class=\"token class-name\">bash</span>\nPATH<span class=\"token operator\">=</span><span class=\"token operator\">/</span>sbin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>sbin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span><span class=\"token class-name\">bin</span>\nMAILTO<span class=\"token operator\">=</span><span class=\"token class-name\">root</span>\nHOME<span class=\"token operator\">=</span><span class=\"token operator\">/</span>\n<span class=\"token preprocessor property\"># For details see man 4 crontabs</span>\n<span class=\"token preprocessor property\"># Example of job definition:</span>\n<span class=\"token preprocessor property\"># .---------------- minute (0 - 59)</span>\n<span class=\"token preprocessor property\"># |  .------------- hour (0 - 23)</span>\n<span class=\"token preprocessor property\"># |  |  .---------- day </span><span class=\"token return-type class-name\">of</span> month <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span>\n<span class=\"token preprocessor property\"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span>\n<span class=\"token preprocessor property\"># |  |  |  |  .---- day </span><span class=\"token return-type class-name\">of</span> week <span class=\"token punctuation\">(</span><span class=\"token number\">0</span> <span class=\"token operator\">-</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>Sunday<span class=\"token operator\">=</span><span class=\"token number\">0</span> <span class=\"token keyword\">or</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">OR</span> sun<span class=\"token punctuation\">,</span>mon<span class=\"token punctuation\">,</span>tue<span class=\"token punctuation\">,</span>wed<span class=\"token punctuation\">,</span>thu<span class=\"token punctuation\">,</span>fri<span class=\"token punctuation\">,</span>sat\n<span class=\"token preprocessor property\"># |  |  |  |  |</span>\n<span class=\"token preprocessor property\"># *  *  *  *  * user-name command to be executed</span></code></pre></div>\n</li>\n</ul>\n<hr>\n<h2 id=\"-crontab-사용법\" style=\"position:relative;\"><a href=\"#-crontab-%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\" crontab 사용법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ crontab 사용법</h2>\n<p>crontab 명령어를 사용하여 작성하는 cron은 개별 사용자 용 크론입니다.<br>\n해당 명령의 파일 정보는 <code class=\"language-text\">/var/spool/cron</code> 아래에 저장 됩니다.  </p>\n<br/>\n<h3 id=\"crontab-명령어\" style=\"position:relative;\"><a href=\"#crontab-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"crontab 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>crontab 명령어</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">crontab <span class=\"token punctuation\">[</span> <span class=\"token operator\">-</span>u 사용자 id<span class=\"token punctuation\">]</span> 파일\ncrontab <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span>u 사용자 id<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">-</span>l <span class=\"token operator\">|</span> <span class=\"token operator\">-</span>r <span class=\"token operator\">|</span> <span class=\"token operator\">-</span>e<span class=\"token punctuation\">}</span>\ncrontab <span class=\"token operator\">-</span>l <span class=\"token punctuation\">:</span> 예약된 작업리스트\ncrontab <span class=\"token operator\">-</span>e <span class=\"token punctuation\">:</span> 예약된 작업 수정\ncrontab <span class=\"token operator\">-</span>r <span class=\"token punctuation\">:</span> 예약된 작업 삭제\ncrontab <span class=\"token operator\">-</span>u 사용자명 <span class=\"token punctuation\">:</span> 루트관리자는 해당 사용자의 crontab 파일을 보거나 삭제<span class=\"token punctuation\">,</span> 편집가능</code></pre></div>\n<br/>\n<h3 id=\"등록-내용-설정\" style=\"position:relative;\"><a href=\"#%EB%93%B1%EB%A1%9D-%EB%82%B4%EC%9A%A9-%EC%84%A4%EC%A0%95\" aria-label=\"등록 내용 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>등록 내용 설정</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token string\">\"분,시,일,월,요일,[사용자명] 실행명령\"</span> 순으로 설정\ncrontab 파일 형식\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>    <span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>  <span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n필  드    의  미    범  위\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>    <span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>  <span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n첫번째    분        <span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">59</span>\n두번째    시        <span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">23</span>\n세번째    일        <span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">31</span>\n네번째    월        <span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">12</span>\n다섯번째  요일      <span class=\"token number\">0</span><span class=\"token operator\">-</span><span class=\"token number\">7</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span> 또는 <span class=\"token number\">7</span><span class=\"token operator\">=</span>일요일<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token operator\">=</span>월<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token operator\">=</span>화<span class=\"token punctuation\">,</span><span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n여섯번째  사용자명  <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>crontab<span class=\"token punctuation\">,</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>cron<span class=\"token punctuation\">.</span>d 에 저장될 경우 필요\n일곱번째  작업명령  실행할 명령을 한줄로 쓴다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>    <span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>  <span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span></code></pre></div>\n<br/>\n<h3 id=\"cron-설정-예제\" style=\"position:relative;\"><a href=\"#cron-%EC%84%A4%EC%A0%95-%EC%98%88%EC%A0%9C\" aria-label=\"cron 설정 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CRON 설정 예제</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token number\">45</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span> <span class=\"token number\">10</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">5</span> root <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>rdate <span class=\"token operator\">-</span>s time<span class=\"token punctuation\">.</span>bora<span class=\"token punctuation\">.</span>net <span class=\"token operator\">&amp;&amp;</span> clock <span class=\"token operator\">-</span>w\n<span class=\"token preprocessor property\"># 월~금요일에 매월 매일 10시 5분과 45분에 루트권한으로 시간동기화 명령어를 실행한다.</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>\n<span class=\"token operator\">*</span> <span class=\"token punctuation\">:</span> 범위 내 모든 경우\n숫자 <span class=\"token punctuation\">:</span> 정확히 일치하는 그 시각<span class=\"token punctuation\">,</span> 날짜\n<span class=\"token string character\">'-'</span> 기호로 연결된 두 숫자 <span class=\"token punctuation\">:</span> 두 숫자 사이에 포함된 범위를 뜻함\n콤마<span class=\"token punctuation\">(</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span>로 구분돼 나열된 숫자 <span class=\"token punctuation\">:</span> 나열된 숫자 중 일치하는 경우를 뜻함\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span></code></pre></div>\n<h3 id=\"여러-예제\" style=\"position:relative;\"><a href=\"#%EC%97%AC%EB%9F%AC-%EC%98%88%EC%A0%9C\" aria-label=\"여러 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[여러 예제]</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>every_1min<span class=\"token punctuation\">.</span>sh\n→ 매 <span class=\"token number\">1</span>분마다 <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>every_1min<span class=\"token punctuation\">.</span>sh 를 수행 <span class=\"token punctuation\">(</span>하루에 <span class=\"token number\">1440</span>회<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  \n<span class=\"token number\">15</span><span class=\"token punctuation\">,</span><span class=\"token number\">45</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>every_30min<span class=\"token punctuation\">.</span>sh\n→ 매시 <span class=\"token number\">15</span>분<span class=\"token punctuation\">,</span> <span class=\"token number\">45</span>분에 <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>every_30min<span class=\"token punctuation\">.</span>sh 를 수행 <span class=\"token punctuation\">(</span>하루에 <span class=\"token number\">48</span>회<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">*</span><span class=\"token operator\">/</span><span class=\"token number\">10</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>every_10min<span class=\"token punctuation\">.</span>sh\n→ <span class=\"token number\">10</span>분마다 <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>every_10min<span class=\"token punctuation\">.</span>sh 를 수행 <span class=\"token punctuation\">(</span>하루에 <span class=\"token number\">144</span>회<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">0</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>backup<span class=\"token punctuation\">.</span>sh\n→ 매일 <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">00</span>에<span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>backup<span class=\"token punctuation\">.</span>sh 를 수행 <span class=\"token punctuation\">(</span>하루에 <span class=\"token number\">1</span>회<span class=\"token punctuation\">)</span>\n<span class=\"token number\">30</span> <span class=\"token operator\">*</span><span class=\"token operator\">/</span><span class=\"token number\">6</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>every_6hours<span class=\"token punctuation\">.</span>sh\n→ 매 <span class=\"token number\">6</span>시간마다 수행<span class=\"token punctuation\">(</span><span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">06</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">30</span> <span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">23</span><span class=\"token operator\">/</span><span class=\"token number\">6</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>every_6hours<span class=\"token punctuation\">.</span>sh\n→ <span class=\"token number\">1</span>시부터 매 <span class=\"token number\">6</span>시간마다 수행<span class=\"token punctuation\">(</span><span class=\"token number\">01</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">07</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">13</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">19</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\n<span class=\"token number\">0</span> <span class=\"token number\">8</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">5</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>weekday<span class=\"token punctuation\">.</span>sh\n→ 평일<span class=\"token punctuation\">(</span>월요일<span class=\"token operator\">~</span>금요일<span class=\"token punctuation\">)</span> <span class=\"token number\">08</span><span class=\"token punctuation\">:</span><span class=\"token number\">00</span>\n<span class=\"token number\">0</span> <span class=\"token number\">8</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>weekend<span class=\"token punctuation\">.</span>sh\n→ 주말<span class=\"token punctuation\">(</span>일요일<span class=\"token punctuation\">,</span> 토요일<span class=\"token punctuation\">)</span> <span class=\"token number\">08</span><span class=\"token punctuation\">:</span><span class=\"token number\">00</span></code></pre></div>\n<hr>\n<h2 id=\"-cron의-사용자-제어\" style=\"position:relative;\"><a href=\"#-cron%EC%9D%98-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%9C%EC%96%B4\" aria-label=\" cron의 사용자 제어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👌 cron의 사용자 제어</h2>\n<p>/etc/cron.deny와 /etc/cron.allow 설정파일에서 사용자에 대한 crontab 제어를 관리할 수 있습니다.  </p>\n<h3 id=\"etccronallow\" style=\"position:relative;\"><a href=\"#etccronallow\" aria-label=\"etccronallow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/etc/cron.allow</h3>\n<p>이 허용파일이 있는 경우 파일 내 지정된 사용자만 crontab을 등록할 수 있다.<br>\n지정되지 않은 사용자들은 crontab 명령을 실행할 수 없다.</p>\n<h3 id=\"etccrondeny\" style=\"position:relative;\"><a href=\"#etccrondeny\" aria-label=\"etccrondeny permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/etc/cron.deny</h3>\n<p>허용파일이 없는 경우에는 이 거부 파일이 사용된다.<br>\n파일 내 지정된 사람을 제외한 나머지 사용자에게 crontab 명령 실행 권한이 주어진다.</p>\n<h3 id=\"두-파일-모두-존재하지-않을시\" style=\"position:relative;\"><a href=\"#%EB%91%90-%ED%8C%8C%EC%9D%BC-%EB%AA%A8%EB%91%90-%EC%A1%B4%EC%9E%AC%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%84%EC%8B%9C\" aria-label=\"두 파일 모두 존재하지 않을시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>두 파일 모두 존재하지 않을시</h3>\n<p>두 파일 모두 존재하지 않는 경우에는 대다수 시스템에서 루트 관리자만이다.<br>\n데비안과 우분투 배포판은 이런 경우 모든 사용자에게 실행 권한을 준다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-cron\">✔ CRON</a></li>\n<li>\n<p><a href=\"#-crontab-%EC%82%AC%EC%9A%A9%EB%B2%95\">✌ crontab 사용법</a></p>\n<ul>\n<li><a href=\"#crontab-%EB%AA%85%EB%A0%B9%EC%96%B4\">crontab 명령어</a></li>\n<li><a href=\"#%EB%93%B1%EB%A1%9D-%EB%82%B4%EC%9A%A9-%EC%84%A4%EC%A0%95\">등록 내용 설정</a></li>\n<li><a href=\"#cron-%EC%84%A4%EC%A0%95-%EC%98%88%EC%A0%9C\">CRON 설정 예제</a></li>\n<li><a href=\"#%EC%97%AC%EB%9F%AC-%EC%98%88%EC%A0%9C\">여러 예제</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-cron%EC%9D%98-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%9C%EC%96%B4\">👌 cron의 사용자 제어</a></p>\n<ul>\n<li><a href=\"#etccronallow\">/etc/cron.allow</a></li>\n<li><a href=\"#etccrondeny\">/etc/cron.deny</a></li>\n<li><a href=\"#%EB%91%90-%ED%8C%8C%EC%9D%BC-%EB%AA%A8%EB%91%90-%EC%A1%B4%EC%9E%AC%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%84%EC%8B%9C\">두 파일 모두 존재하지 않을시</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"머리말   이번 포스트에서는 개인적으로 실무에서 가장 많이 사용했던 CROND에 대해서 포스트 해보았습니다. ✔ CRON 리눅스에서는 일반적으로 cron 데몬이 주기적인 작업 실행을 처리합니다. cron의 설정 파일은 cron table을 줄여서 이라 부릅니다.   CRON의 실행 확인 cron은 작동 시 모든 설정파일들을 읽어 메모리에 저장해두고 휴지 상태에 들어갑니다. 그리고 매분마다 활성화돼 변경된 crontab 파일들이 있는지 확인하고 파일이 변경된 경우 설정을 다시 읽어 저장하고 실행해야 할 작업이 있는지 확인하고 실행시킨 후 다시 휴지 상태로 들어갑니다.   cron이 참조하는 crontab 파일 위치 /v…","frontmatter":{"date":"June 23, 2021","title":"[LINUX] - CRONTAB, CRON","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-cron/"}},"next":{"id":"bdffa384-3510-54b2-8772-32e848ce0547","html":"<p>머리말  </p>\n<p>이번 포스트에서는 리눅스에서 설정하는 ACL (Access Control List) 대해서 포스트 했습니다.   </p>\n<hr>\n<h2 id=\"-acl-access-controll-list\" style=\"position:relative;\"><a href=\"#-acl-access-controll-list\" aria-label=\" acl access controll list permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ ACL (Access Controll List)</h2>\n<br/>\n<h3 id=\"setfacl-과-getfacl\" style=\"position:relative;\"><a href=\"#setfacl-%EA%B3%BC-getfacl\" aria-label=\"setfacl 과 getfacl permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setfacl 과 getfacl</h3>\n<p>UMASK로는 특정 파일에 alice 사용자에게 읽기 권한만 주고 Eve와 Frank는 읽기/쓰기 권한을 주는 등의 세밀한 권한 조정은 불가능합니다.<br>\n이 문제를 해결하기 위해 ACL을 구현하면 cp, mv 같은 파일을 다루는 유틸리티의 권한도 수정 할 수 있게 됩니다.  </p>\n<br/>\n<h3 id=\"acl-설정-link-to-acl-설정\" style=\"position:relative;\"><a href=\"#acl-%EC%84%A4%EC%A0%95-link-to-acl-%EC%84%A4%EC%A0%95\" aria-label=\"acl 설정 link to acl 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ACL 설정 (Link to ACL 설정)</h3>\n<p>ACL에는 access ACL 과 Default ACL 두 가지 형식이 존재합니다..<br>\n</p>\n<ul>\n<li>access ACL 은 지정한 파일이나 디렉터리에 대해 설정한 접근 제어 목록이며  </li>\n<li>Default ACL 은 디렉터리에만 지정할 수 있고 필수 사항은 아닙니다.</li>\n</ul>\n<br/>\n<p>디렉토리에 들어있는 파일에 access ACL 이 설정되 있지 않으면  디렉토리에 지정된 기본 ACL 을 사용하게 되는데<br>\nACL은 사용자별, 그룹별, 유효 접근 권리 마스크(effective rights mask) 별 그리고 다른 사용자(other)에 대해 설정할 수 있습니다.\n</p>\n<br/>\n<h3 id=\"acl-추가변경link-to-acl-추가변경\" style=\"position:relative;\"><a href=\"#acl-%EC%B6%94%EA%B0%80%EB%B3%80%EA%B2%BDlink-to-acl-%EC%B6%94%EA%B0%80%EB%B3%80%EA%B2%BD\" aria-label=\"acl 추가변경link to acl 추가변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ACL 추가/변경Link to ACL 추가/변경</h3>\n<p><code class=\"language-text\">-m 옵션</code>을 사용하면 파일이나 디렉터리의 ACL 을 추가 또는 변경할 수 있습니다. <code class=\"language-text\">setfacl -m rules files</code> 같은 형식으로 사용하면 됩니다.<br>\nrule 은 필수 항목이며 아래와 같이 설정할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\">u:uid:perms\n특정 사용자를 대상으로 ACL 을 설정합니다.\n대상 사용자는 사용자 ID나 UID(숫자)로 지정하면 되며 유효한 사용자여야 합니다.\n  \ng:gid:perms\n그룹을 대상으로 권한을 지정합니다\n대상 그룹은 그룹 명이나 GID(숫자) 로 지정하며 유효한 그룹이여야 합니다.\n  \no:perms\n다른 사용자(other)에 대해 ACL 을 지정합니다.\nperms 에 지정하는 권한은 r(읽기), w(쓰기), x(실행) 세 가지로 나눠지며\n여러 권한을 지정할 경우 권한 문자를 이어서 써주면 됩니다.\n예를 들어 읽기, 쓰기를 허용할 경우 rw 를 지정하면 됩니다.</code></pre></div>\n<br/>\n<h3 id=\"acl-삭제link-to-acl-삭제\" style=\"position:relative;\"><a href=\"#acl-%EC%82%AD%EC%A0%9Clink-to-acl-%EC%82%AD%EC%A0%9C\" aria-label=\"acl 삭제link to acl 삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ACL 삭제Link to ACL 삭제</h3>\n<p><code class=\"language-text\">-x, --remove 옵션</code>을 사용하면 ACL 을 삭제할 수 있습니다.<br>\n-m 과 마찬가지로 rules 과 파일명을 주게 되어 있으나 권한 항목은 지정할 수 없으며, 지정된 사용자와 그룹의 모든 권한을 삭제합니다.  </p>\n<br/>\n<h4 id=\"실행-예\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89-%EC%98%88\" aria-label=\"실행 예 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실행 예</h4>\n<ul>\n<li>\n<p>일반 사용자는 <code class=\"language-text\">/etc/sysconfig/iptables</code> 파일의 내용을 볼 수가 없습니다.<br>\n따라서 won 이라는 사용자에게만 /etc/sysconfig/iptables 권한을 부여해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token title important\"><span class=\"token punctuation\">#</span> setfacl -m u:won:r /etc/sysconfig/iptables</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>won 사용자에게 부여한 /etc/sysconfig/iptables 의 모든 권한을 삭제 해보겠습니다. </p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token title important\"><span class=\"token punctuation\">#</span> setfacl -x u:won /etc/sysconfig/iptables</span></code></pre></div>\n</li>\n<li>이제 won 사용자가  /etc/sysconfig/iptables 을 읽으려고 할 경우 <code class=\"language-text\">Permission denied</code> 에러가 발생하게 됩니다.</li>\n</ul>\n<br/>\n<h4 id=\"실행-예-2\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89-%EC%98%88-2\" aria-label=\"실행 예 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실행 예 (2)</h4>\n<ul>\n<li>\n<p><code class=\"language-text\">/project/config</code> 파일은 wonseok 그룹은 읽고 쓸 수 있고 won 사용자는 읽을 수만 있도록 설정해 보죠.</p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token title important\"><span class=\"token punctuation\">#</span> setfacl -m g:wonseok:rw /project/config</span>\n<span class=\"token title important\"><span class=\"token punctuation\">#</span> setfacl -m u:won:r /project/config</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<br/>\n<h3 id=\"기본default-acl-설정\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8default-acl-%EC%84%A4%EC%A0%95\" aria-label=\"기본default acl 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본(Default) ACL 설정</h3>\n<p>rules 항목 앞에 <code class=\"language-text\">d</code>를 붙이면 됩니다. 디렉토리에만 가능하므로 파일에 지정할 경우 에러가 발생합니다.  </p>\n<ul>\n<li>기본 ACL을 특정 디렉토리에 설정 할 경우 이후에 해당 디렉토리에서 생성되는 모든 파일, 디렉토리는 설정한 ACL을 가지게 됩니다.</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">getfacl</code> 명령어로 파일이나 디렉터리에 설정된 ACL 을 확인할 수 있습니다. 시스템 로그가 쌓이는 /var/log 의 ACL 을 확인해 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token title important\"><span class=\"token punctuation\">#</span> getfacl /var/log</span>\n\ngetfacl: Removing leading '/' from absolute path names\n<span class=\"token title important\"><span class=\"token punctuation\">#</span> file: var/log</span>\n<span class=\"token title important\"><span class=\"token punctuation\">#</span> owner: root</span>\n<span class=\"token title important\"><span class=\"token punctuation\">#</span> group: root</span>\nuser::rwx\ngroup::r-x\nother::r-x</code></pre></div>\n<p>/var/log 의 소유자는 root 이고 그룹도 root 이다. 소유자는 읽기(r), 쓰기(w), 실행(x) 권한을 갖고 있고<br>\n그룹과 다른 사용자에게는 읽기(r), 실행(x) 권한이 있음을 확인할 수 있습니다.</p>\n</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-acl-access-controll-list\">✌ ACL (Access Controll List)</a></p>\n<ul>\n<li><a href=\"#setfacl-%EA%B3%BC-getfacl\">setfacl 과 getfacl</a></li>\n<li><a href=\"#acl-%EC%84%A4%EC%A0%95-link-to-acl-%EC%84%A4%EC%A0%95\">ACL 설정 (Link to ACL 설정)</a></li>\n<li><a href=\"#acl-%EC%B6%94%EA%B0%80%EB%B3%80%EA%B2%BDlink-to-acl-%EC%B6%94%EA%B0%80%EB%B3%80%EA%B2%BD\">ACL 추가/변경Link to ACL 추가/변경</a></li>\n<li>\n<p><a href=\"#acl-%EC%82%AD%EC%A0%9Clink-to-acl-%EC%82%AD%EC%A0%9C\">ACL 삭제Link to ACL 삭제</a></p>\n<ul>\n<li><a href=\"#%EC%8B%A4%ED%96%89-%EC%98%88\">실행 예</a></li>\n<li><a href=\"#%EC%8B%A4%ED%96%89-%EC%98%88-2\">실행 예 (2)</a></li>\n</ul>\n</li>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8default-acl-%EC%84%A4%EC%A0%95\">기본(Default) ACL 설정</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 23, 2021","title":"[LINUX] - Access Control List (ACL)","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-acl/"}},"prev":{"id":"828d15a2-3535-5034-9e6d-a0f2ee856e06","html":"<p>머리말  </p>\n<p>이번 포스트에서는 리눅스 파티션에 대해서 포스트했습니다.<br>\n아마 리눅스뿐만 아니라 다른 쪽으로도 유용하게 사용할 수 있는 지식일 것입니다.</p>\n<hr>\n<h2 id=\"-리눅스-파티션\" style=\"position:relative;\"><a href=\"#-%EB%A6%AC%EB%88%85%EC%8A%A4-%ED%8C%8C%ED%8B%B0%EC%85%98\" aria-label=\" 리눅스 파티션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ 리눅스 파티션</h2>\n<p>리눅스에서 사용하는 파티션의 종류는 세 가지가 있습니다.</p>\n<br/>\n<ul>\n<li>\n<p>첫째 [Primary Partition] <code class=\"language-text\">주 영역</code> 파티션이 있습니다.</p>\n<ul>\n<li>Maximum 4개까지 생성 가능 합니다. (사용하는 용도에 맞게 1개~4개 까지 조절해서 사용)</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>둘째 [Extend Partition] <code class=\"language-text\">확장 영역</code> 파티션이 있습니다.</p>\n<ul>\n<li>Maximum 1개까지 만들 수 있습니다. (최대가 1개이기 때문에 조절해서 사용합니다.)</li>\n</ul>\n<br/>\n</li>\n<li>\n<p>셋째 [Ligical Partition] <code class=\"language-text\">논리 영역</code> 파티션이 있습니다.</p>\n<ul>\n<li>Extend Patition 안에 만들 수 있는 파티션. SCSI 한 개, 총 15개만 넘지 않는 범위에서 자유롭게 만들 수 있습니다.<br>\n그러나 12개 이상의 파티션을 만드는 것은 시스템에 좋지 않습니다.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-파티션-생성\" style=\"position:relative;\"><a href=\"#-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%83%9D%EC%84%B1\" aria-label=\" 파티션 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👌 파티션 생성</h2>\n<h3 id=\"fdisk-명령어로-파티션-설정\" style=\"position:relative;\"><a href=\"#fdisk-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%84%A4%EC%A0%95\" aria-label=\"fdisk 명령어로 파티션 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>fdisk 명령어로 파티션 설정</h3>\n<ul>\n<li>\n<ol>\n<li>fdisk -l ( 물리적으로 장착된 디스크 정보 확인 )</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/dzx1fC/btqve5Y0jEK/Ym8BGQ4C8enE6yYzkePl51/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"2\">\n<li>fdisk [디스크 장치명] ( 파티션 설정 모드로 진입합니다. )</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/B91Zs/btqvehexIkG/5ykfzKgx7hck6RVaKmKKr0/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"3\">\n<li>첫 번째 Primary Partition 256MB를 생성합니다.</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/sAxvA/btqvhuKmkRj/mI7mIOggg8ATNpEQSCQEp1/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"4\">\n<li>두 번째 Primary partition 256MB를 생성합니다.</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/boicL6/btqvgFyCLUC/KIgFBjjDNgzj75TeMCPcP0/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"5\">\n<li>세 번째 Extend Partition 512MB를 생성합니다.</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/chdcZh/btqvgF6vaa5/PPSlKCzb9KGHZiol7nZl1k/img.png\"></p>\n<br/>\n<p>p를 눌러서 세 번째 파티션도 확인해 줍니다.  </p>\n<p><img src=\"https://k.kakaocdn.net/dn/KtaKT/btqvb6dNF4C/EDU4NkiNRJznqDOMj9qPk1/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"6\">\n<li>네 번째, 다섯 번째 Logical Partition 256MB, 256MB을 생성합니다.</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/nHHCO/btqvcfPdO3i/KDK9rXghMdlkHCepj93nIk/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"7\">\n<li>현재까지 설정한 파티션 저장</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/KAxKB/btqvf37E4R1/54BMjrJQr5TWMKgU4La47K/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"8\">\n<li>파일 시스템 설정  </li>\n</ol>\n<p>리눅스 환경은 시스템에 맞게 파일 시스템 설정이 필요합니다. 리눅스 파일 시스템에는 여러 가지가 있지만<br>\n최근 주로 사용하는 파일 시스템으로 설정을 해보겠습니다.</p>\n<ul>\n<li>\n<ol>\n<li><code class=\"language-text\">FAT32</code> : 윈도우와 리눅스 둘다 상용할 수 있는 파일 시스템<br>\n대용량 NTFS 파일 시스템 이하의 환경에서 동작할 수 있는 제한 사항을 갖고 있습니다.  </li>\n</ol>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"2\">\n<li><code class=\"language-text\">ext3</code> : 보안 부분이 조금 향상된 기본 파일 시스템으로 저널링 파일 시스템 기반  </li>\n</ol>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"3\">\n<li><code class=\"language-text\">ext4</code> : 대형 파일 시스템을 지향하는 목적으로 개발되었으며 최대 1엑사 바이트의 볼륨과 16TB 파일을 지원합니다.<br>\next3 단점을 많이 보안한 파일 시스템으로 현재까지 개발 중에 있는 파일 시스템입니다.</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ext4 시스템으로 파일시스템 설정</p>\n<p><code class=\"language-text\">mkfs</code> 명령어를 사용해서 파일시스템을 변경 할 수 있습니다.</p>\n<p><img src=\"https://k.kakaocdn.net/dn/zTAL0/btqveiq9XB2/TbA6hI64uZbB3dd7lz7lD0/img.png\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"parted-명령어로-파티션-구성\" style=\"position:relative;\"><a href=\"#parted-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%ED%8C%8C%ED%8B%B0%EC%85%98-%EA%B5%AC%EC%84%B1\" aria-label=\"parted 명령어로 파티션 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>parted 명령어로 파티션 구성</h3>\n<p><code class=\"language-text\">/dev/sdb 3TB</code> 디스크를 이용하여 작업을 진행했습니다.</p>\n<br/>\n<ul>\n<li>\n<ol>\n<li>파티션 지정 <code class=\"language-text\">[parted 디바이스, mklebel]</code></li>\n</ol>\n<p> <code class=\"language-text\">parted /dev/sdb</code> 형식으로 설정할 디스크를 지정 할 수 있습니다.</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>(parted) print all<br>\n파티션을 지정하면 <code class=\"language-text\">(parted)</code> 설정 모드로 접속하게 됩니다.<br>\n설정 모드에서 <code class=\"language-text\">print all</code> 을 입력하면 현재 디스크와 파티션에 대한 정보를 확인할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> print <span class=\"token class-name\">all</span> Error<span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb<span class=\"token punctuation\">:</span> unrecognised disk <span class=\"token class-name\">label</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span>\nDisk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb<span class=\"token punctuation\">:</span> 3001GB <span class=\"token return-type class-name\">Sector</span> size <span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> unknown <span class=\"token class-name\">Disk</span>\nFlags<span class=\"token punctuation\">:</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span> Disk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sda<span class=\"token punctuation\">:</span> 300GB <span class=\"token return-type class-name\">Sector</span> size <span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> msdos <span class=\"token class-name\">Disk</span> Flags<span class=\"token punctuation\">:</span> Number Start End Size Type File system Flags <span class=\"token number\">1</span>\n1049kB 1075MB 1074MB primary ext4 boot <span class=\"token number\">2</span> 1075MB <span class=\"token number\">11</span><span class=\"token punctuation\">.</span>8GB <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>7GB primary linux<span class=\"token operator\">-</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>v1<span class=\"token punctuation\">)</span>\n<span class=\"token number\">3</span> <span class=\"token number\">11</span><span class=\"token punctuation\">.</span>8GB 300GB 288GB primary <span class=\"token class-name\">ext4</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span> Disk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc<span class=\"token punctuation\">:</span>\n<span class=\"token number\">73</span><span class=\"token punctuation\">.</span>4GB <span class=\"token return-type class-name\">Sector</span> size <span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> msdos <span class=\"token class-name\">Disk</span> Flags<span class=\"token punctuation\">:</span> Number\nStart End Size Type File system Flags <span class=\"token number\">1</span> 1049kB <span class=\"token number\">73</span><span class=\"token punctuation\">.</span>4GB <span class=\"token number\">73</span><span class=\"token punctuation\">.</span>4GB primary xf</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">3001GB</code> 용량으로 보이는 <code class=\"language-text\">/dev/sdb</code> 디스크가 있는 것을 확인 할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> <span class=\"token keyword\">select</span> <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb\n<span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb 디스크에 설정을 하기 위해 <span class=\"token keyword\">select</span> 를 이용하여 <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb  디스크를 지정하겠습니다<span class=\"token punctuation\">.</span>\n   \n<span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> help <span class=\"token class-name\">mklabel</span> mklabel<span class=\"token punctuation\">,</span>mktable LABEL<span class=\"token operator\">-</span>TYPE create a <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">disklabel</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">partition</span> table<span class=\"token punctuation\">)</span>\nLABEL<span class=\"token operator\">-</span>TYPE <span class=\"token keyword\">is</span> <span class=\"token class-name\">one</span> of<span class=\"token punctuation\">:</span> aix<span class=\"token punctuation\">,</span> amiga<span class=\"token punctuation\">,</span> bsd<span class=\"token punctuation\">,</span> dvh<span class=\"token punctuation\">,</span> gpt<span class=\"token punctuation\">,</span> mac<span class=\"token punctuation\">,</span> msdos<span class=\"token punctuation\">,</span> pc98<span class=\"token punctuation\">,</span> sun<span class=\"token punctuation\">,</span> loop</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>파티션을 생성하기 전에 <code class=\"language-text\">디스크 라벨</code>을 변경하겠습니다.<br>\n<code class=\"language-text\">help mklabe</code> 를 입력하면 변경 가능한 라벨 목록들을 확인할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> mklabel gpt\n\nmklabel 를 이용하여 <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb 의 디스크 라벨을 GPT 로 변경하겠습니다<span class=\"token punctuation\">.</span>\n  \n<span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> <span class=\"token class-name\">p</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span> Disk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb<span class=\"token punctuation\">:</span> 3001GB <span class=\"token return-type class-name\">Sector</span> size \t\n<span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> gpt <span class=\"token class-name\">Disk</span> Flags<span class=\"token punctuation\">:</span> Number Start End Size File system Name Flags  </code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"2\">\n<li>파티션 생성 <code class=\"language-text\">[parted mkpart]</code></li>\n</ol>\n<p><code class=\"language-text\">mkpart</code> 로 파티션 생성을 진행하겠습니다.  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> mkpart Partition name<span class=\"token punctuation\">?</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">?</span> File system type<span class=\"token punctuation\">?</span> <span class=\"token punctuation\">[</span>ext2<span class=\"token punctuation\">]</span><span class=\"token punctuation\">?</span> Start<span class=\"token punctuation\">?</span> <span class=\"token number\">1</span> End<span class=\"token punctuation\">?</span> 3001GB\n\nmkpart 를 입력한 후 Partition name 과 File system type 부분은 엔터를 눌러 넘어갈 수 있습니다<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">(</span>이름 지정은 선택입니다<span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n\n그 뒤에<span class=\"token punctuation\">,</span> Start 와 End 의 용량 범위를 지정해 주시면 됩니다<span class=\"token punctuation\">.</span> \n전체 디스크 용량은 print 로 확인할 수 있습니다<span class=\"token punctuation\">.</span>\n\n<span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> <span class=\"token class-name\">print</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span> Disk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb<span class=\"token punctuation\">:</span> 3001GB <span class=\"token return-type class-name\">Sector</span> size \n<span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> gpt <span class=\"token class-name\">Disk</span> Flags<span class=\"token punctuation\">:</span> Number Start End Size File system \t\nName Flags <span class=\"token number\">1</span> 1049kB 3001GB 3001GB</code></pre></div>\n<p>파티션 설정이 완료되면 <code class=\"language-text\">print</code> 를 입력하여 파티션이 새로 생성된 것을 확인할 수 있습니다.<br>\n마지막으로 <code class=\"language-text\">quit</code> 을 이용하여 저장 후 설정 모드에서 빠져나갑니다.</p>\n</li>\n</ul>\n<br/>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%EB%A6%AC%EB%88%85%EC%8A%A4-%ED%8C%8C%ED%8B%B0%EC%85%98\">✔ 리눅스 파티션</a></li>\n<li>\n<p><a href=\"#-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%83%9D%EC%84%B1\">👌 파티션 생성</a></p>\n<ul>\n<li><a href=\"#fdisk-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%84%A4%EC%A0%95\">fdisk 명령어로 파티션 설정</a></li>\n<li><a href=\"#parted-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%ED%8C%8C%ED%8B%B0%EC%85%98-%EA%B5%AC%EC%84%B1\">parted 명령어로 파티션 구성</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 23, 2021","title":"[LINUX] - Partition","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-partition/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/linux-cron/","nextSlug":"/linux-acl/","prevSlug":"/linux-partition/"}},"staticQueryHashes":["1073350324","2938748437"]}