{"componentChunkName":"component---src-templates-blog-template-js","path":"/linux-swap/","result":{"data":{"cur":{"id":"0237d257-e5a3-57a2-82a8-5f8a341d531f","html":"<p>머리말  </p>\n<p>안녕하세요 NASA 입니다!<br>\n이번 포스트에서는 리눅스 가상메모리 즉 SWAP에 대해서 포스트 했습니다.  </p>\n<hr>\n<h2 id=\"-가상메모리\" style=\"position:relative;\"><a href=\"#-%EA%B0%80%EC%83%81%EB%A9%94%EB%AA%A8%EB%A6%AC\" aria-label=\" 가상메모리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ 가상메모리</h2>\n<br/>\n<h3 id=\"가상메모리-swap\" style=\"position:relative;\"><a href=\"#%EA%B0%80%EC%83%81%EB%A9%94%EB%AA%A8%EB%A6%AC-swap\" aria-label=\"가상메모리 swap permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>가상메모리 (SWAP)</h3>\n<p>swap 은 물리 메모리가 부족할 경우를 대비해 만든 영역입니다.<br>\n간단히 말해서 메모리 부족으로 인한 이슈를 막기위해 HDD로 확보해놓은 메모리 공간입니다.</p>\n<br/>\n<h3 id=\"swap을-쓰는-이유\" style=\"position:relative;\"><a href=\"#swap%EC%9D%84-%EC%93%B0%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"swap을 쓰는 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SWAP을 쓰는 이유?</h3>\n<ul>\n<li>\n<ol>\n<li>메모리 부족</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>멀티태스킹(스와핑, 페이징등 우선순위 프로그램의 리사이클을 위해)</li>\n</ol>\n</li>\n<li>\n<ol start=\"3\">\n<li>메모리(full) 덤핑</li>\n</ol>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>스와핑 : 전체 프로세스 주소 공간 또는 공유 할 수 없는 텍스트 데이터<br>\n세그먼트를 스왑 장치에 복사하거나 <code class=\"language-text\">한번에</code> (일반적으로 디스크) 복사하는 것을 말합니다</p>\n<ul>\n<li>swap in : 하드디스크의 프로세스를 메모리에 보내는 행위  </li>\n<li>swap out : 메모리에서 프로세스는 내보내는 행위  </li>\n<li>페이징 : 주소 공간의 하나 이상의 페이지를 복사하는 것을 말합니다.   </li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-스왑-명령어\" style=\"position:relative;\"><a href=\"#-%EC%8A%A4%EC%99%91-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\" 스왑 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👌 스왑 명령어</h2>\n<br/>\n<p>다음 명령어로 스왑 메모리에 관련된 작업을 수행 할 수 있습니다.</p>\n<ul>\n<li>스왑메모리 생성 : <code class=\"language-text\">mkswap</code>  </li>\n<li>스왑메모리 활성화 : <code class=\"language-text\">swapon</code>  </li>\n<li>스왑메모리 비활성화 : <code class=\"language-text\">swapoff</code></li>\n</ul>\n<br/>\n<p>스왑 파티션 생성 방법</p>\n<p>스왑 파티션 생성 전 아래 명령어로 스왑 영역을 확인 할 수 있습니다.</p>\n<ul>\n<li>swapon -s   </li>\n<li>free</li>\n<li>df </li>\n</ul>\n<br/>\n<h3 id=\"파티셔닝을-통한-스왑-영역-활성화\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%ED%8B%B0%EC%85%94%EB%8B%9D%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%8A%A4%EC%99%91-%EC%98%81%EC%97%AD-%ED%99%9C%EC%84%B1%ED%99%94\" aria-label=\"파티셔닝을 통한 스왑 영역 활성화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>파티셔닝을 통한 스왑 영역 활성화</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token number\">1</span><span class=\"token punctuation\">.</span> 디스크 추가 <span class=\"token punctuation\">(</span>fdisk <span class=\"token operator\">-</span>l <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc<span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> parted 명령어 사용\n<span class=\"token number\">2</span><span class=\"token punctuation\">.</span> 파티셔닝 <span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">fstype</span> <span class=\"token punctuation\">:</span> linux swap <span class=\"token punctuation\">[</span><span class=\"token number\">82</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> 파티션 타입을 LINUX SWAP으로 변경\n<span class=\"token number\">3</span><span class=\"token punctuation\">.</span> 스왑 영역 생성 <span class=\"token punctuation\">(</span>mkswap <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc3<span class=\"token punctuation\">)</span> \n<span class=\"token number\">4</span><span class=\"token punctuation\">.</span> 스왑 영역 활성화 <span class=\"token punctuation\">(</span>swapon <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc3 마운트<span class=\"token punctuation\">)</span>\n<span class=\"token number\">5</span><span class=\"token punctuation\">.</span> 활성화 시킨 SWAP을 fstab에 등록\nblkid 또는 lsblk <span class=\"token operator\">-</span>f 로 <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc3의 UUID 확인 <span class=\"token operator\">-</span> UUID로 하지 않으면 스왑이 풀림\n  \n<span class=\"token preprocessor property\"># vim /etc/fstab</span>\n구문추가<span class=\"token punctuation\">)</span> 파티션 경로 <span class=\"token punctuation\">(</span><span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc6<span class=\"token punctuation\">)</span>또는 UUID\n<span class=\"token preprocessor property\"># UUID swap swap defaults 0 0</span>\n  \n<span class=\"token number\">6</span><span class=\"token punctuation\">.</span> swapon <span class=\"token operator\">-</span>a <span class=\"token punctuation\">(</span><span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>fstab의 파일을 현재 메모리에 활성화 해서 오류 확인<span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>\nswap 을 비활성화\n\n<span class=\"token punctuation\">(</span>swapoff <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc3<span class=\"token punctuation\">)</span>   </code></pre></div>\n<br/>\n<h3 id=\"정말-간단한-swap-메모리-증설-방법\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A7%90-%EA%B0%84%EB%8B%A8%ED%95%9C-swap-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%A6%9D%EC%84%A4-%EB%B0%A9%EB%B2%95\" aria-label=\"정말 간단한 swap 메모리 증설 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정말 간단한 swap 메모리 증설 방법</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token number\">1</span><span class=\"token punctuation\">.</span> sudo dd <span class=\"token keyword\">if</span><span class=\"token operator\">=</span><span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span><span class=\"token class-name\">zero</span> of<span class=\"token operator\">=</span><span class=\"token operator\">/</span>root<span class=\"token operator\">/</span><span class=\"token class-name\">fileA</span> count<span class=\"token operator\">=</span><span class=\"token number\">4000</span> bs<span class=\"token operator\">=</span>1024k  \ndd <span class=\"token punctuation\">:</span> 블록단위로 파일을 복사<span class=\"token punctuation\">,</span>저장 하는 명령어\n\n<span class=\"token number\">2</span><span class=\"token punctuation\">.</span> sudo chmod <span class=\"token number\">600</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>fileA \n권한 설정\n     \n<span class=\"token number\">3</span><span class=\"token punctuation\">.</span> sudo mkswap <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>fileA                                  \n<span class=\"token comment\">// 해당 파일로 스왑 생성</span>\n<span class=\"token number\">4</span><span class=\"token punctuation\">.</span> sudo swapon <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>fileA\n<span class=\"token number\">5</span><span class=\"token punctuation\">.</span> fatab 등록</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%EA%B0%80%EC%83%81%EB%A9%94%EB%AA%A8%EB%A6%AC\">✔ 가상메모리</a></p>\n<ul>\n<li><a href=\"#%EA%B0%80%EC%83%81%EB%A9%94%EB%AA%A8%EB%A6%AC-swap\">가상메모리 (SWAP)</a></li>\n<li><a href=\"#swap%EC%9D%84-%EC%93%B0%EB%8A%94-%EC%9D%B4%EC%9C%A0\">SWAP을 쓰는 이유?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%8A%A4%EC%99%91-%EB%AA%85%EB%A0%B9%EC%96%B4\">👌 스왑 명령어</a></p>\n<ul>\n<li><a href=\"#%ED%8C%8C%ED%8B%B0%EC%85%94%EB%8B%9D%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%8A%A4%EC%99%91-%EC%98%81%EC%97%AD-%ED%99%9C%EC%84%B1%ED%99%94\">파티셔닝을 통한 스왑 영역 활성화</a></li>\n<li><a href=\"#%EC%A0%95%EB%A7%90-%EA%B0%84%EB%8B%A8%ED%95%9C-swap-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%A6%9D%EC%84%A4-%EB%B0%A9%EB%B2%95\">정말 간단한 swap 메모리 증설 방법</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"머리말   안녕하세요 NASA 입니다! 이번 포스트에서는 리눅스 가상메모리 즉 SWAP에 대해서 포스트 했습니다.   ✔ 가상메모리 가상메모리 (SWAP) swap 은 물리 메모리가 부족할 경우를 대비해 만든 영역입니다. 간단히 말해서 메모리 부족으로 인한 이슈를 막기위해 HDD로 확보해놓은 메모리 공간입니다. SWAP을 쓰는 이유? 메모리 부족 멀티태스킹(스와핑, 페이징등 우선순위 프로그램의 리사이클을 위해) 메모리(full) 덤핑 스와핑 : 전체 프로세스 주소 공간 또는 공유 할 수 없는 텍스트 데이터 세그먼트를 스왑 장치에 복사하거나  (일반적으로 디스크) 복사하는 것을 말합니다 swap in : 하드디스크의 프…","frontmatter":{"date":"June 23, 2021","title":"[LINUX] - SWAP","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-swap/"}},"next":{"id":"828d15a2-3535-5034-9e6d-a0f2ee856e06","html":"<p>머리말  </p>\n<p>이번 포스트에서는 리눅스 파티션에 대해서 포스트했습니다.<br>\n아마 리눅스뿐만 아니라 다른 쪽으로도 유용하게 사용할 수 있는 지식일 것입니다.</p>\n<hr>\n<h2 id=\"-리눅스-파티션\" style=\"position:relative;\"><a href=\"#-%EB%A6%AC%EB%88%85%EC%8A%A4-%ED%8C%8C%ED%8B%B0%EC%85%98\" aria-label=\" 리눅스 파티션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ 리눅스 파티션</h2>\n<p>리눅스에서 사용하는 파티션의 종류는 세 가지가 있습니다.</p>\n<br/>\n<ul>\n<li>\n<p>첫째 [Primary Partition] <code class=\"language-text\">주 영역</code> 파티션이 있습니다.</p>\n<ul>\n<li>Maximum 4개까지 생성 가능 합니다. (사용하는 용도에 맞게 1개~4개 까지 조절해서 사용)</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>둘째 [Extend Partition] <code class=\"language-text\">확장 영역</code> 파티션이 있습니다.</p>\n<ul>\n<li>Maximum 1개까지 만들 수 있습니다. (최대가 1개이기 때문에 조절해서 사용합니다.)</li>\n</ul>\n<br/>\n</li>\n<li>\n<p>셋째 [Ligical Partition] <code class=\"language-text\">논리 영역</code> 파티션이 있습니다.</p>\n<ul>\n<li>Extend Patition 안에 만들 수 있는 파티션. SCSI 한 개, 총 15개만 넘지 않는 범위에서 자유롭게 만들 수 있습니다.<br>\n그러나 12개 이상의 파티션을 만드는 것은 시스템에 좋지 않습니다.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-파티션-생성\" style=\"position:relative;\"><a href=\"#-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%83%9D%EC%84%B1\" aria-label=\" 파티션 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👌 파티션 생성</h2>\n<h3 id=\"fdisk-명령어로-파티션-설정\" style=\"position:relative;\"><a href=\"#fdisk-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%84%A4%EC%A0%95\" aria-label=\"fdisk 명령어로 파티션 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>fdisk 명령어로 파티션 설정</h3>\n<ul>\n<li>\n<ol>\n<li>fdisk -l ( 물리적으로 장착된 디스크 정보 확인 )</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/dzx1fC/btqve5Y0jEK/Ym8BGQ4C8enE6yYzkePl51/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"2\">\n<li>fdisk [디스크 장치명] ( 파티션 설정 모드로 진입합니다. )</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/B91Zs/btqvehexIkG/5ykfzKgx7hck6RVaKmKKr0/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"3\">\n<li>첫 번째 Primary Partition 256MB를 생성합니다.</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/sAxvA/btqvhuKmkRj/mI7mIOggg8ATNpEQSCQEp1/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"4\">\n<li>두 번째 Primary partition 256MB를 생성합니다.</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/boicL6/btqvgFyCLUC/KIgFBjjDNgzj75TeMCPcP0/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"5\">\n<li>세 번째 Extend Partition 512MB를 생성합니다.</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/chdcZh/btqvgF6vaa5/PPSlKCzb9KGHZiol7nZl1k/img.png\"></p>\n<br/>\n<p>p를 눌러서 세 번째 파티션도 확인해 줍니다.  </p>\n<p><img src=\"https://k.kakaocdn.net/dn/KtaKT/btqvb6dNF4C/EDU4NkiNRJznqDOMj9qPk1/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"6\">\n<li>네 번째, 다섯 번째 Logical Partition 256MB, 256MB을 생성합니다.</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/nHHCO/btqvcfPdO3i/KDK9rXghMdlkHCepj93nIk/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"7\">\n<li>현재까지 설정한 파티션 저장</li>\n</ol>\n<p><img src=\"https://k.kakaocdn.net/dn/KAxKB/btqvf37E4R1/54BMjrJQr5TWMKgU4La47K/img.png\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"8\">\n<li>파일 시스템 설정  </li>\n</ol>\n<p>리눅스 환경은 시스템에 맞게 파일 시스템 설정이 필요합니다. 리눅스 파일 시스템에는 여러 가지가 있지만<br>\n최근 주로 사용하는 파일 시스템으로 설정을 해보겠습니다.</p>\n<ul>\n<li>\n<ol>\n<li><code class=\"language-text\">FAT32</code> : 윈도우와 리눅스 둘다 상용할 수 있는 파일 시스템<br>\n대용량 NTFS 파일 시스템 이하의 환경에서 동작할 수 있는 제한 사항을 갖고 있습니다.  </li>\n</ol>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"2\">\n<li><code class=\"language-text\">ext3</code> : 보안 부분이 조금 향상된 기본 파일 시스템으로 저널링 파일 시스템 기반  </li>\n</ol>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"3\">\n<li><code class=\"language-text\">ext4</code> : 대형 파일 시스템을 지향하는 목적으로 개발되었으며 최대 1엑사 바이트의 볼륨과 16TB 파일을 지원합니다.<br>\next3 단점을 많이 보안한 파일 시스템으로 현재까지 개발 중에 있는 파일 시스템입니다.</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ext4 시스템으로 파일시스템 설정</p>\n<p><code class=\"language-text\">mkfs</code> 명령어를 사용해서 파일시스템을 변경 할 수 있습니다.</p>\n<p><img src=\"https://k.kakaocdn.net/dn/zTAL0/btqveiq9XB2/TbA6hI64uZbB3dd7lz7lD0/img.png\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"parted-명령어로-파티션-구성\" style=\"position:relative;\"><a href=\"#parted-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%ED%8C%8C%ED%8B%B0%EC%85%98-%EA%B5%AC%EC%84%B1\" aria-label=\"parted 명령어로 파티션 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>parted 명령어로 파티션 구성</h3>\n<p><code class=\"language-text\">/dev/sdb 3TB</code> 디스크를 이용하여 작업을 진행했습니다.</p>\n<br/>\n<ul>\n<li>\n<ol>\n<li>파티션 지정 <code class=\"language-text\">[parted 디바이스, mklebel]</code></li>\n</ol>\n<p> <code class=\"language-text\">parted /dev/sdb</code> 형식으로 설정할 디스크를 지정 할 수 있습니다.</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>(parted) print all<br>\n파티션을 지정하면 <code class=\"language-text\">(parted)</code> 설정 모드로 접속하게 됩니다.<br>\n설정 모드에서 <code class=\"language-text\">print all</code> 을 입력하면 현재 디스크와 파티션에 대한 정보를 확인할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> print <span class=\"token class-name\">all</span> Error<span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb<span class=\"token punctuation\">:</span> unrecognised disk <span class=\"token class-name\">label</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span>\nDisk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb<span class=\"token punctuation\">:</span> 3001GB <span class=\"token return-type class-name\">Sector</span> size <span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> unknown <span class=\"token class-name\">Disk</span>\nFlags<span class=\"token punctuation\">:</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span> Disk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sda<span class=\"token punctuation\">:</span> 300GB <span class=\"token return-type class-name\">Sector</span> size <span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> msdos <span class=\"token class-name\">Disk</span> Flags<span class=\"token punctuation\">:</span> Number Start End Size Type File system Flags <span class=\"token number\">1</span>\n1049kB 1075MB 1074MB primary ext4 boot <span class=\"token number\">2</span> 1075MB <span class=\"token number\">11</span><span class=\"token punctuation\">.</span>8GB <span class=\"token number\">10</span><span class=\"token punctuation\">.</span>7GB primary linux<span class=\"token operator\">-</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span>v1<span class=\"token punctuation\">)</span>\n<span class=\"token number\">3</span> <span class=\"token number\">11</span><span class=\"token punctuation\">.</span>8GB 300GB 288GB primary <span class=\"token class-name\">ext4</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span> Disk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc<span class=\"token punctuation\">:</span>\n<span class=\"token number\">73</span><span class=\"token punctuation\">.</span>4GB <span class=\"token return-type class-name\">Sector</span> size <span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> msdos <span class=\"token class-name\">Disk</span> Flags<span class=\"token punctuation\">:</span> Number\nStart End Size Type File system Flags <span class=\"token number\">1</span> 1049kB <span class=\"token number\">73</span><span class=\"token punctuation\">.</span>4GB <span class=\"token number\">73</span><span class=\"token punctuation\">.</span>4GB primary xf</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">3001GB</code> 용량으로 보이는 <code class=\"language-text\">/dev/sdb</code> 디스크가 있는 것을 확인 할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> <span class=\"token keyword\">select</span> <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb\n<span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb 디스크에 설정을 하기 위해 <span class=\"token keyword\">select</span> 를 이용하여 <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb  디스크를 지정하겠습니다<span class=\"token punctuation\">.</span>\n   \n<span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> help <span class=\"token class-name\">mklabel</span> mklabel<span class=\"token punctuation\">,</span>mktable LABEL<span class=\"token operator\">-</span>TYPE create a <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">disklabel</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">partition</span> table<span class=\"token punctuation\">)</span>\nLABEL<span class=\"token operator\">-</span>TYPE <span class=\"token keyword\">is</span> <span class=\"token class-name\">one</span> of<span class=\"token punctuation\">:</span> aix<span class=\"token punctuation\">,</span> amiga<span class=\"token punctuation\">,</span> bsd<span class=\"token punctuation\">,</span> dvh<span class=\"token punctuation\">,</span> gpt<span class=\"token punctuation\">,</span> mac<span class=\"token punctuation\">,</span> msdos<span class=\"token punctuation\">,</span> pc98<span class=\"token punctuation\">,</span> sun<span class=\"token punctuation\">,</span> loop</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>파티션을 생성하기 전에 <code class=\"language-text\">디스크 라벨</code>을 변경하겠습니다.<br>\n<code class=\"language-text\">help mklabe</code> 를 입력하면 변경 가능한 라벨 목록들을 확인할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> mklabel gpt\n\nmklabel 를 이용하여 <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb 의 디스크 라벨을 GPT 로 변경하겠습니다<span class=\"token punctuation\">.</span>\n  \n<span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> <span class=\"token class-name\">p</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span> Disk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb<span class=\"token punctuation\">:</span> 3001GB <span class=\"token return-type class-name\">Sector</span> size \t\n<span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> gpt <span class=\"token class-name\">Disk</span> Flags<span class=\"token punctuation\">:</span> Number Start End Size File system Name Flags  </code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"2\">\n<li>파티션 생성 <code class=\"language-text\">[parted mkpart]</code></li>\n</ol>\n<p><code class=\"language-text\">mkpart</code> 로 파티션 생성을 진행하겠습니다.  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> mkpart Partition name<span class=\"token punctuation\">?</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">?</span> File system type<span class=\"token punctuation\">?</span> <span class=\"token punctuation\">[</span>ext2<span class=\"token punctuation\">]</span><span class=\"token punctuation\">?</span> Start<span class=\"token punctuation\">?</span> <span class=\"token number\">1</span> End<span class=\"token punctuation\">?</span> 3001GB\n\nmkpart 를 입력한 후 Partition name 과 File system type 부분은 엔터를 눌러 넘어갈 수 있습니다<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">(</span>이름 지정은 선택입니다<span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n\n그 뒤에<span class=\"token punctuation\">,</span> Start 와 End 의 용량 범위를 지정해 주시면 됩니다<span class=\"token punctuation\">.</span> \n전체 디스크 용량은 print 로 확인할 수 있습니다<span class=\"token punctuation\">.</span>\n\n<span class=\"token punctuation\">(</span>parted<span class=\"token punctuation\">)</span> <span class=\"token class-name\">print</span> Model<span class=\"token punctuation\">:</span> HP <span class=\"token return-type class-name\">LOGICAL</span> VOLUME <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span> Disk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdb<span class=\"token punctuation\">:</span> 3001GB <span class=\"token return-type class-name\">Sector</span> size \n<span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> 512B<span class=\"token operator\">/</span>512B <span class=\"token class-name\">Partition</span> Table<span class=\"token punctuation\">:</span> gpt <span class=\"token class-name\">Disk</span> Flags<span class=\"token punctuation\">:</span> Number Start End Size File system \t\nName Flags <span class=\"token number\">1</span> 1049kB 3001GB 3001GB</code></pre></div>\n<p>파티션 설정이 완료되면 <code class=\"language-text\">print</code> 를 입력하여 파티션이 새로 생성된 것을 확인할 수 있습니다.<br>\n마지막으로 <code class=\"language-text\">quit</code> 을 이용하여 저장 후 설정 모드에서 빠져나갑니다.</p>\n</li>\n</ul>\n<br/>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%EB%A6%AC%EB%88%85%EC%8A%A4-%ED%8C%8C%ED%8B%B0%EC%85%98\">✔ 리눅스 파티션</a></li>\n<li>\n<p><a href=\"#-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%83%9D%EC%84%B1\">👌 파티션 생성</a></p>\n<ul>\n<li><a href=\"#fdisk-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%84%A4%EC%A0%95\">fdisk 명령어로 파티션 설정</a></li>\n<li><a href=\"#parted-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%ED%8C%8C%ED%8B%B0%EC%85%98-%EA%B5%AC%EC%84%B1\">parted 명령어로 파티션 구성</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 23, 2021","title":"[LINUX] - Partition","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-partition/"}},"prev":{"id":"662977c8-879a-59cd-8534-7d40a4356f94","html":"<p>머리말  </p>\n<p>기존 CentOS Version 5.x , 6.x 만 경험 해본 저로써는 CentOS 7버전 부터는\n다시 리눅스를 배우고 있다고 생각하게 됩니다.<br>\n이번 포스트에서는 기존 버전에서 사용하던 init 에서 바뀐 systemd에 대해 포스트 합니다.  </p>\n<hr>\n<h2 id=\"-systemd-란\" style=\"position:relative;\"><a href=\"#-systemd-%EB%9E%80\" aria-label=\" systemd 란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ SYSTEMD 란?</h2>\n<p>기존 INIT이 사라지고 새롭게 사용하는 프로세스 관리 Demon<br>\n역할 : [시스템, 로그, 서비스, 초기화 스크립트 관리 기능 수행]</p>\n<p>👌 간단 요약<br>\nSYSTEMD를 요약하면 부팅 중 시작하는 서비스(혹 데몬)들을 관리하는 것이라고 볼 수 있습니다.    </p>\n<ul>\n<li>부팅 시점에 정의한 서비스들을 병렬적으로 실행 할 수 있습니다. (init의 경우 직렬 스크립트 실행)</li>\n<li>특정 서비스 동작 후에 원하는 서비스가 동작하도록 정의 할 수 있습니다.</li>\n<li>init은 서비스 실행,중지를 <code class=\"language-text\">service service.name start | stop | restart</code> 으로 제어 합니다.<br>\n</li>\n<li>systemd는 <code class=\"language-text\">systemctl start | stop | restart unit.name</code> 으로 제어합니다.<br>\ninit은 데몬들에 <code class=\"language-text\">service</code> 라는 네이밍을 붙여 사용했고 systemd은 <code class=\"language-text\">unit</code> 이라는 이름을 붙여 사용합니다.<br>\n</li>\n<li>systemd는 <code class=\"language-text\">unit.name.service</code> 파일을 <code class=\"language-text\">systemctl enable unit.name.service or unit.name</code> 명령으로 설치합니다.<br>\n<code class=\"language-text\">systemctl enable unit.name</code> 명령어를 실행하면 관련 서비스를 <code class=\"language-text\">/etc/systemd/system/.target</code> 경로에 링크 파일을 생성하게 됩니다.<br>\n추가로 <code class=\"language-text\">systemctl disable.unit.name</code> 명령어를 실행하면 링크 파일을 삭제한다.  </li>\n<li>systemd는 최소한의 서비스를 실행시키고 병렬화해서 실행시키는데 목표를 두고 있기에 이전보다 부팅 속도가 빠른 편 입니다.  \t\t</li>\n</ul>\n<hr>\n<h2 id=\"-기능-및-특징\" style=\"position:relative;\"><a href=\"#-%EA%B8%B0%EB%8A%A5-%EB%B0%8F-%ED%8A%B9%EC%A7%95\" aria-label=\" 기능 및 특징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ 기능 및 특징</h2>\n<p>  개인적으로 중요하다고 생각 하는 기능만 요약했습니다.  </p>\n<ul>\n<li>init 프로세스에 대한 호환성 제공 [legacy방식의 Run level 사용 X]</li>\n<li>부팅 시 서비스 병렬 실행 [기존 init 의 직렬 방식 대비 효율성 UP]</li>\n<li>\n<p>Service 대신 유닛 사용 [etc/systemd/system/ 아래 유닛의 링크 존재] .Target의 경우 기존의 Run level들의 대체 파일</p>\n<p><code class=\"language-text\">ex) multi-user.target</code></p>\n</li>\n<li>Time Out [약 5분정도의 유예기간 존재]</li>\n</ul>\n<br/>\n<h3 id=\"주요-유닛파일-위치\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9A%94-%EC%9C%A0%EB%8B%9B%ED%8C%8C%EC%9D%BC-%EC%9C%84%EC%B9%98\" aria-label=\"주요 유닛파일 위치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주요 유닛파일 위치</h3>\n<br/>\n<ol>\n<li>/etc/systemd/system  </li>\n<li>/run/systemd/system  </li>\n<li>*/usr/lib/sys-temd/system</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ ls <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>systemd\nbootchart<span class=\"token punctuation\">.</span>conf journald<span class=\"token punctuation\">.</span>conf  logind<span class=\"token punctuation\">.</span>conf  system  system<span class=\"token punctuation\">.</span>conf  user  user<span class=\"token punctuation\">.</span>conf</code></pre></div>\n<br/>\n<h3 id=\"유닛의-개념\" style=\"position:relative;\"><a href=\"#%EC%9C%A0%EB%8B%9B%EC%9D%98-%EA%B0%9C%EB%85%90\" aria-label=\"유닛의 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>유닛의 개념</h3>\n<p>5.X, 6.X Version의 <code class=\"language-text\">Service 와 동일</code>합니다.  </p>\n<ul>\n<li>\n<p>유닛목록</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">service\nsocket\nbusname\ntarget\nsnapshot\ndevice\nmount\nautomount\nswap\ntimer\npath\nslice\nscope</code></pre></div>\n</li>\n</ul>\n<br/>\n<h3 id=\"서브커맨더\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B8%8C%EC%BB%A4%EB%A7%A8%EB%8D%94\" aria-label=\"서브커맨더 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서브커맨더</h3>\n<p>[systemctl subcommand [option]</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> systemctl list<span class=\"token operator\">-</span>units <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span>t<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>a 옵션 사용<span class=\"token punctuation\">]</span>\n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> systemctl list<span class=\"token operator\">-</span>units<span class=\"token operator\">-</span>files <span class=\"token punctuation\">[</span>활성화 확인<span class=\"token punctuation\">]</span>\n<span class=\"token number\">3</span><span class=\"token punctuation\">)</span> systemctl list<span class=\"token operator\">-</span>sockets <span class=\"token punctuation\">[</span>소켓확인<span class=\"token punctuation\">]</span>\n<span class=\"token number\">4</span><span class=\"token punctuation\">)</span> systemctl <span class=\"token keyword\">is</span><span class=\"token operator\">-</span>active <span class=\"token punctuation\">[</span><span class=\"token class-name\">demon</span> name<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>특정 유닛 실행 확인<span class=\"token punctuation\">]</span>\n<span class=\"token number\">5</span><span class=\"token punctuation\">)</span> systemctl <span class=\"token keyword\">is</span><span class=\"token operator\">-</span>enabled <span class=\"token punctuation\">[</span><span class=\"token class-name\">demon</span> name<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>특정 유닛 활성화 확인<span class=\"token punctuation\">]</span>\n<span class=\"token number\">6</span><span class=\"token punctuation\">)</span> systemctl list<span class=\"token operator\">-</span>dependencies <span class=\"token punctuation\">[</span><span class=\"token class-name\">demon</span> name<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>의존성 확인<span class=\"token punctuation\">]</span>\n\t\nex<span class=\"token punctuation\">)</span> systemctl status sshd\n\tsystemctl restart sshd<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<h3 id=\"sshdservice-unit-file-내용\" style=\"position:relative;\"><a href=\"#sshdservice-unit-file-%EB%82%B4%EC%9A%A9\" aria-label=\"sshdservice unit file 내용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sshd.service UNIT File 내용</h3>\n<p>cat /usr/lib/systemd/system/sshd.service [서비스 유닛 파일 내용]<br>\n<code class=\"language-text\">Unit</code>, <code class=\"language-text\">Service</code>, <code class=\"language-text\">Install</code> 3개의 필드로 나눠져있습니다.\n</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">Unit</span></span><span class=\"token punctuation\">]</span>\nDescription<span class=\"token operator\">=</span>OpenSSH server <span class=\"token class-name\">daemon</span>\nDocumentation<span class=\"token operator\">=</span>man<span class=\"token punctuation\">:</span><span class=\"token function\">sshd</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span> man<span class=\"token punctuation\">:</span><span class=\"token function\">sshd_config</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\nAfter<span class=\"token operator\">=</span>network<span class=\"token punctuation\">.</span>target sshd<span class=\"token operator\">-</span><span class=\"token class-name\">keygen<span class=\"token punctuation\">.</span>service</span>\nWants<span class=\"token operator\">=</span>sshd<span class=\"token operator\">-</span>keygen<span class=\"token punctuation\">.</span>service\n<span class=\"token punctuation\">[</span>Service<span class=\"token punctuation\">]</span>\nType<span class=\"token operator\">=</span><span class=\"token class-name\">notify</span>\nEnvironmentFile<span class=\"token operator\">=</span><span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>sysconfig<span class=\"token operator\">/</span><span class=\"token class-name\">sshd</span>\nExecStart<span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>sbin<span class=\"token operator\">/</span>sshd <span class=\"token operator\">-</span>D $<span class=\"token class-name\">OPTIONS</span>\nExecReload<span class=\"token operator\">=</span><span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>kill <span class=\"token operator\">-</span>HUP $<span class=\"token class-name\">MAINPID</span>\t\nKillMode<span class=\"token operator\">=</span><span class=\"token class-name\">process</span>\nRestart<span class=\"token operator\">=</span><span class=\"token keyword\">on</span><span class=\"token operator\">-</span><span class=\"token class-name\">failure</span>\nRestartSec<span class=\"token operator\">=</span>42s\n<span class=\"token punctuation\">[</span>Install<span class=\"token punctuation\">]</span>\nWantedBy<span class=\"token operator\">=</span>multi<span class=\"token operator\">-</span>user<span class=\"token punctuation\">.</span>target</code></pre></div>\n<hr>\n<h2 id=\"-부트-프로세스\" style=\"position:relative;\"><a href=\"#-%EB%B6%80%ED%8A%B8-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\" aria-label=\" 부트 프로세스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>😁 부트 프로세스</h2>\n<p>기존의 regacy 방식에서 부팅 시 사용되던 <code class=\"language-text\">init</code>이 <code class=\"language-text\">Systemd</code>로 변경습니다.<br>\n다만 BIOS/UEFI -> BOOT LOADER -> Kernel 메모리 적재까지는 동일합니다.  </p>\n<br/>\n<h3 id=\"최상위-pid---1-init---systemd\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%83%81%EC%9C%84-pid---1-init---systemd\" aria-label=\"최상위 pid   1 init   systemd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>최상위 PID - 1 [init] -> SYSTEMD</h3>\n<p><img src=\"https://image.slidesharecdn.com/rhel7newfeaturesystemdbooting-160327092549/95/enterprise-linux-7-new-featuresystemdbooting-28-1024.jpg?cb=1459070873\"></p>\n<br/>\n<h3 id=\"리눅스-부팅-과정-설명\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%B6%80%ED%8C%85-%EA%B3%BC%EC%A0%95-%EC%84%A4%EB%AA%85\" aria-label=\"리눅스 부팅 과정 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리눅스 부팅 과정 설명</h3>\n<p><img src=\"https://image.slidesharecdn.com/rhel7newfeaturesystemdbooting-160327092549/95/enterprise-linux-7-new-featuresystemdbooting-29-1024.jpg?cb=1459070873\"></p>\n<p><img src=\"https://image.slidesharecdn.com/rhel7newfeaturesystemdbooting-160327092549/95/enterprise-linux-7-new-featuresystemdbooting-30-1024.jpg?cb=1459070873\"></p>\n<br/>\n<h2 id=\"-run-level-변경\" style=\"position:relative;\"><a href=\"#-run-level-%EB%B3%80%EA%B2%BD\" aria-label=\" run level 변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👏 Run Level 변경</h2>\n<p>기존 init 커맨드와 달리 숫자 기반이 아닌 런 레벨에 대한 설정 세트를 통해서 런 레벨을 변경합니다.</p>\n<h3 id=\"싱글모드기존-런레벨1\" style=\"position:relative;\"><a href=\"#%EC%8B%B1%EA%B8%80%EB%AA%A8%EB%93%9C%EA%B8%B0%EC%A1%B4-%EB%9F%B0%EB%A0%88%EB%B2%A81\" aria-label=\"싱글모드기존 런레벨1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>싱글모드(기존 런레벨1)</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ systemctl rescue</code></pre></div>\n<h3 id=\"멀티유저모드기존-런레벨3\" style=\"position:relative;\"><a href=\"#%EB%A9%80%ED%8B%B0%EC%9C%A0%EC%A0%80%EB%AA%A8%EB%93%9C%EA%B8%B0%EC%A1%B4-%EB%9F%B0%EB%A0%88%EB%B2%A83\" aria-label=\"멀티유저모드기존 런레벨3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>멀티유저모드(기존 런레벨3)</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ systemctl isolate multi<span class=\"token operator\">-</span>user<span class=\"token punctuation\">.</span>target\n$ systemctl isolate runlevel3<span class=\"token punctuation\">.</span>target</code></pre></div>\n<ul>\n<li>\n<p>과거 init 시스템에 익숙한 사용자를 위해서 runlevel3 라는 이름으로<br>\nmulti-user.target 파일을 링크를 걸어두어 두가지 명령이 모두 사용가능 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ ls <span class=\"token operator\">-</span>l <span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>systemd<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>runlevel3<span class=\"token punctuation\">.</span>target\nlrwxrwxrwx<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> root root <span class=\"token number\">17</span> Oct <span class=\"token number\">21</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">28</span> <span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>systemd<span class=\"token operator\">/</span>system<span class=\"token operator\">/</span>runlevel3<span class=\"token punctuation\">.</span>target <span class=\"token operator\">-></span> multi<span class=\"token operator\">-</span>user<span class=\"token punctuation\">.</span>target</code></pre></div>\n</li>\n</ul>\n<h3 id=\"그래픽모드기존-런레벨5\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%ED%94%BD%EB%AA%A8%EB%93%9C%EA%B8%B0%EC%A1%B4-%EB%9F%B0%EB%A0%88%EB%B2%A85\" aria-label=\"그래픽모드기존 런레벨5 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래픽모드(기존 런레벨5)</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ systemctl isolate graphical<span class=\"token punctuation\">.</span>target\n$ systemctl isolate runlevel5<span class=\"token punctuation\">.</span>target</code></pre></div>\n<ul>\n<li>\n<p>멀티유저모드와 마찬가지로 2가지 명령으로 전환이 가능 합니다<br>\n실제 기존 형태의 런레벨+숫자 형태의 Target파일은 아래 링크로 연결되어 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">lrwxrwxrwx<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> root root <span class=\"token number\">15</span> Oct <span class=\"token number\">21</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">28</span> runlevel0<span class=\"token punctuation\">.</span>target <span class=\"token operator\">-></span> poweroff<span class=\"token punctuation\">.</span>target\nlrwxrwxrwx<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> root root <span class=\"token number\">13</span> Oct <span class=\"token number\">21</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">28</span> runlevel1<span class=\"token punctuation\">.</span>target <span class=\"token operator\">-></span> rescue<span class=\"token punctuation\">.</span>target\nlrwxrwxrwx<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> root root <span class=\"token number\">17</span> Oct <span class=\"token number\">21</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">28</span> runlevel2<span class=\"token punctuation\">.</span>target <span class=\"token operator\">-></span> multi<span class=\"token operator\">-</span>user<span class=\"token punctuation\">.</span>target\nlrwxrwxrwx<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> root root <span class=\"token number\">17</span> Oct <span class=\"token number\">21</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">28</span> runlevel3<span class=\"token punctuation\">.</span>target <span class=\"token operator\">-></span> multi<span class=\"token operator\">-</span>user<span class=\"token punctuation\">.</span>target\nlrwxrwxrwx<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> root root <span class=\"token number\">17</span> Oct <span class=\"token number\">21</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">28</span> runlevel4<span class=\"token punctuation\">.</span>target <span class=\"token operator\">-></span> multi<span class=\"token operator\">-</span>user<span class=\"token punctuation\">.</span>target\nlrwxrwxrwx<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> root root <span class=\"token number\">16</span> Oct <span class=\"token number\">21</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">28</span> runlevel5<span class=\"token punctuation\">.</span>target <span class=\"token operator\">-></span> graphical<span class=\"token punctuation\">.</span>target\nlrwxrwxrwx<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> root root <span class=\"token number\">13</span> Oct <span class=\"token number\">21</span> <span class=\"token number\">00</span><span class=\"token punctuation\">:</span><span class=\"token number\">28</span> runlevel6<span class=\"token punctuation\">.</span>target <span class=\"token operator\">-></span> reboot<span class=\"token punctuation\">.</span>target</code></pre></div>\n<p>즉, 시스템 종료/재부팅을 위한 런레벨도 여전히 사용가능합니다.!!</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-런레벨-기본-값-설정\" style=\"position:relative;\"><a href=\"#-%EB%9F%B0%EB%A0%88%EB%B2%A8-%EA%B8%B0%EB%B3%B8-%EA%B0%92-%EC%84%A4%EC%A0%95\" aria-label=\" 런레벨 기본 값 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🙌 런레벨 기본 값 설정</h2>\n<p>상기에서 전환하는 런레벨 Target을 아래와 같은 명령을 통해서 기본 값으로 설정 할 수 있습니다.<br>\n또한, 현재 설정된 기본 값을 확인 할 수도 있습니다.<br>\n</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ systemctl <span class=\"token keyword\">set</span><span class=\"token operator\">-</span><span class=\"token keyword\">default</span> multi<span class=\"token operator\">-</span>user<span class=\"token punctuation\">.</span>target\n$ systemctl <span class=\"token keyword\">get</span><span class=\"token operator\">-</span><span class=\"token keyword\">default</span>\nmulti<span class=\"token operator\">-</span>user<span class=\"token punctuation\">.</span>target</code></pre></div>\n<br/>\n<h2 id=\"-시스템-명령\" style=\"position:relative;\"><a href=\"#-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%AA%85%EB%A0%B9\" aria-label=\" 시스템 명령 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🎉 시스템 명령</h2>\n<p>앞서 각각의 런레벨 파일이 poweroff.target 등 으로 연결되어있는 것을 확인하였는데<br>\nisolate 명령이 아닌 시스템 명령을 통해서 해당 Target을 바로 적용하는게 가능합니다. </p>\n<ul>\n<li>\n<p>아래 몇가지 예시를 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ <span class=\"token return-type class-name\">systemctl</span> poweroff <span class=\"token punctuation\">(</span>Shutdown처리 후 Power<span class=\"token operator\">-</span>Off처리<span class=\"token punctuation\">)</span>\n$ <span class=\"token return-type class-name\">systemctl</span> emergency <span class=\"token punctuation\">(</span>Rescue와 유사하지만 root 파일시스템만 읽기전용으로 마운트한다<span class=\"token punctuation\">)</span>\n$ <span class=\"token return-type class-name\">systemctl</span> halt <span class=\"token punctuation\">(</span>Shutdown처리 후 Halt처리<span class=\"token punctuation\">)</span>\n$ <span class=\"token return-type class-name\">systemctl</span> reboot <span class=\"token punctuation\">(</span>Shutdown처리 후 리부팅처리<span class=\"token punctuation\">)</span>\n$ <span class=\"token return-type class-name\">systemctl</span> kexec <span class=\"token punctuation\">(</span>kexec를 통해서 리부팅한다<span class=\"token punctuation\">)</span>\n$ <span class=\"token return-type class-name\">systemctl</span> suspend <span class=\"token punctuation\">(</span>시스템 정지<span class=\"token punctuation\">)</span>\n$ <span class=\"token return-type class-name\">systemctl</span> hibernate <span class=\"token punctuation\">(</span>시스템 Hibernate<span class=\"token punctuation\">)</span>\n$ systemctl hybrid<span class=\"token operator\">-</span>sleep <span class=\"token punctuation\">(</span>시스템을 Hibernate하고 정지시킨다<span class=\"token punctuation\">)</span>\n\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>\n\t\n<span class=\"token operator\">%</span> System suspend 상태와 System hibernate 의 차이점<span class=\"token punctuation\">.</span>\n\t\nSuspend <span class=\"token punctuation\">:</span> 컴퓨터를 끄지 않습니다<span class=\"token punctuation\">.</span> \n컴퓨터와 모든 주변 장치를 저전력 모드로 설정합니다<span class=\"token punctuation\">.</span> \n어떤 이유로 든 배터리가 방전되거나 컴퓨터가 꺼지면 \n현재 세션 및 저장되지 않은 변경 내용이 손실됩니다\n\t\nHibernate <span class=\"token punctuation\">:</span> 컴퓨터의 상태를 하드 디스크에 저장하고 완전히 전원을 끕니다<span class=\"token punctuation\">.</span> \n다시 시작하면 저장된 상태가 RAM으로 복원됩니다<span class=\"token punctuation\">.</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<h2 id=\"-systemd-vs-sysv-run-level\" style=\"position:relative;\"><a href=\"#-systemd-vs-sysv-run-level\" aria-label=\" systemd vs sysv run level permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✨ SYSTEMD vs SYSV Run level</h2>\n<ul>\n<li>\n<p>level 2,3의 차이 : NFS 파일 시스템 사용 가능 여부 </p>\n<p><img src=\"https://image.slidesharecdn.com/rhel7newfeaturesystemdbooting-160327092549/95/enterprise-linux-7-new-featuresystemdbooting-13-1024.jpg?cb=1459070873\"></p>\n</li>\n<li>\n<h3 id=\"run-level-접속-변경\" style=\"position:relative;\"><a href=\"#run-level-%EC%A0%91%EC%86%8D-%EB%B3%80%EA%B2%BD\" aria-label=\"run level 접속 변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Run level 접속 변경</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> Bios 커널 화면에서 <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> 커맨드로 편집모드 진입<span class=\"token punctuation\">.</span>  \n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> LINUX16으로 시작하는 커널의 설정 마지막에 runlevel 구문 추가\n<span class=\"token operator\">%</span> <span class=\"token punctuation\">:</span> systemd<span class=\"token punctuation\">.</span>unit<span class=\"token operator\">=</span>rescure<span class=\"token punctuation\">.</span>target\n<span class=\"token number\">3</span><span class=\"token punctuation\">)</span> recure 모드로 접속 확인</code></pre></div>\n</li>\n<li>\n<h3 id=\"root-password-복구-방법\" style=\"position:relative;\"><a href=\"#root-password-%EB%B3%B5%EA%B5%AC-%EB%B0%A9%EB%B2%95\" aria-label=\"root password 복구 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Root Password 복구 방법</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> Bios 커널 화면에서 <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> 커맨드로 편집모드 진입<span class=\"token punctuation\">.</span>\n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> LINUX16으로 시작하는 커널설정의 마지막 rc<span class=\"token punctuation\">.</span><span class=\"token keyword\">break</span> 구문 추가\n<span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span>sysroot 리마운트\n\t  <span class=\"token operator\">-</span> mount <span class=\"token operator\">|</span> grep <span class=\"token operator\">-</span>w <span class=\"token string\">\"/sysroot\"</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>루트 마운트 확인<span class=\"token punctuation\">]</span>\n\t  <span class=\"token operator\">-</span> mount <span class=\"token operator\">-</span><span class=\"token class-name\">o</span> remount<span class=\"token punctuation\">,</span>rw <span class=\"token operator\">/</span>sysroot <span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>루트 마운트 권한 수정 <span class=\"token operator\">-</span> 현재는 권한이 없음<span class=\"token punctuation\">]</span>\n\t  <span class=\"token operator\">-</span> chroot <span class=\"token operator\">/</span>sysroot <span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>root 디렉토리 권한 변경<span class=\"token punctuation\">]</span>\n\t  <span class=\"token operator\">-</span> 패스워드 재 설정 <span class=\"token punctuation\">[</span>ROOT Shell 접속 후 passwd<span class=\"token punctuation\">]</span>\n\t  <span class=\"token operator\">-</span> touch <span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>autorerabel <span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>selinux 정책 상 다시 리라벨 설정을 해줘야 적용됨 안만들면 리로드<span class=\"token punctuation\">]</span>\n\t  <span class=\"token operator\">-</span> 재부팅 후 변경된 ROOT 패스워드 확인<span class=\"token punctuation\">.</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-systemd-%EB%9E%80\">✔ SYSTEMD 란?</a></li>\n<li>\n<p><a href=\"#-%EA%B8%B0%EB%8A%A5-%EB%B0%8F-%ED%8A%B9%EC%A7%95\">✌ 기능 및 특징</a></p>\n<ul>\n<li><a href=\"#%EC%A3%BC%EC%9A%94-%EC%9C%A0%EB%8B%9B%ED%8C%8C%EC%9D%BC-%EC%9C%84%EC%B9%98\">주요 유닛파일 위치</a></li>\n<li><a href=\"#%EC%9C%A0%EB%8B%9B%EC%9D%98-%EA%B0%9C%EB%85%90\">유닛의 개념</a></li>\n<li><a href=\"#%EC%84%9C%EB%B8%8C%EC%BB%A4%EB%A7%A8%EB%8D%94\">서브커맨더</a></li>\n<li><a href=\"#sshdservice-unit-file-%EB%82%B4%EC%9A%A9\">sshd.service UNIT File 내용</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EB%B6%80%ED%8A%B8-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\">😁 부트 프로세스</a></p>\n<ul>\n<li><a href=\"#%EC%B5%9C%EC%83%81%EC%9C%84-pid---1-init---systemd\">최상위 PID - 1 init -> SYSTEMD</a></li>\n<li><a href=\"#%EB%A6%AC%EB%88%85%EC%8A%A4-%EB%B6%80%ED%8C%85-%EA%B3%BC%EC%A0%95-%EC%84%A4%EB%AA%85\">리눅스 부팅 과정 설명</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-run-level-%EB%B3%80%EA%B2%BD\">👏 Run Level 변경</a></p>\n<ul>\n<li><a href=\"#%EC%8B%B1%EA%B8%80%EB%AA%A8%EB%93%9C%EA%B8%B0%EC%A1%B4-%EB%9F%B0%EB%A0%88%EB%B2%A81\">싱글모드(기존 런레벨1)</a></li>\n<li><a href=\"#%EB%A9%80%ED%8B%B0%EC%9C%A0%EC%A0%80%EB%AA%A8%EB%93%9C%EA%B8%B0%EC%A1%B4-%EB%9F%B0%EB%A0%88%EB%B2%A83\">멀티유저모드(기존 런레벨3)</a></li>\n<li><a href=\"#%EA%B7%B8%EB%9E%98%ED%94%BD%EB%AA%A8%EB%93%9C%EA%B8%B0%EC%A1%B4-%EB%9F%B0%EB%A0%88%EB%B2%A85\">그래픽모드(기존 런레벨5)</a></li>\n</ul>\n</li>\n<li><a href=\"#-%EB%9F%B0%EB%A0%88%EB%B2%A8-%EA%B8%B0%EB%B3%B8-%EA%B0%92-%EC%84%A4%EC%A0%95\">🙌 런레벨 기본 값 설정</a></li>\n<li><a href=\"#-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%AA%85%EB%A0%B9\">🎉 시스템 명령</a></li>\n<li><a href=\"#-systemd-vs-sysv-run-level\">✨ SYSTEMD vs SYSV Run level</a></li>\n</ul>\n</div>","frontmatter":{"date":"June 23, 2021","title":"[LINUX] - SYSTEMD","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-systemd/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/linux-swap/","nextSlug":"/linux-partition/","prevSlug":"/linux-systemd/"}},"staticQueryHashes":["1073350324","2938748437"]}