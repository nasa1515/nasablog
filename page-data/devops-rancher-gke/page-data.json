{"componentChunkName":"component---src-templates-blog-template-js","path":"/devops-rancher-gke/","result":{"data":{"cur":{"id":"3530a618-aa45-5512-8771-62a86a0ea7dc","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì•ˆë…•í•˜ì„¸ìš” NASAì…ë‹ˆë‹¤!!.<br>\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Open Sourceì¸ Rancherë¥¼ ì´ìš©í•œ k8s í´ëŸ¬ìŠ¤í„° êµ¬ì¶•ì— ëŒ€í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤<br>\nì´ì „ í¬ìŠ¤íŠ¸ì™€ ë‹¤ë¥¸ì ì€ ì´ì „ì—ëŠ” ì´ë¯¸ êµ¬ì„±ë˜ì–´ìˆëŠ” í´ëŸ¬ìŠ¤í„°ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´ ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” GKEë¥¼ ì‚¬ìš©í–ˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤!!</p>\n<hr>\n<ul>\n<li>ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  </li>\n<li>docker, Rancher (GKE)</li>\n<li>k8s</li>\n</ul>\n<hr>\n<h2 id=\"-í™˜ê²½êµ¬ì„±\" style=\"position:relative;\"><a href=\"#-%ED%99%98%EA%B2%BD%EA%B5%AC%EC%84%B1\" aria-label=\" í™˜ê²½êµ¬ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” í™˜ê²½êµ¬ì„±</h2>\n<p>í™˜ê²½êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95834575-1c7b2080-0d78-11eb-8aad-5a7ea4701c4a.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 17-18-15\"></p>\n<p>Rancher : Rancher masterê°€ ë„ì›Œì ¸ìˆëŠ” Cluster ê´€ë¦¬ ì„œë²„<br>\nJenkins : ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œ ì„¤ì •í•œ CI ì‘ë™ ì„œë²„<br>\ngke : GKE í´ëŸ¬ìŠ¤í„° ë…¸ë“œ</p>\n<br/>\n<hr>\n<h3 id=\"gke-service---rancher-ì„œë¹„ìŠ¤-êµ¬ì¶•\" style=\"position:relative;\"><a href=\"#gke-service---rancher-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%EC%B6%95\" aria-label=\"gke service   rancher ì„œë¹„ìŠ¤ êµ¬ì¶• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GKE SERVICE - Rancher ì„œë¹„ìŠ¤ êµ¬ì¶•.</h3>\n<ul>\n<li>Rancherë¡œ í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ ë‘ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.</li>\n<li>ì´ë²ˆ í¬ìŠ¤íŠ¸ì˜ ê²½ìš° GCP ë¬´ë£Œ ê³„ì •ì´ë‹¤ë³´ë‹ˆ Rancherë¡œ í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ê¸°ì— ì–´ë ¤ì›€ì´ ìˆìŠµë‹ˆë‹¤.<br>\ní• ë‹¹ëŸ‰ ì œí•œâ€¦ã… ã…  ê·¸ë˜ì„œ ìµœì†Œí•œìœ¼ë¡œ êµ¬ì¶•í•œ í´ëŸ¬ìŠ¤í„°ë¥¼ ì—°ë™í•˜ê² ìŠµë‹ˆë‹¤.</li>\n</ul>\n<br/>\n<h3 id=\"1-rancherë¡œ-gke-ìƒì„±\" style=\"position:relative;\"><a href=\"#1-rancher%EB%A1%9C-gke-%EC%83%9D%EC%84%B1\" aria-label=\"1 rancherë¡œ gke ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Rancherë¡œ GKE ìƒì„±</h3>\n<ul>\n<li>\n<p>GCP -> GKEì—ì„œ í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95825037-3d894480-0d6b-11eb-954b-0e5212ac4db8.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 15-46-04\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë‹¤ìŒê³¼ ê°™ì´ ê¸°ë³¸ì‚¬ì–‘ìœ¼ë¡œ GKE í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95826118-cfde1800-0d6c-11eb-8bc6-40113f29bdb6.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 15-57-33\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±í•œ ë…¸ë“œ ì •ë³´ë¥¼ Cloud Shellì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95826246-f9973f00-0d6c-11eb-9661-14600ea38666.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 15-58-43\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>ì´ì œ Rancher ì¸ìŠ¤í„´ìŠ¤ì™€ ì—°ë™í•´ë³´ê² ìŠµë‹ˆë‹¤.</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Rancher ëŒ€ì‰¬ë³´ë“œì—ì„œ Cluster -> ADD Cluster ì„ íƒ!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95835703-88aa5400-0d79-11eb-82ed-f61e8d0dea45.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 17-28-35\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì €í¬ê°€ ì¶”ê°€ í•  ê²ƒì€ GKEì´ê¸° ë–„ë¬¸ì— GKEë¥¼ ì„ íƒ</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95838368-a6c58380-0d7c-11eb-8344-e9a58e49bc86.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 17-29-41\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ëŸ¼ ë‹¤ìŒê³¼ ê°™ì€ ì„¤ì • íƒ­ì´ ë‚˜ì˜µë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95838892-4a169880-0d7d-11eb-84fe-2a8387557a44.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 17-55-29\"></p>\n<p>í•´ë‹¹ ì„¤ì •íŒŒì¼ì—ì„œ ì´ë¦„ì€ ìƒê´€ì—†ê³ , Service Accountë§Œ ì‹ ê²½ì“°ë©´ ë©ë‹ˆë‹¤.<br>\nService Accountë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•´ì„œ ì•„ë˜ ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤.</p>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>GCPì—ì„œ JSONíŒŒì¼ í˜•íƒœì˜ ì¸ì¦í‚¤ë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95836229-2867e200-0d7a-11eb-9ce2-7f1371e9fe11.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 17-33-04\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ëŸ¼ ì•„ë˜ì™€ ê°™ì€ ì‹ì˜ JSON íŒŒì¼ í˜•ì‹ì˜ í‚¤ê°€ LOCALì— ë‹¤ìš´ë°›ì•„ì§‘ë‹ˆë‹¤!!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95836300-3f0e3900-0d7a-11eb-9b66-7b7e505ad580.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 17-33-40\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>í•´ë‹¹ íŒŒì¼ì„ ì—…ë¡œë“œ í•´ì£¼ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì´ í´ëŸ¬ìŠ¤í„° í™˜ê²½ ì„¤ì • íƒ­ì´ ë‚˜ì˜µë‹ˆë‹¤!!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95836441-66fd9c80-0d7a-11eb-807e-66cc75f0095a.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 17-34-49\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì„¸ë¶€ ì„¤ì •ë“¤ì„ ì„¤ì • í›„ CREATEë¥¼ ëˆ„ë¥´ë©´ ì•„ë˜ì™€ ê°™ì´ í´ëŸ¬ìŠ¤í„°ê°€ ìƒì„± ë©ë‹ˆë‹¤.!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95839731-50f1db00-0d7e-11eb-9562-b5e45eefe3e7.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 18-02-50\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"2-êµ¬ì„±ë˜ì–´ìˆëŠ”-gke-ì—°ë™\" style=\"position:relative;\"><a href=\"#2-%EA%B5%AC%EC%84%B1%EB%90%98%EC%96%B4%EC%9E%88%EB%8A%94-gke-%EC%97%B0%EB%8F%99\" aria-label=\"2 êµ¬ì„±ë˜ì–´ìˆëŠ” gke ì—°ë™ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. êµ¬ì„±ë˜ì–´ìˆëŠ” GKE ì—°ë™</h3>\n<br/>\n<ul>\n<li>\n<p>ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆëŠ” GKE í´ëŸ¬ìŠ¤í„°ë¥¼ ì¶”ê°€í•´ì¤ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95843414-a4febe80-0d82-11eb-879b-6850a7bf361c.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 17-42-11\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ìœ„ ë©”ë‰´ë¡œ ë“¤ì–´ê°€ ê¸°ë³¸ì„¤ì •ì„ ë§ˆì¹˜ë©´ ì•„ë˜ì™€ ê°™ì´ ë…¸ë“œë¡œ ì—°ê²°í•˜ëŠ” ëª…ë ¹ì–´ê°€ ë‚˜ì˜µë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95843898-353d0380-0d83-11eb-8f8d-a5f020473aca.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 18-34-37\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>GCLOU Shellì—ì„œ í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ ì…ë ¥!</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">h43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">~</span> <span class=\"token punctuation\">(</span>nasa1515<span class=\"token punctuation\">)</span>$ curl <span class=\"token operator\">--</span>insecure <span class=\"token operator\">-</span><span class=\"token class-name\">sfL</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">34.64</span><span class=\"token number\">.79</span><span class=\"token number\">.179</span><span class=\"token operator\">/</span>v3<span class=\"token operator\">/</span>import<span class=\"token operator\">/</span>qw6zts2kzgshvwr5bl62bxn5vpghcdmxwmdskp5xgmfjhc6596v7bx<span class=\"token punctuation\">.</span>yaml <span class=\"token operator\">|</span> kubectl apply <span class=\"token operator\">-</span>f <span class=\"token operator\">-</span>\nclusterrole<span class=\"token punctuation\">.</span>rbac<span class=\"token punctuation\">.</span>authorization<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>proxy<span class=\"token operator\">-</span>clusterrole<span class=\"token operator\">-</span>kubeapiserver created\nclusterrolebinding<span class=\"token punctuation\">.</span>rbac<span class=\"token punctuation\">.</span>authorization<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>proxy<span class=\"token operator\">-</span>role<span class=\"token operator\">-</span>binding<span class=\"token operator\">-</span>kubernetes<span class=\"token operator\">-</span>master created\n<span class=\"token keyword\">namespace</span><span class=\"token operator\">/</span>cattle<span class=\"token operator\">-</span>system created\nserviceaccount<span class=\"token operator\">/</span>cattle created\nclusterrolebinding<span class=\"token punctuation\">.</span>rbac<span class=\"token punctuation\">.</span>authorization<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>cattle<span class=\"token operator\">-</span>admin<span class=\"token operator\">-</span>binding created\nsecret<span class=\"token operator\">/</span>cattle<span class=\"token operator\">-</span>credentials<span class=\"token operator\">-</span>61fa6cb created\nclusterrole<span class=\"token punctuation\">.</span>rbac<span class=\"token punctuation\">.</span>authorization<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>cattle<span class=\"token operator\">-</span>admin created\ndeployment<span class=\"token punctuation\">.</span>apps<span class=\"token operator\">/</span>cattle<span class=\"token operator\">-</span>cluster<span class=\"token operator\">-</span>agent created</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì ì‹œ APIê°€ ì—°ë™ë˜ëŠ” ì‹œê°„ì„ ê¸°ë‹¤ë¦¬ë©´ ì•„ë˜ì™€ ê°™ì´ í´ëŸ¬ìŠ¤í„°ê°€ ì—°ë™ ë©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95844827-54886080-0d84-11eb-8106-b48eccb53ef7.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 18-45-48\"></p>\n</li>\n</ul>\n<br/>\n<p><code class=\"language-text\">ì´ì œ ê¸°ë³¸ì ì¸ Rancher í´ëŸ¬ìŠ¤í„° í™˜ê²½ êµ¬ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.</code></p>\n<br/>\n<hr>\n<h3 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h3>\n<p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Rancherë¥¼ ì‚¬ìš©í•´ì„œ GKE k8s í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ëŠ” ë²•ì„ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤.<br>\nì“°ë©´ ì“¸ìˆ˜ë¡ ë©€í‹°í´ë¼ìš°ë“œì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì— ì•„ì£¼ ì í•©í•œ íˆ´ì¸ ê²ƒì„ ëŠë¼ê³  ìˆìœ¼ë‚˜<br>\ní•œêµ­ì—ì„œëŠ” ë§ì´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ìœ ë¥¼ ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.<br>\ní•´ì™¸ ìŠ¤íƒì„ ë“¤ì–´ê°€ë³´ë©´ SPINNAKER vs Rancherì˜ êµ¬ë„ë¡œ ì‚¬ëŒë“¤ì´ ë§ì´ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°<br>\ní•œêµ­ì—ì„œëŠ” SPINNAKERê°€ ì£¼ë¥¼ ì´ë£¨ê³  ìˆë„¤ìš”â€¦ì•„ì‰½ìŠµë‹ˆë‹¤   </p>\n<p>ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—ëŠ” Rancher ìœ„ì— Argo-CDë¥¼ ì˜¬ë ¤ì„œ ë°°í¬ë¥¼ ìë™í™” í•´ë´…ì‹œë‹¤!</p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%ED%99%98%EA%B2%BD%EA%B5%AC%EC%84%B1\">âœ” í™˜ê²½êµ¬ì„±</a></p>\n<ul>\n<li><a href=\"#gke-service---rancher-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%EC%B6%95\">GKE SERVICE - Rancher ì„œë¹„ìŠ¤ êµ¬ì¶•.</a></li>\n<li><a href=\"#1-rancher%EB%A1%9C-gke-%EC%83%9D%EC%84%B1\">1. Rancherë¡œ GKE ìƒì„±</a></li>\n<li><a href=\"#2-%EA%B5%AC%EC%84%B1%EB%90%98%EC%96%B4%EC%9E%88%EB%8A%94-gke-%EC%97%B0%EB%8F%99\">2. êµ¬ì„±ë˜ì–´ìˆëŠ” GKE ì—°ë™</a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"ë¨¸ë¦¬ë§   ì•ˆë…•í•˜ì„¸ìš” NASAì…ë‹ˆë‹¤!!. ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Open Sourceì¸ Rancherë¥¼ ì´ìš©í•œ k8s í´ëŸ¬ìŠ¤í„° êµ¬ì¶•ì— ëŒ€í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤ ì´ì „ í¬ìŠ¤íŠ¸ì™€ ë‹¤ë¥¸ì ì€ ì´ì „ì—ëŠ” ì´ë¯¸ êµ¬ì„±ë˜ì–´ìˆëŠ” í´ëŸ¬ìŠ¤í„°ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´ ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” GKEë¥¼ ì‚¬ìš©í–ˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤!! ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.   docker, Rancher (GKE) k8s âœ” í™˜ê²½êµ¬ì„± í™˜ê²½êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 17-18-15 Rancher : Rancher masterê°€ ë„ì›Œì ¸ìˆëŠ” Cluster ê´€ë¦¬ ì„œë²„ Jenkins : ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œ ì„¤ì •í•œ CI ì‘ë™ ì„œë²„ gke : GKE í´ëŸ¬ìŠ¤í„° ë…¸ë“œ GKE SERVâ€¦","frontmatter":{"date":"August 06, 2021","title":"[DEVOPS] - GKE Clusterë¥¼ Rancherì— ì—°ë™í•˜ê¸°","categories":"DevOps GCP","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/devops-rancher-gke/"}},"next":{"id":"369278cb-c762-599f-ba00-0a2a53a49b54","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì•ˆë…•í•˜ì„¸ìš” NASAì…ë‹ˆë‹¤!!.<br>\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Open Sourceì¸ Rancherë¥¼ ì´ìš©í•œ k8s í´ëŸ¬ìŠ¤í„° êµ¬ì¶•ì— ëŒ€í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤  </p>\n<hr>\n<ul>\n<li>ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  </li>\n<li>Rancher (GCP INSTANCE)</li>\n<li>k8s (GKE), ON-PREë¡œ êµ¬ì„±ëœ í´ëŸ¬ìŠ¤í„°</li>\n<li>ARgoCD</li>\n</ul>\n<hr>\n<br/>\n<h2 id=\"-ranche-í™˜ê²½ìœ¼ë¡œ-ì„œë¹„ìŠ¤-êµ¬ì¶•ì„-í•´ë´…ì‹œë‹¤\" style=\"position:relative;\"><a href=\"#-ranche-%ED%99%98%EA%B2%BD%EC%9C%BC%EB%A1%9C-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%EC%B6%95%EC%9D%84-%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\" ranche í™˜ê²½ìœ¼ë¡œ ì„œë¹„ìŠ¤ êµ¬ì¶•ì„ í•´ë´…ì‹œë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” RANCHE í™˜ê²½ìœ¼ë¡œ ì„œë¹„ìŠ¤ êµ¬ì¶•ì„ í•´ë´…ì‹œë‹¤.</h2>\n<p>RancherëŠ” Rancher Labsì—ì„œ ê°œë°œí•œ ì˜¤í”ˆ ì†ŒìŠ¤ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í”Œë«í¼<br>\nRancher 2.0(í˜„ì¬ ë²„ì „)ì€ Kubernetes ê¸°ë°˜ìœ¼ë¡œ ê°œë°œë˜ì—ˆìœ¼ë©° ê¸°ì¡´ ì˜¨í”„ë ˆë¯¸ìŠ¤ í™˜ê²½ì„<br>\në¹„ë¡¯í•œ ë©€í‹° í´ë¼ìš°ë“œ í™˜ê²½ì„ í†µí•© ê´€ì œí•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤. </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96835487-99944d00-147e-11eb-883d-602a97991ed7.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-22 15-52-21\"></p>\n<br/>\n<hr>\n<h3 id=\"rancherë¡œ-k8s-í´ëŸ¬ìŠ¤í„°-êµ¬ì„±\" style=\"position:relative;\"><a href=\"#rancher%EB%A1%9C-k8s-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EA%B5%AC%EC%84%B1\" aria-label=\"rancherë¡œ k8s í´ëŸ¬ìŠ¤í„° êµ¬ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RANCHERë¡œ K8S í´ëŸ¬ìŠ¤í„° êµ¬ì„±</h3>\n<br/>\n<ul>\n<li>\n<p>DOCKER ì„¤ì¹˜ [ì „ ë…¸ë“œ ë™ì¼í•˜ê²Œ ì§„í–‰]</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum repository ì„¤ì • ì¶”ê°€\n$ sudo yum install <span class=\"token operator\">-</span>y yum<span class=\"token operator\">-</span>utils device<span class=\"token operator\">-</span>mapper<span class=\"token operator\">-</span>persistent<span class=\"token operator\">-</span>data lvm2\n$ sudo yum<span class=\"token operator\">-</span>config<span class=\"token operator\">-</span>manager <span class=\"token operator\">--</span><span class=\"token keyword\">add</span><span class=\"token operator\">-</span><span class=\"token class-name\">repo</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>download<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>linux<span class=\"token operator\">/</span>centos<span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>ce<span class=\"token punctuation\">.</span>repo</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë„ì»¤ ì„¤ì¹˜</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">sudo yum <span class=\"token operator\">-</span>y install docker<span class=\"token operator\">-</span>ce docker<span class=\"token operator\">-</span>ce<span class=\"token operator\">-</span>cli containerd<span class=\"token punctuation\">.</span>io</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë„ì»¤ ì„¤ì¹˜ í™•ì¸</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">sudo systemctl start docker\nsudo systemctl enable docker\nsudo docker <span class=\"token class-name\">version</span>\nClient<span class=\"token punctuation\">:</span> Docker Engine <span class=\"token operator\">-</span> <span class=\"token class-name\">Community</span>\nVersion<span class=\"token punctuation\">:</span>           <span class=\"token number\">19.03</span><span class=\"token number\">.13</span>\n<span class=\"token class-name\">API</span> version<span class=\"token punctuation\">:</span>       <span class=\"token number\">1.40</span>\n<span class=\"token class-name\">Go</span> version<span class=\"token punctuation\">:</span>        go1<span class=\"token punctuation\">.</span><span class=\"token number\">13.15</span>\n<span class=\"token class-name\">Git</span> commit<span class=\"token punctuation\">:</span>        4484c46d9d\nBuilt<span class=\"token punctuation\">:</span>             Wed Sep <span class=\"token number\">16</span> <span class=\"token number\">17</span><span class=\"token punctuation\">:</span><span class=\"token number\">03</span><span class=\"token punctuation\">:</span><span class=\"token number\">45</span> <span class=\"token number\">2020</span>\nOS<span class=\"token operator\">/</span>Arch<span class=\"token punctuation\">:</span>           linux<span class=\"token operator\">/</span><span class=\"token class-name\">amd64</span>\nExperimental<span class=\"token punctuation\">:</span>      <span class=\"token class-name\">false</span>\n\nServer<span class=\"token punctuation\">:</span> Docker Engine <span class=\"token operator\">-</span> <span class=\"token class-name\">Community</span>\nEngine<span class=\"token punctuation\">:</span>\nVersion<span class=\"token punctuation\">:</span>          <span class=\"token number\">19.03</span><span class=\"token number\">.13</span>\n<span class=\"token class-name\">API</span> version<span class=\"token punctuation\">:</span>      <span class=\"token number\">1.40</span> <span class=\"token punctuation\">(</span>minimum version <span class=\"token number\">1.12</span><span class=\"token punctuation\">)</span>\n<span class=\"token class-name\">Go</span> version<span class=\"token punctuation\">:</span>       go1<span class=\"token punctuation\">.</span><span class=\"token number\">13.15</span>\n<span class=\"token class-name\">Git</span> commit<span class=\"token punctuation\">:</span>       4484c46d9d\nBuilt<span class=\"token punctuation\">:</span>            Wed Sep <span class=\"token number\">16</span> <span class=\"token number\">17</span><span class=\"token punctuation\">:</span><span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">21</span> <span class=\"token number\">2020</span>\nOS<span class=\"token operator\">/</span>Arch<span class=\"token punctuation\">:</span>          linux<span class=\"token operator\">/</span><span class=\"token class-name\">amd64</span>\nExperimental<span class=\"token punctuation\">:</span>     <span class=\"token class-name\">false</span>\ncontainerd<span class=\"token punctuation\">:</span>\nVersion<span class=\"token punctuation\">:</span>          <span class=\"token number\">1.3</span><span class=\"token number\">.7</span>\nGitCommit<span class=\"token punctuation\">:</span>        8fba4e9a7d01810a393d5d25a3621dc101981175\nrunc<span class=\"token punctuation\">:</span>\nVersion<span class=\"token punctuation\">:</span>          <span class=\"token number\">1.0</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span><span class=\"token class-name\">rc10</span>\nGitCommit<span class=\"token punctuation\">:</span>        dc9208a3303feef5b3839f4323d9beb36df0a9dd\ndocker<span class=\"token operator\">-</span>init<span class=\"token punctuation\">:</span>\nVersion<span class=\"token punctuation\">:</span>          <span class=\"token number\">0.18</span><span class=\"token number\">.0</span>\nGitCommit<span class=\"token punctuation\">:</span>        fec3683</code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"docker-in-rancher\" style=\"position:relative;\"><a href=\"#docker-in-rancher\" aria-label=\"docker in rancher permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker in RANCHER</h3>\n<p>ë‹¤ë§Œ!!! ê·¸ì „ì— ì‚¬ì „ì¤€ë¹„ê°€ ìˆìŠµë‹ˆë‹¤</p>\n<p>WDI í™˜ê²½ì—ì„œ rancherë¥¼ í†µí•´ k8s í´ëŸ¬ìŠ¤í„°ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ì„œ, ë³´ì•ˆì •ì±…ì— ì¶”ê°€ port ì˜¤í”ˆì´ í•„ìš”í•©ë‹ˆë‹¤.   </p>\n<p>RANCHERì— ì‚¬ìš©ë˜ëŠ” í¬íŠ¸ëŠ” <a href=\"https://rancher.com/docs/rancher/v2.x/en/installation/references/\">ê³µì‹ ë¬¸ì„œ</a>ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p>ë³´ì•ˆ ì •ì±…ì—ì„œ inbound í¬íŠ¸ë¥¼ í—ˆìš©í•˜ë„ë¡ ë“±ë¡í•©ë‹ˆë‹¤.<br>\nê·¸ëŸ¬ë‚˜ ì €ì˜ ê²½ìš° Firewallì„ ì¢…ë£Œí•˜ëŠ” ê²ƒìœ¼ë¡œ ë§ˆë¬´ë¦¬ í–ˆìŠµë‹ˆë‹¤..<br>\në‹¤ë§Œ GCPì˜ í™˜ê²½ì¼ ê²½ìš° GCPì˜ ë°©í™”ë²½ì—ì„œëŠ” ì—´ì—¬ì¤˜ì•¼ í•©ë‹ˆë‹¤! </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token number\">2376</span> TCP\n<span class=\"token number\">2379</span><span class=\"token operator\">-</span><span class=\"token number\">2380</span> TCP\n<span class=\"token number\">8472</span> UDP\n<span class=\"token number\">9099</span> TCP\n<span class=\"token number\">6783</span> TCP\n<span class=\"token number\">6783</span><span class=\"token operator\">-</span><span class=\"token number\">6784</span> UDP\n<span class=\"token number\">10250</span> TCP\n<span class=\"token number\">10254</span> TCP\n<span class=\"token number\">30000</span><span class=\"token operator\">-</span><span class=\"token number\">32767</span> TCP<span class=\"token operator\">/</span>UDP</code></pre></div>\n<br/>\n<hr>\n<h3 id=\"ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98\" aria-label=\"ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„¤ì¹˜</h3>\n<p><a href=\"https://rancher.com/docs/rancher/v2.x/en/installation/single-node/\">ê³µì‹ë¬¸ì„œ</a>  </p>\n<p>ì €ì˜ ê²½ìš° nasa-master : rancher ë©”ì¸ ì„œë²„ë¥¼ í•œëŒ€ë§Œ ì‚¬ìš©í•˜ê³ <br>\në‚˜ë¨¸ì§€ nasa-node1-2 : agentë¡œ ì „ì²´ ì„œë²„ì— ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ë¡œ ì§„í–‰í•  ì˜ˆì •í–ˆìŠµë‹ˆë‹¤.  </p>\n<br/>\n<ul>\n<li>\n<p>MASTER ì„œë²„ Rancher Server ì„¤ì¹˜</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">docker run <span class=\"token operator\">-</span>d <span class=\"token operator\">--</span>restart<span class=\"token operator\">=</span>unless<span class=\"token operator\">-</span>stopped \\\n<span class=\"token operator\">--</span>privileged <span class=\"token operator\">-</span>p <span class=\"token number\">80</span><span class=\"token punctuation\">:</span><span class=\"token number\">80</span> <span class=\"token operator\">-</span>p <span class=\"token number\">443</span><span class=\"token punctuation\">:</span><span class=\"token number\">443</span> \\\n<span class=\"token operator\">-</span>v <span class=\"token operator\">/</span>host<span class=\"token operator\">/</span>certs<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>container<span class=\"token operator\">/</span>certs \\\n<span class=\"token operator\">-</span><span class=\"token class-name\">e</span> SSL_CERT_DIR<span class=\"token operator\">=</span><span class=\"token string\">\"/container/certs\"</span> \\\nrancher<span class=\"token operator\">/</span>rancher<span class=\"token punctuation\">:</span>latest</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê°„ë‹¨í•˜ê²Œ ì„¤ì¹˜ë¥¼ í•˜ë©´ GCPì˜ External Ipë¡œ ëŒ€ì‰¬ë³´ë“œ ì ‘ê·¼ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/94093474-3f40a600-fe58-11ea-96a4-f39b52a40e5c.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-24 11-22-26\">\nì´í›„ ê´€ë¦¬ì PWD ì„¤ì •ë“±ì„ ë§ˆë¬´ë¦¬ í•´ì¤ì‹œë‹¤</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"ì´ì œ-k8s-í´ëŸ¬ìŠ¤í„°ë¥¼-ìƒì„±-í›„-ë…¸ë“œë¥¼-ì—°ê²°-í•´ë´…ì‹œë‹¤\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%9C-k8s-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A5%BC-%EC%83%9D%EC%84%B1-%ED%9B%84-%EB%85%B8%EB%93%9C%EB%A5%BC-%EC%97%B0%EA%B2%B0-%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\"ì´ì œ k8s í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„± í›„ ë…¸ë“œë¥¼ ì—°ê²° í•´ë´…ì‹œë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì´ì œ K8S í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„± í›„ ë…¸ë“œë¥¼ ì—°ê²° í•´ë´…ì‹œë‹¤</h3>\n<br/>\n<ul>\n<li>\n<p>Clusters > Add Cluster<br>\ní´ëŸ¬ìŠ¤í„° ìœ í˜• Custom, Cluster ì œê³µì Custom ë‚˜ë¨¸ì§€ ì˜µì…˜ì€ ê¸°ë³¸ ê°’ìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/94103036-80dc4b80-fe6e-11ea-97a0-8e337e937af2.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-24 14-01-52\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>ê¸°ë³¸ êµ¬ì„±ì„ ë§ˆì¹˜ë©´ Clusterì˜ Nodeë¥¼ ì¶”ê°€ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n<img src=\"https://user-images.githubusercontent.com/69498804/94102680-a9177a80-fe6d-11ea-8817-c3ce799320ec.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-24 13-55-47\">\nìœ„ì—ì„œ ê° Nodeì˜ ì—­í•  ë³„ ì²´í¬ë°•ìŠ¤ì— ì²´í¬ í›„ ì•„ë˜ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶™í˜€ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤.<br>\nì¶”ê°€ë¡œ <code class=\"language-text\">Show Advance options</code> tabì—ì„œ Nodeì˜ IP, ì´ë¦„ì„ ì¶”ê°€ë¡œ ì„¤ì • ê°€ëŠ¥í•©ë‹ˆë‹¤</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì €ì˜ ê²½ìš° MasterëŠ” ALL, Node1-2ëŠ” Workerë¡œ ì‚¬ìš©í•  ê²ë‹ˆë‹¤ </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@rancher<span class=\"token operator\">-</span>node2 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># sudo docker run <span class=\"token operator\">-</span>d <span class=\"token operator\">--</span>privileged <span class=\"token operator\">--</span>restart<span class=\"token operator\">=</span>unless<span class=\"token operator\">-</span>stopped <span class=\"token operator\">--</span>net<span class=\"token operator\">=</span>host <span class=\"token operator\">-</span>v <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>kubernetes<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>kubernetes <span class=\"token operator\">-</span>v <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>run<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>run rancher<span class=\"token operator\">/</span>rancher<span class=\"token operator\">-</span>agent<span class=\"token punctuation\">:</span>v2<span class=\"token punctuation\">.</span><span class=\"token number\">4.8</span> <span class=\"token operator\">--</span><span class=\"token class-name\">server</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">34.64</span><span class=\"token number\">.79</span><span class=\"token number\">.179</span> <span class=\"token operator\">--</span>token rpkc8zzs7mvzq4ng8lszpp5ncpfvfl6tm7c2bkmlcvfjb9ncgtzq49 <span class=\"token operator\">--</span>ca<span class=\"token operator\">-</span>checksum e9f82b3c16848a400fa3c5839dd1f7e23dbfbd1a2912dace1cbfca72366581f0 <span class=\"token operator\">--</span>node<span class=\"token operator\">-</span>name rancher<span class=\"token operator\">-</span>node2 <span class=\"token operator\">--</span>address <span class=\"token number\">34.64</span><span class=\"token number\">.144</span><span class=\"token number\">.38</span> <span class=\"token operator\">--</span><span class=\"token keyword\">internal</span><span class=\"token operator\">-</span>address <span class=\"token number\">34.64</span><span class=\"token number\">.144</span><span class=\"token number\">.38</span> <span class=\"token operator\">--</span>worker\nUnable to find image 'rancher<span class=\"token operator\">/</span>rancher<span class=\"token operator\">-</span>agent<span class=\"token punctuation\">:</span>v2<span class=\"token punctuation\">.</span><span class=\"token number\">4.8</span>' locally\nv2<span class=\"token punctuation\">.</span><span class=\"token number\">4.8</span><span class=\"token punctuation\">:</span> Pulling <span class=\"token keyword\">from</span> rancher<span class=\"token operator\">/</span>rancher<span class=\"token operator\">-</span><span class=\"token class-name\">agent</span>\nf08d8e2a3ba1<span class=\"token punctuation\">:</span> Pull complete \n3baa9cb2483b<span class=\"token punctuation\">:</span> Pull complete \n94e5ff4c0b15<span class=\"token punctuation\">:</span> Pull complete \n1860925334f9<span class=\"token punctuation\">:</span> Pull <span class=\"token class-name\">complete</span> \ne5d12d0f9a84<span class=\"token punctuation\">:</span> Pull complete \n5116e686c448<span class=\"token punctuation\">:</span> Pull <span class=\"token class-name\">complete</span> \nd4f72327bfd0<span class=\"token punctuation\">:</span> Pull complete \n61bcbcce7861<span class=\"token punctuation\">:</span> Pull <span class=\"token class-name\">complete</span> \nfca783017521<span class=\"token punctuation\">:</span> Pull complete \n29ab00ed6801<span class=\"token punctuation\">:</span> Pull <span class=\"token class-name\">complete</span> \nDigest<span class=\"token punctuation\">:</span> sha256<span class=\"token punctuation\">:</span><span class=\"token class-name\">c8a111e6250a313f1dd5d34696ddbef9068f70ddf4b15ab4c9cefd0ea39b76c1</span>\nStatus<span class=\"token punctuation\">:</span> Downloaded newer image <span class=\"token keyword\">for</span> rancher<span class=\"token operator\">/</span>rancher<span class=\"token operator\">-</span>agent<span class=\"token punctuation\">:</span>v2<span class=\"token punctuation\">.</span><span class=\"token number\">4.8</span>\ndb357cd36dc9c2fda9cfce9e42177b560e0e5d25faae743747541bba4b0b92b5</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê° ë…¸ë“œì— ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì…ë ¥ í›„ 5~8ë¶„ì •ë„ ì§€ë‚˜ë©´ ì•„ë˜ì™€ ê°™ì´ í´ëŸ¬ìŠ¤í„°ê°€ ìƒì„±ë©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/94103986-dd406a80-fe70-11ea-858e-3b27ef50a871.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-24 14-18-44\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì •ìƒì ìœ¼ë¡œ k8sì˜ ë°°í¬ê°€ ì™„ë£Œ ë˜ì—ˆëŠ”ì§€ Rancherì—ì„œ ì§€ì›í•˜ëŠ” CLIë¡œ í™•ì¸í•´ë´…ì‹œë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/94104127-458f4c00-fe71-11ea-8e6b-6d21402da47c.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-24 14-21-40\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì •ìƒì ìœ¼ë¡œ ë…¸ë“œ ì •ë³´ë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/94104178-6192ed80-fe71-11ea-911a-7f8350316725.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-24 14-22-27\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì¶”ê°€ì ìœ¼ë¡œ ëŒ€ì‰¬ë³´ë“œì˜ Cluster íƒ­ì„ í™•ì¸í•´ë³´ë©´ Clusterë“¤ì˜ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/94104307-aae33d00-fe71-11ea-938e-da9101a39fef.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-24 14-24-29\"></p>\n</li>\n</ul>\n<h3 id=\"ì-ì´ì œ-rancherë¡œ-ê¸°ë³¸ì ì¸-í´ëŸ¬ìŠ¤í„°-êµ¬ì„±ì´-ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤\" style=\"position:relative;\"><a href=\"#%EC%9E%90-%EC%9D%B4%EC%A0%9C-rancher%EB%A1%9C-%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EA%B5%AC%EC%84%B1%EC%9D%B4-%EC%99%84%EB%A3%8C%EB%90%98%EC%97%88%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"ì ì´ì œ rancherë¡œ ê¸°ë³¸ì ì¸ í´ëŸ¬ìŠ¤í„° êµ¬ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì ì´ì œ Rancherë¡œ ê¸°ë³¸ì ì¸ í´ëŸ¬ìŠ¤í„° êµ¬ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.!</h3>\n<hr>\n<h3 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h3>\n<p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Rancherë¥¼ ì‚¬ìš©í•´ì„œ k8s í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ëŠ” ë²•ì„ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤.<br>\nì‚¬ì‹¤ ì´ì „ê¹Œì§€ëŠ” í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì¶•í• ë•Œ kubeadmìœ¼ë¡œ í•˜ë‚˜í•˜ë‚˜ ì„¤ì •ì„ ì¡ì•„ì£¼ë©´ì„œ êµ¬ì¶•í–ˆì—ˆëŠ”ë°<br>\nìš°ì—°íˆ Rancherë¼ëŠ” íˆ´ì„ ì•Œê²Œë˜ì–´ ì‚¬ìš©í•´ë´¤ëŠ”ë° ë§Œì¡±í•©ë‹ˆë‹¤<br>\nRancherì— ëŒ€í•œ ì¶”ê°€í¬ìŠ¤íŠ¸ë¡œ ëª¨ë‹ˆí„°ë§ì´ë‚˜ íˆ´ë“±ì„ ì—°ë™í•˜ëŠ” í¬ìŠ¤íŠ¸ë„ ì¶”í›„ì— ì˜¬ë¦´ ì˜ˆì •ì´êµ¬ìš”!<br>\në‹¤ìŒ í¬ìŠ¤íŠ¸ì—ëŠ” GKE ê¸°ë°˜ì˜ í´ëŸ¬ìŠ¤í„°ë¥¼ Rancherë¡œ ìƒì„±, ì—°ë™í•˜ëŠ” í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤!!.</p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-ranche-%ED%99%98%EA%B2%BD%EC%9C%BC%EB%A1%9C-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%EC%B6%95%EC%9D%84-%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\">âœ” RANCHE í™˜ê²½ìœ¼ë¡œ ì„œë¹„ìŠ¤ êµ¬ì¶•ì„ í•´ë´…ì‹œë‹¤.</a></p>\n<ul>\n<li><a href=\"#rancher%EB%A1%9C-k8s-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EA%B5%AC%EC%84%B1\">RANCHERë¡œ K8S í´ëŸ¬ìŠ¤í„° êµ¬ì„±</a></li>\n<li><a href=\"#docker-in-rancher\">Docker in RANCHER</a></li>\n<li><a href=\"#%EC%84%A4%EC%B9%98\">ì„¤ì¹˜</a></li>\n<li><a href=\"#%EC%9D%B4%EC%A0%9C-k8s-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A5%BC-%EC%83%9D%EC%84%B1-%ED%9B%84-%EB%85%B8%EB%93%9C%EB%A5%BC-%EC%97%B0%EA%B2%B0-%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\">ì´ì œ K8S í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„± í›„ ë…¸ë“œë¥¼ ì—°ê²° í•´ë´…ì‹œë‹¤</a></li>\n<li><a href=\"#%EC%9E%90-%EC%9D%B4%EC%A0%9C-rancher%EB%A1%9C-%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EA%B5%AC%EC%84%B1%EC%9D%B4-%EC%99%84%EB%A3%8C%EB%90%98%EC%97%88%EC%8A%B5%EB%8B%88%EB%8B%A4\">ì ì´ì œ Rancherë¡œ ê¸°ë³¸ì ì¸ í´ëŸ¬ìŠ¤í„° êµ¬ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.!</a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"August 05, 2021","title":"[DEVOPS] - Rancherë¥¼ ì‚¬ìš©í•œ Kubernetes Cluster êµ¬ì¶•","categories":"DevOps","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/devops-rancher/"}},"prev":{"id":"85410047-efe9-5c0d-aa1f-e10ed1571e2d","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì•ˆë…•í•˜ì„¸ìš” NASAì…ë‹ˆë‹¤!!.<br>\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Open Sourceì¸ Gitopsê¸°ë°˜ì˜ Argo-CD ë¥¼ ì´ìš©í•œ ë°°í¬ì— ëŒ€í•´ì„œ í¬ìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤<br>\nì•ì„œ ë‹¤ë£¬ í¬ìŠ¤íŠ¸ì—ì„œ ê¸°ë³¸ì ì¸ í™˜ê²½êµ¬ì„±ì€ ëª¨ë‘ ì™„ë£Œë˜ì—ˆê³  ì´ì œë¶€í„° ì§„ì •í•œ íŒŒì´í”„ë¼ì¸ êµ¬ì„±ì…ë‹ˆë‹¤!!</p>\n<hr>\n<ul>\n<li>ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  </li>\n<li>Rancher (GKE)</li>\n<li>Argo-cd</li>\n</ul>\n<hr>\n<h2 id=\"-í™˜ê²½êµ¬ì„±\" style=\"position:relative;\"><a href=\"#-%ED%99%98%EA%B2%BD%EA%B5%AC%EC%84%B1\" aria-label=\" í™˜ê²½êµ¬ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” í™˜ê²½êµ¬ì„±</h2>\n<ul>\n<li>í™˜ê²½êµ¬ì„±ì˜ ê²½ìš° ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œ ëª¨ë‘ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!!</li>\n<li>ë‹¤ë§Œ í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì— ì§ì ‘ ë“¤ì–´ê°€ Argo-CDë¥¼ ì„¤ì¹˜í•˜ëŠ”ê²Œ ì•„ë‹Œ Rancherì˜ ì¹´íƒˆë¡œê·¸ë¥¼ ì‚¬ìš©í•´ì„œ ìë™ Helm ë°°í¬ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤</li>\n</ul>\n<hr>\n<h2 id=\"-rancher-argo-cd-pluginì„-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#-rancher-argo-cd-plugin%EC%9D%84-%EC%84%A4%EC%B9%98\" aria-label=\" rancher argo cd pluginì„ ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” Rancher Argo-CD Pluginì„ ì„¤ì¹˜</h2>\n<p>êµ¬ì¶•ì¤‘ì¸ íŒŒì´í”„ë¼ì¸ì˜ ì „ì œì ì¸ Service FlowëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤</p>\n<ul>\n<li><code class=\"language-text\">CI : Jenkins -> DockerHUB / CD : Gitlab -> Argo-CD -> Rancher Cluseter</code>   <br>\nApië¥¼ í†µí•œ ì´ë¯¸ì§€ ë°°í¬ (Rolling update) ì§„í–‰ ë° íˆìŠ¤í† ë¦¬ ê´€ë¦¬ ì˜ˆì •.</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"ì‘ì—…-ì‹œì‘-ì „-ì •ë³´\" style=\"position:relative;\"><a href=\"#%EC%9E%91%EC%97%85-%EC%8B%9C%EC%9E%91-%EC%A0%84-%EC%A0%95%EB%B3%B4\" aria-label=\"ì‘ì—… ì‹œì‘ ì „ ì •ë³´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‘ì—… ì‹œì‘ ì „ ì •ë³´!</h3>\n<p>â€” > Docker Containor Restart</p>\n<p>ë„ì»¤ì˜ ê²½ìš° VMê³¼ëŠ” ë‹¤ë¥´ë‹¤ ì»¨í…Œì´ë„ˆë€ í”„ë¡œì„¸ìŠ¤ì˜ ê°œë…ìœ¼ë¡œ ìƒê°í•˜ë©´ëœë‹¤<br>\nGCP ì¸ìŠ¤í„´ìŠ¤ì˜ Dockerë¡œ ì‹¤í–‰í•œ Jenkinsê°€ ì´ë¡œ ì¸í•´ ë¬¸ì œë¥¼ ë°œìƒì‹œì¼°ë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@jenkins <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># docker ps <span class=\"token operator\">-</span>a\nCONTAINER ID        IMAGE                    COMMAND                  CREATED             STATUS                      PORTS               NAMES\nd8cbbb69e267        jenkins<span class=\"token operator\">/</span>jenkins<span class=\"token punctuation\">:</span>latest   <span class=\"token string\">\"/sbin/tini -- /usr/â€¦\"</span>   <span class=\"token number\">18</span> hours <span class=\"token return-type class-name\">ago</span>        Exited <span class=\"token punctuation\">(</span><span class=\"token number\">143</span><span class=\"token punctuation\">)</span> <span class=\"token number\">17</span> hours ago                       jenkins\n<span class=\"token punctuation\">[</span>root@jenkins <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># </code></pre></div>\n<p>ì´ë ‡ê²Œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¬ë¶€íŒ…í•˜ë©´ ì»¨í…Œì´ë„ˆê°€ ì£½ëŠ”ë‹¤â€¦</p>\n<p>ê·¸ëŸ¼ ìœ„ì˜ ëª…ë ¹ì–´ë¡œ í•´ë‹¹ ì»¨í…Œì´ë„ˆ ì•„ì´ë””ë¥¼ í™•ì¸ í›„ Container restart ëª…ë ¹ì–´ë¡œ ë˜ì‚´ë¦¬ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@jenkins <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># docker container restart d8cbbb69e267\nd8cbbb69e267</code></pre></div>\n<br/>\n<ul>\n<li>\n<p>Rancher ëŒ€ì‰¬ë³´ë“œ -> APP -> Launch íƒ­ì— ì ‘ì†</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95819968-285be800-0d62-11eb-810c-34a4666edeac.png\" alt=\"aaaa\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Argo-CD Plugin ê²€ìƒ‰ í›„ ê° ë…¸ë“œì— ë°°í¬</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95820019-47f31080-0d62-11eb-8b41-3952f785acac.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-42-08\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´ëŸ° ì„¤ì •ë“¤ì€ ê¸°ë³¸ìœ¼ë¡œ ë‘ì–´ë„ ë©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95820058-5e00d100-0d62-11eb-8110-10b3149c4826.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-42-46\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ëŸ¼ ì•„ë˜ì™€ ê°™ì´ Rancher ëŒ€ì‰¬ë³´ë“œì—ì„œ ë°°í¬ëœ Appsì— ëŒ€í•´ì„œ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95820133-838dda80-0d62-11eb-84d2-7ee6115b69cf.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-43-49\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>ë°°í¬ê°€ ëª¨ë‘ ì™„ë£Œëœ í›„ ARGO-CD APPSì— ë“¤ì–´ê°€ë©´ ì•„ë˜ì™€ ê°™ì´ Endpoint ì£¼ì†Œë¥¼ ë„ì›ë‹ˆë‹¤.\ní•´ë‹¹ ì£¼ì†Œë¡œ ì ‘ì†!!\n<img src=\"https://user-images.githubusercontent.com/69498804/95820242-b6d06980-0d62-11eb-8bc9-5f0705adeb23.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-45-13\"></li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ëŸ¼ ë‹¤ìŒê³¼ ê°™ì€ Argo-CDì˜ ëŒ€ì‰¬ë³´ë“œì— ì ‘ì†ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95820317-db2c4600-0d62-11eb-8789-ef49d07cc6c6.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-46-16\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>í•˜ì§€ë§Œ ê´€ë¦¬ì PASSWORDëŠ” ì„œë²„ëª…ìœ¼ë¡œ ì„¤ì •ë˜ê¸° ë•Œë¬¸ì— ì•„ë˜ PODì— ì ‘ì†í•©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95820435-0a42b780-0d63-11eb-8bb3-9c73de758bbd.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-47-33\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì•„ë˜ PODì˜ ì „ì²´ IDê°€ í˜„ì¬ ê´€ë¦¬ì(ADMIN) ê³„ì •ì˜ íŒ¨ìŠ¤ì›Œë“œì…ë‹ˆë‹¤. ì…ë ¥ í›„ ì ‘ì†!!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95820534-3100ee00-0d63-11eb-8460-26824e97e779.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-48-38\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì •ìƒì ìœ¼ë¡œ ì ‘ì†ì´ ë˜ì—ˆë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ë°°í¬ íŒŒì´í”„ë¼ì¸ì„ ì„¤ì • í•  ìˆ˜ ìˆëŠ” ì°½ì´ ë‚˜ì˜¤ê²Œ ë©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95820622-5aba1500-0d63-11eb-9f27-1ac1fdc3b5d4.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-49-49\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì„¤ì • -> ì €ì¥ì†Œ íƒ­ì—ì„œ ì—°ë™í•  GITALBì˜ ì£¼ì†Œë¥¼ ë“±ë¡í•´ì¤ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95822592-2d6f6600-0d67-11eb-8e0f-da14e9b434dd.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 15-17-13\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>New APPì„ ëˆŒëŸ¬ ìƒˆë¡œìš´ íŒŒì´í”„ë¼ì¸ì„ ì„¤ì •í•´ì¤ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95820959-0499a180-0d64-11eb-832f-bf6a4f4fb2a8.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-54-35\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ëŸ¼ ì•„ë˜ì™€ ê°™ì€ PipeLINE Appì´ í•˜ë‚˜ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤!!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95821114-4fb3b480-0d64-11eb-94a1-eaa4df36079a.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-56-40\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>GITLAB ì €ì¥ì†Œì—ëŠ” ì•„ë˜ì™€ ê°™ì€ ë‘ íŒŒì¼ì´ ì¡´ì¬í•˜ê³  ë‚´ìš©ì„ ë‹¤ìŒê³¼ ê°™ë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95821188-6fe37380-0d64-11eb-9d94-76b0837a8d56.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-57-33\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>deploy.yaml ì˜ˆì œ.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> apps<span class=\"token operator\">/</span><span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Deployment</span>\nmetadata<span class=\"token punctuation\">:</span>\nname<span class=\"token punctuation\">:</span> nasa1515<span class=\"token operator\">-</span><span class=\"token class-name\">deploy</span>\nlabels<span class=\"token punctuation\">:</span>\n    app<span class=\"token punctuation\">:</span> nasa1515<span class=\"token operator\">-</span><span class=\"token class-name\">deploy</span>\nspec<span class=\"token punctuation\">:</span>\nreplicas<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\nselector<span class=\"token punctuation\">:</span>\n    matchLabels<span class=\"token punctuation\">:</span>\n    app<span class=\"token punctuation\">:</span> nasa1515<span class=\"token operator\">-</span><span class=\"token class-name\">deploy</span>\ntemplate<span class=\"token punctuation\">:</span>\n    metadata<span class=\"token punctuation\">:</span>\n    labels<span class=\"token punctuation\">:</span>\n        app<span class=\"token punctuation\">:</span> nasa1515<span class=\"token operator\">-</span><span class=\"token class-name\">deploy</span>\n    spec<span class=\"token punctuation\">:</span>\n    containers<span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">-</span> image<span class=\"token punctuation\">:</span> nasa1415<span class=\"token operator\">/</span>devops<span class=\"token punctuation\">:</span><span class=\"token class-name\">latest</span>\n        name<span class=\"token punctuation\">:</span> nasa1515<span class=\"token operator\">-</span><span class=\"token class-name\">app</span>\n        ports<span class=\"token punctuation\">:</span>\n        <span class=\"token operator\">-</span> containerPort<span class=\"token punctuation\">:</span> <span class=\"token number\">8000</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>service.yaml ì˜ˆì œ.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Service</span>\nmetadata<span class=\"token punctuation\">:</span>\nname<span class=\"token punctuation\">:</span> nasa1515<span class=\"token operator\">-</span><span class=\"token class-name\">svc</span>\nspec<span class=\"token punctuation\">:</span>\ntype<span class=\"token punctuation\">:</span> <span class=\"token class-name\">NodePort</span>\nports<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> port<span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span>\n    targetPort<span class=\"token punctuation\">:</span> <span class=\"token number\">8000</span>\n    nodePort<span class=\"token punctuation\">:</span> <span class=\"token number\">31111</span>\nselector<span class=\"token punctuation\">:</span>\n    app<span class=\"token punctuation\">:</span> nasa1515<span class=\"token operator\">-</span>deploy</code></pre></div>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>ì´ì œ ë§Œë“¤ì–´ë‘” Appì—ì„œ SYNCë¥¼ ëˆ„ë¥´ê²Œ ë˜ë©´</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95821383-c0f36780-0d64-11eb-8691-2538c3b7bc85.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 14-59-49\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë‹¤ìŒê³¼ ê°™ì´ ë°°í¬íŒŒì¼ì„ ì½ì–´ì™€ ë…¸ë“œì— ë°°í¬í•©ë‹ˆë‹¤!!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95823833-4547e980-0d69-11eb-842b-ea9e04341594.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 15-32-08\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì‹¤ì œ Rancherì—ì„œì˜ ë¡œê·¸ë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ Argo-cdì—ì„œì˜ ë°°í¬ ë¡œê·¸ë¥¼ í™•ì¸ê°€ëŠ¥í•©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95823941-72949780-0d69-11eb-8e65-d016680a0a4e.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 15-33-22\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì¶”ê°€ì ìœ¼ë¡œ Rancherì—ì„œ í™•ì¸í•´ë³´ë©´ ë°°í¬ê°€ ì •ìƒì ì´ê³  ì„œë¹„ìŠ¤ ì¤‘ì„ì„ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/95824040-9b1c9180-0d69-11eb-9c5b-4b09b626218a.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-13 15-34-33\"></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h3>\n<p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Argo-CDë¥¼ ì„¤ì¹˜í•˜ê³  íˆ´ì„ í†µí•´ì„œ ë°°í¬í•˜ëŠ” ë²•ì„ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤.<br>\nì§ì ‘ ì„¤ì¹˜í•œ ê²ƒì´ ì•„ë‹ˆë¼ Rancherì˜ ê¸°ëŠ¥ì„ ì´ìš©í•´ì„œ ë‹¤ë¥¸ ë¶ˆí•„ìš”í•œ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ì„ ì¤„ì—¬ì„œ ê·¸ë‚˜ë§ˆ ì§§ê²Œ ëë‚œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\nì´ë ‡ê²Œ ë©”ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì„ í†µí•´ì„œ ìë™ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì˜¬ë¦¬ê³  ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í•˜ëŠ” ê²ƒë“¤ì„ ì§ì ‘í•´ë³´ë‹ˆ<br>\nì´ì œì„œì•¼ DevOps ì—”ì§€ë‹ˆì–´ì— ëŒ€í•´ì„œ ìŒ€ì•Œ ë§Œí¼ ì•Œì•„ê°€ê³  ìˆëŠ” ê²ƒ ê°™ì€ ëŠë‚Œì…ë‹ˆë‹¤. </p>\n<p>ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—ëŠ” ì‹¤ì œ ì·¨ì•½ì  ê²€ì‚¬ íˆ´ ë“¤ì„ ì˜¬ë¦¬ê³  ì„œë¹„ìŠ¤, DB ì—°ë™ë“¤ê¹Œì§€ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%ED%99%98%EA%B2%BD%EA%B5%AC%EC%84%B1\">âœ” í™˜ê²½êµ¬ì„±</a></li>\n<li>\n<p><a href=\"#-rancher-argo-cd-plugin%EC%9D%84-%EC%84%A4%EC%B9%98\">âœ” Rancher Argo-CD Pluginì„ ì„¤ì¹˜</a></p>\n<ul>\n<li><a href=\"#%EC%9E%91%EC%97%85-%EC%8B%9C%EC%9E%91-%EC%A0%84-%EC%A0%95%EB%B3%B4\">ì‘ì—… ì‹œì‘ ì „ ì •ë³´!</a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"August 07, 2021","title":"[DEVOPS] - Argo-CDë¥¼ ì´ìš©í•œ ë°°í¬ ìë™í™”","categories":"DevOps","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/devops-argocd/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/devops-rancher-gke/","nextSlug":"/devops-rancher/","prevSlug":"/devops-argocd/"}},"staticQueryHashes":["1073350324","2938748437"]}