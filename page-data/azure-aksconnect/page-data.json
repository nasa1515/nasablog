{"componentChunkName":"component---src-templates-blog-template-js","path":"/azure-aksconnect/","result":{"data":{"cur":{"id":"f5c486fe-8405-5843-a44d-eb7bf2fda959","html":"<p>머리말  </p>\n<p>추후에 Kafka를 k8s Cluster 환경에서 설치 및 구동을 해보려고 합니다.<br>\n그래서 일단 YAM을 더 효율적이게 생성하기 위해 VSCODE와 AKS를 연결해봅시다.  </p>\n<hr>\n<h2 id=\"-preview--vscode로-k8s를-관리한다면\" style=\"position:relative;\"><a href=\"#-preview--vscode%EB%A1%9C-k8s%EB%A5%BC-%EA%B4%80%EB%A6%AC%ED%95%9C%EB%8B%A4%EB%A9%B4\" aria-label=\" preview  vscode로 k8s를 관리한다면 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ Preview : VSCODE로 k8s를 관리한다면?</h2>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112405756-40468780-8d56-11eb-923c-2eb754abb929.gif\" alt=\"nasagif\"></p>\n<ul>\n<li>위처럼 pod, service 등의 yaml 형식을 자동으로 정의해 편리하게 사용 가능  </li>\n<li>굳이 명령어를 치지 않고도 배포 및 상태 확인이 가능  </li>\n<li>yaml manifest 모아서 관리 한 뒤 helm Chart를 만들기 간편하다.  </li>\n<li>추가적으로 AKS은 대체로 Cloud Shell을 이용하는데 - Cloud Shell은 docker 명령을 지원하지 않는다.  </li>\n<li>실제로 Master Node는 존재하지 않고 (PaaS 형태) NodePool에만 docker가 깔려있음<br>\n때문에 Imaging을 할 Docker Client를 따로 구성해야 하는 불편함이 있음<br>\n그래서 어짜피 구성해야하면 VSCODE가 깔린 Window의 Local에서 Docker를 구성해서<br>\nImaging 작업은 Local vscode terminal에서 진행하고 바로 aks에서 인식하게 하려는 계획  </li>\n</ul>\n<h3 id=\"그냥-겁나-편하다\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%83%A5-%EA%B2%81%EB%82%98-%ED%8E%B8%ED%95%98%EB%8B%A4\" aria-label=\"그냥 겁나 편하다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그냥 겁나 편하다</h3>\n<br/>\n<hr>\n<h2 id=\"-aks-구성\" style=\"position:relative;\"><a href=\"#-aks-%EA%B5%AC%EC%84%B1\" aria-label=\" aks 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ AKS 구성</h2>\n<p>아래 Azure의 공식 DOC로 CLI, Portal을 이용해서 AKS Cluster를 구축합니다. </p>\n<ul>\n<li>\n<h4 id=\"azure-aks-doc\" style=\"position:relative;\"><a href=\"#azure-aks-doc\" aria-label=\"azure aks doc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://docs.microsoft.com/ko-kr/azure/aks/kubernetes-walkthrough\">Azure AKS DOC</a></h4>\n</li>\n<li>\n<h4 id=\"azure-portal-용-aks-doc\" style=\"position:relative;\"><a href=\"#azure-portal-%EC%9A%A9-aks-doc\" aria-label=\"azure portal 용 aks doc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://docs.microsoft.com/ko-kr/azure/aks/kubernetes-walkthrough-portal\">Azure Portal 용 AKS DOC</a></h4>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"cluster-생성되면-아래와-같이-rg와-resource들이-생성됩니다\" style=\"position:relative;\"><a href=\"#cluster-%EC%83%9D%EC%84%B1%EB%90%98%EB%A9%B4-%EC%95%84%EB%9E%98%EC%99%80-%EA%B0%99%EC%9D%B4-rg%EC%99%80-resource%EB%93%A4%EC%9D%B4-%EC%83%9D%EC%84%B1%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"cluster 생성되면 아래와 같이 rg와 resource들이 생성됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cluster 생성되면 아래와 같이 RG와 Resource들이 생성됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112254765-762b3380-8ca4-11eb-88b9-b64266de090c.JPG\" alt=\"123\"></p>\n<ul>\n<li>k8s : AKS Resource가 있는 RG </li>\n<li>MC<em>k8s</em>nasa1515_koreacentral : AKS의 실제 VMSS나 PIP들의 Resource가 있는 RG  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"이제-cloud-shell에서-kubelet-명령어를-입력해보려는데-error가-발생합니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%9C-cloud-shell%EC%97%90%EC%84%9C-kubelet-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A5%BC-%EC%9E%85%EB%A0%A5%ED%95%B4%EB%B3%B4%EB%A0%A4%EB%8A%94%EB%8D%B0-error%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"이제 cloud shell에서 kubelet 명령어를 입력해보려는데 error가 발생합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이제 Cloud shell에서 kubelet 명령어를 입력해보려는데 ERROR가 발생합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112254836-9529c580-8ca4-11eb-9edf-f971a165e43b.JPG\" alt=\"캡처\"></p>\n<ul>\n<li>Cloud shell에서 AKS에 연결하기 위해선 Credentials이 필요하기 때문입니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"다음-명령어로-credentials을-가져-올-수-있습니다\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%9D%8C-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-credentials%EC%9D%84-%EA%B0%80%EC%A0%B8-%EC%98%AC-%EC%88%98-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"다음 명령어로 credentials을 가져 올 수 있습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>다음 명령어로 credentials을 가져 올 수 있습니다.</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">az aks <span class=\"token keyword\">get</span><span class=\"token operator\">-</span>credentials <span class=\"token operator\">--</span>resource<span class=\"token operator\">-</span><span class=\"token keyword\">group</span> <span class=\"token punctuation\">[</span>myResourceGroup<span class=\"token punctuation\">]</span> <span class=\"token operator\">--</span>name <span class=\"token punctuation\">[</span>myAKSCluster<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"credentials을-가져온-뒤-정상적으로-kebectl-명령이-실행됩니다\" style=\"position:relative;\"><a href=\"#credentials%EC%9D%84-%EA%B0%80%EC%A0%B8%EC%98%A8-%EB%92%A4-%EC%A0%95%EC%83%81%EC%A0%81%EC%9C%BC%EB%A1%9C-kebectl-%EB%AA%85%EB%A0%B9%EC%9D%B4-%EC%8B%A4%ED%96%89%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"credentials을 가져온 뒤 정상적으로 kebectl 명령이 실행됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Credentials을 가져온 뒤 정상적으로 kebectl 명령이 실행됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112256786-97d9ea00-8ca7-11eb-90a6-56a7150ef2b7.JPG\" alt=\"캡처2\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"사실-이미-vscode의-azure-extentions을-이용해-cloud-shell로-사용-가능합니다\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%8B%A4-%EC%9D%B4%EB%AF%B8-vscode%EC%9D%98-azure-extentions%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%B4-cloud-shell%EB%A1%9C-%EC%82%AC%EC%9A%A9-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"사실 이미 vscode의 azure extentions을 이용해 cloud shell로 사용 가능합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사실 이미 VSCODE의 Azure extentions을 이용해 Cloud shell로 사용 가능합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112258604-1afc3f80-8caa-11eb-8641-fe03947a05a8.JPG\" alt=\"캡처3333\"></p>\n<ul>\n<li>다만 저는 CloudShell의 불편함을 해결하고, 왼쪽의 File list에서 여러 yaml 을 관리하고 싶습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"vscode-kubernetes-extentions-사용\" style=\"position:relative;\"><a href=\"#vscode-kubernetes-extentions-%EC%82%AC%EC%9A%A9\" aria-label=\"vscode kubernetes extentions 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VSCODE Kubernetes extentions 사용</h3>\n<p>그래서 VSCODE의 Kubernetes extentions을 사용해 AKS와 직접 연결하겠습니다.  </p>\n<ul>\n<li>\n<h4 id=\"설정-가이드\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%A0%95-%EA%B0%80%EC%9D%B4%EB%93%9C\" aria-label=\"설정 가이드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://mountainss.wordpress.com/2018/07/17/create-azure-kubernetes-cluster-and-manage-in-visual-studio-code-vsc-kubernetes-cloud/\">설정 가이드</a></h4>\n</li>\n</ul>\n<br/>\n<p>위의 링크에서 설명하는 방법은 다음과 같습니다.  </p>\n<ul>\n<li>\n<h4 id=\"1-aks-cluster-생성\" style=\"position:relative;\"><a href=\"#1-aks-cluster-%EC%83%9D%EC%84%B1\" aria-label=\"1 aks cluster 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. AKS Cluster 생성</h4>\n</li>\n<li>\n<h4 id=\"2-local에-azure-cli-설치\" style=\"position:relative;\"><a href=\"#2-local%EC%97%90-azure-cli-%EC%84%A4%EC%B9%98\" aria-label=\"2 local에 azure cli 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Local에 Azure CLI 설치</h4>\n</li>\n<li>\n<h4 id=\"3-vscode에-kubernetes-extentions-설치\" style=\"position:relative;\"><a href=\"#3-vscode%EC%97%90-kubernetes-extentions-%EC%84%A4%EC%B9%98\" aria-label=\"3 vscode에 kubernetes extentions 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. vscode에 kubernetes extentions 설치</h4>\n</li>\n<li>\n<h4 id=\"4-kubernetes-extentions을-사용해-aks와-직접-연결\" style=\"position:relative;\"><a href=\"#4-kubernetes-extentions%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4-aks%EC%99%80-%EC%A7%81%EC%A0%91-%EC%97%B0%EA%B2%B0\" aria-label=\"4 kubernetes extentions을 사용해 aks와 직접 연결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. kubernetes extentions을 사용해 AKS와 직접 연결</h4>\n<br/>\n</li>\n</ul>\n<p>1,2번 작업은 이미 완료했다고 가정하고 2번 작업 이후 local 에서 Azure cli에 연결해야 합니다.  </p>\n<br/>\n<ul>\n<li>\n<h4 id=\"az-aks-install-cli\" style=\"position:relative;\"><a href=\"#az-aks-install-cli\" aria-label=\"az aks install cli permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>az aks install-cli</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259140-1ab07400-8cab-11eb-9abc-8341b85fff04.JPG\" alt=\"캡처4\"></p>\n<br/>\n</li>\n<li>\n<h4 id=\"az-login-명령으로-azure-로그인\" style=\"position:relative;\"><a href=\"#az-login-%EB%AA%85%EB%A0%B9%EC%9C%BC%EB%A1%9C-azure-%EB%A1%9C%EA%B7%B8%EC%9D%B8\" aria-label=\"az login 명령으로 azure 로그인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>az login 명령으로 azure 로그인</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># az login</span></code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259289-5f3c0f80-8cab-11eb-906e-ccc957cdc10e.JPG\" alt=\"캡처5555\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"aks의-credentials-가져오기\" style=\"position:relative;\"><a href=\"#aks%EC%9D%98-credentials-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\" aria-label=\"aks의 credentials 가져오기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AKS의 Credentials 가져오기</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">E az aks <span class=\"token keyword\">get</span><span class=\"token operator\">-</span>credentials <span class=\"token operator\">--</span>resource<span class=\"token operator\">-</span><span class=\"token keyword\">group</span> k8s <span class=\"token operator\">--</span>name nasa1515 </code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259355-80046500-8cab-11eb-8a94-b990a1a72a08.JPG\" alt=\"캡처666\"></p>\n<br/>\n</li>\n<li>\n<h4 id=\"aks의-dashboard-실행시키기\" style=\"position:relative;\"><a href=\"#aks%EC%9D%98-dashboard-%EC%8B%A4%ED%96%89%EC%8B%9C%ED%82%A4%EA%B8%B0\" aria-label=\"aks의 dashboard 실행시키기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AKS의 dashboard 실행시키기</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">az aks browse <span class=\"token operator\">--</span>resource<span class=\"token operator\">-</span><span class=\"token keyword\">group</span> k8s <span class=\"token operator\">--</span>name nasa1515</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259585-e5585600-8cab-11eb-903d-e05c85c33f60.JPG\" alt=\"캡처6666\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"extentions-에-aks-연결하기\" style=\"position:relative;\"><a href=\"#extentions-%EC%97%90-aks-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0\" aria-label=\"extentions 에 aks 연결하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Extentions 에 AKS 연결하기</h3>\n<ul>\n<li>\n<h4 id=\"위의-작업을-완료하면-vscode의-extentions에서-다음과-같이-구독이-표시됩니다\" style=\"position:relative;\"><a href=\"#%EC%9C%84%EC%9D%98-%EC%9E%91%EC%97%85%EC%9D%84-%EC%99%84%EB%A3%8C%ED%95%98%EB%A9%B4-vscode%EC%9D%98-extentions%EC%97%90%EC%84%9C-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%9D%B4-%EA%B5%AC%EB%8F%85%EC%9D%B4-%ED%91%9C%EC%8B%9C%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"위의 작업을 완료하면 vscode의 extentions에서 다음과 같이 구독이 표시됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>위의 작업을 완료하면 vscode의 extentions에서 다음과 같이 구독이 표시됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259771-2ea8a580-8cac-11eb-87a4-b88237ea493f.JPG\" alt=\"캡처77777\"></p>\n<br/>\n</li>\n<li>\n<h4 id=\"정상적으로-cluster를-추가했으나-옆에-cluster-목록에-뜨지-않는-이슈가-발생\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EC%83%81%EC%A0%81%EC%9C%BC%EB%A1%9C-cluster%EB%A5%BC-%EC%B6%94%EA%B0%80%ED%96%88%EC%9C%BC%EB%82%98-%EC%98%86%EC%97%90-cluster-%EB%AA%A9%EB%A1%9D%EC%97%90-%EB%9C%A8%EC%A7%80-%EC%95%8A%EB%8A%94-%EC%9D%B4%EC%8A%88%EA%B0%80-%EB%B0%9C%EC%83%9D\" aria-label=\"정상적으로 cluster를 추가했으나 옆에 cluster 목록에 뜨지 않는 이슈가 발생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정상적으로 Cluster를 추가했으나 옆에 Cluster 목록에 뜨지 않는 이슈가 발생.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112261431-31f16080-8caf-11eb-835b-f4b44fe0a015.JPG\" alt=\"캡처32323\"></p>\n<ul>\n<li>vscode에서 kubectl.exe의 환경변수가 정상적으로 등록되지 않아서 발생.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"기본적으로-kubernetes-extentions을-설치하면-아래-위치에-tools이-설치됩니다\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9C%BC%EB%A1%9C-kubernetes-extentions%EC%9D%84-%EC%84%A4%EC%B9%98%ED%95%98%EB%A9%B4-%EC%95%84%EB%9E%98-%EC%9C%84%EC%B9%98%EC%97%90-tools%EC%9D%B4-%EC%84%A4%EC%B9%98%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"기본적으로 kubernetes extentions을 설치하면 아래 위치에 tools이 설치됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본적으로 kubernetes extentions을 설치하면 아래 위치에 tools이 설치됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112275393-e8127580-8cc2-11eb-992a-69fcfddaa45c.JPG\" alt=\"1231211\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"해당-위치의-환경변수-설정이-자동으로-되지-않아-이슈가-발생\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EB%8B%B9-%EC%9C%84%EC%B9%98%EC%9D%98-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%84%A4%EC%A0%95%EC%9D%B4-%EC%9E%90%EB%8F%99%EC%9C%BC%EB%A1%9C-%EB%90%98%EC%A7%80-%EC%95%8A%EC%95%84-%EC%9D%B4%EC%8A%88%EA%B0%80-%EB%B0%9C%EC%83%9D\" aria-label=\"해당 위치의 환경변수 설정이 자동으로 되지 않아 이슈가 발생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해당 위치의 환경변수 설정이 자동으로 되지 않아 이슈가 발생.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112275708-37f13c80-8cc3-11eb-8ae8-0aafe3abefcf.png\" alt=\"MicrosoftTeams-image\"></p>\n<ul>\n<li>위처럼 window cmd console 에서도 kubectl 명령이 먹지 않습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"window-10-고급-시스템-설정---환경변수에서-code-classlanguage-textpathcode에-해당-경로를-추가해줍니다\" style=\"position:relative;\"><a href=\"#window-10-%EA%B3%A0%EA%B8%89-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EC%A0%95---%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98%EC%97%90%EC%84%9C-code-classlanguage-textpathcode%EC%97%90-%ED%95%B4%EB%8B%B9-%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EC%B6%94%EA%B0%80%ED%95%B4%EC%A4%8D%EB%8B%88%EB%8B%A4\" aria-label=\"window 10 고급 시스템 설정   환경변수에서 code classlanguage textpathcode에 해당 경로를 추가해줍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[window 10] 고급 시스템 설정 -> 환경변수에서 <code class=\"language-text\">path</code>에 해당 경로를 추가해줍니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112276007-8f8fa800-8cc3-11eb-95e0-d96b91f86000.JPG\" alt=\"1112211211\"></p>\n<ul>\n<li>적용하고 나오기  </li>\n</ul>\n<br/>\n</li>\n<li>\n<h4 id=\"이제-window-cmd--vscode-terminer에서-모두-kubectl이-사용-가능합니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%9C-window-cmd--vscode-terminer%EC%97%90%EC%84%9C-%EB%AA%A8%EB%91%90-kubectl%EC%9D%B4-%EC%82%AC%EC%9A%A9-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"이제 window cmd  vscode terminer에서 모두 kubectl이 사용 가능합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이제 window cmd , vscode terminer에서 모두 kubectl이 사용 가능합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112276186-cebdf900-8cc3-11eb-8043-bc2bbf6d9fc0.JPG\" alt=\"44444\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"이미-설치된-kubectl-말고도-바이너리를-설치-할-수도-있습니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%AF%B8-%EC%84%A4%EC%B9%98%EB%90%9C-kubectl-%EB%A7%90%EA%B3%A0%EB%8F%84-%EB%B0%94%EC%9D%B4%EB%84%88%EB%A6%AC%EB%A5%BC-%EC%84%A4%EC%B9%98-%ED%95%A0-%EC%88%98%EB%8F%84-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"이미 설치된 kubectl 말고도 바이너리를 설치 할 수도 있습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이미 설치된 kubectl 말고도 바이너리를 설치 할 수도 있습니다.</h3>\n<ul>\n<li>\n<p><a href=\"https://kubernetes.io/ko/docs/tasks/tools/install-kubectl-windows/\">가이드</a>  </p>\n<br/>\n<p>설치 방법은 다음과 같습니다.  </p>\n<br/>\n<ul>\n<li>\n<ol>\n<li>curl로 kubectl 바이너리 설치  </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">curl <span class=\"token operator\">-</span><span class=\"token class-name\">LO</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>dl<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>release<span class=\"token operator\">/</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">20.0</span><span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>windows<span class=\"token operator\">/</span>amd64<span class=\"token operator\">/</span>kubectl<span class=\"token punctuation\">.</span>exe</code></pre></div>\n<br/>\n</li>\n<li>\n<ol start=\"2\">\n<li>바이너리 검증  </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">### checksum file download </span>\n\ncurl <span class=\"token operator\">-</span><span class=\"token class-name\">LO</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>dl<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">20.0</span><span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>windows<span class=\"token operator\">/</span>amd64<span class=\"token operator\">/</span>kubectl<span class=\"token punctuation\">.</span>exe<span class=\"token punctuation\">.</span>sha256</code></pre></div>\n<br/>\n</li>\n<li>\n<ol start=\"3\">\n<li>checksum file로 검증  </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">CertUtil <span class=\"token operator\">-</span>hashfile kubectl<span class=\"token punctuation\">.</span>exe SHA256\ntype kubectl<span class=\"token punctuation\">.</span>exe<span class=\"token punctuation\">.</span>sha256</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">### 점검 결과 동일</span>\nC<span class=\"token punctuation\">:</span>\\Users\\USER<span class=\"token operator\">></span>CertUtil <span class=\"token operator\">-</span>hashfile kubectl<span class=\"token punctuation\">.</span>exe SHA256                                                                                                                                                                                   SHA256의 kubectl<span class=\"token punctuation\">.</span>exe 해시<span class=\"token punctuation\">:</span>                                                                                                                                                                                                            <span class=\"token class-name\">ee7be8e93349fb0fd1db7f5cdb5985f5698cef69b7b7be012fc0e6bed06b254d</span>                                                                                                                                                                      CertUtil<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span>hashfile 명령이 성공적으로 완료되었습니다<span class=\"token punctuation\">.</span>                                                                                                                                                                                                                                                                                                                                                                                                                       C<span class=\"token punctuation\">:</span>\\Users\\USER<span class=\"token operator\">></span>type kubectl<span class=\"token punctuation\">.</span>exe<span class=\"token punctuation\">.</span>sha256                                                                                                                                                                                                 <span class=\"token class-name\">ee7be8e93349fb0fd1db7f5cdb5985f5698cef69b7b7be012fc0e6bed06b254d</span>                                                                                                                                                                      C<span class=\"token punctuation\">:</span>\\Users\\USER<span class=\"token operator\">></span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"4\">\n<li>kubectl version 확인 </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">C<span class=\"token punctuation\">:</span>\\Users\\USER<span class=\"token operator\">></span>kubectl version <span class=\"token operator\">--</span>client\n<span class=\"token class-name\">Client</span> Version<span class=\"token punctuation\">:</span> version<span class=\"token punctuation\">.</span>Info<span class=\"token punctuation\">{</span>Major<span class=\"token punctuation\">:</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">Minor</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"20\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">GitVersion</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"v1.20.0\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">GitCommit</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"af46c47ce925f4c4ad5cc8d1fca46c7b77d13b38\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">GitTreeState</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"clean\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">BuildDate</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"2020-12-08T17:59:43Z\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">GoVersion</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"go1.15.5\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">Compiler</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"gc\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">Platform</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"windows/amd64\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<ul>\n<li>\n<h4 id=\"환경변수-설정-후-동일하게-진행했지만-이번엔-다른-에러가-발생합니다\" style=\"position:relative;\"><a href=\"#%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%84%A4%EC%A0%95-%ED%9B%84-%EB%8F%99%EC%9D%BC%ED%95%98%EA%B2%8C-%EC%A7%84%ED%96%89%ED%96%88%EC%A7%80%EB%A7%8C-%EC%9D%B4%EB%B2%88%EC%97%94-%EB%8B%A4%EB%A5%B8-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"환경변수 설정 후 동일하게 진행했지만 이번엔 다른 에러가 발생합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>환경변수 설정 후 동일하게 진행했지만 이번엔 다른 에러가 발생합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112276614-49871400-8cc4-11eb-868e-0a7db41a3c2d.png\" alt=\"KakaoTalk_20210324_164952086\"></p>\n<ul>\n<li>해당 경로에는 한글이나 깨질만한 언어로 생성된 것이 없었습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"그래서-vscode-kubenetes-extentions의-config-설정을-확인하니\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-vscode-kubenetes-extentions%EC%9D%98-config-%EC%84%A4%EC%A0%95%EC%9D%84-%ED%99%95%EC%9D%B8%ED%95%98%EB%8B%88\" aria-label=\"그래서 vscode kubenetes extentions의 config 설정을 확인하니 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 vscode kubenetes extentions의 config 설정을 확인하니</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112277112-c31f0200-8cc4-11eb-88df-e5b269b0b0d1.JPG\" alt=\"캡처444444\"></p>\n<ul>\n<li>다음과 같이 settings.json이라는 file로 관리되고 있었습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"해당-settingsjson-file은-실제-extentions-설정의-값을-그대로-반영합니다\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EB%8B%B9-settingsjson-file%EC%9D%80-%EC%8B%A4%EC%A0%9C-extentions-%EC%84%A4%EC%A0%95%EC%9D%98-%EA%B0%92%EC%9D%84-%EA%B7%B8%EB%8C%80%EB%A1%9C-%EB%B0%98%EC%98%81%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"해당 settingsjson file은 실제 extentions 설정의 값을 그대로 반영합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해당 settings.json file은 실제 extentions 설정의 값을 그대로 반영합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112277273-ee095600-8cc4-11eb-98b2-0dd559b6f7b7.JPG\" alt=\"캡처55555\"></p>\n<ul>\n<li>그러나 다음과 같이 main path로 등록이 될 부분들은 빈칸이 되어야 했습니다.  </li>\n<li>저의 경우에는 해당 칸들이 자동으로 undefined로 채워져 있었습니다.  </li>\n<li>또한 이미 undefined로 채워져 있었을 경우 이후 빈칸으로 만든 뒤 저장을해도 setting.json 파일에서는 인식이 안되는 이슈가 있습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"그래서-저는-settingsjson-file을-직접-수정했습니다\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%A0%80%EB%8A%94-settingsjson-file%EC%9D%84-%EC%A7%81%EC%A0%91-%EC%88%98%EC%A0%95%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"그래서 저는 settingsjson file을 직접 수정했습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 저는 settings.json file을 직접 수정했습니다.</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">## 해당 부분이 helm이나 kubectl들의 main 바이너리 위치를 읽는 부분입니다.</span>\n\n<span class=\"token string\">\"vs-kubernetes\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token string\">\"vscode-kubernetes.helm-path.windows\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"C:\\\\Users\\\\USER\\\\.vs-kubernetes\\\\tools\\\\helm\\\\windows-amd64\\\\helm.exe\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"vscode-kubernetes.minikube-path.windows\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"C:\\\\Users\\\\USER\\\\.vs-kubernetes\\\\tools\\\\minikube\\\\windows-amd64\\\\minikube.exe\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"vs-kubernetes.kubeconfig\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">,</span>    <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span> 지정하지 않고 undefined 로 둬야함\n<span class=\"token string\">\"vscode-kubernetes.kubectl-path.windows\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"C:\\\\Users\\\\USER\\\\.vs-kubernetes\\\\tools\\\\kubectl\\\\kubectl.exe\"</span>  <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span> 해당 환경 변수 문을 추가\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"위-까지-모든-설정을-완료했으면-가이드-대로-aks-연결-시-정상-연결됩니다\" style=\"position:relative;\"><a href=\"#%EC%9C%84-%EA%B9%8C%EC%A7%80-%EB%AA%A8%EB%93%A0-%EC%84%A4%EC%A0%95%EC%9D%84-%EC%99%84%EB%A3%8C%ED%96%88%EC%9C%BC%EB%A9%B4-%EA%B0%80%EC%9D%B4%EB%93%9C-%EB%8C%80%EB%A1%9C-aks-%EC%97%B0%EA%B2%B0-%EC%8B%9C-%EC%A0%95%EC%83%81-%EC%97%B0%EA%B2%B0%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"위 까지 모든 설정을 완료했으면 가이드 대로 aks 연결 시 정상 연결됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>위 까지 모든 설정을 완료했으면 가이드 대로 AKS 연결 시 정상 연결됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112278060-c23aa000-8cc5-11eb-8b3a-623f0f11f9ca.JPG\" alt=\"222313121\"></p>\n<ul>\n<li>그럼 위처럼 vscode &#x3C;-> aks cluster가 직접 연결되어 환경관리나 배포가 가능합니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<h3 id=\"추가-이슈-발생--cluster는-연결이되나-명령어-실행이-되지-않음\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80-%EC%9D%B4%EC%8A%88-%EB%B0%9C%EC%83%9D--cluster%EB%8A%94-%EC%97%B0%EA%B2%B0%EC%9D%B4%EB%90%98%EB%82%98-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89%EC%9D%B4-%EB%90%98%EC%A7%80-%EC%95%8A%EC%9D%8C\" aria-label=\"추가 이슈 발생  cluster는 연결이되나 명령어 실행이 되지 않음 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가 이슈 발생 : Cluster는 연결이되나 명령어 실행이 되지 않음</h3>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112402848-a03a2f80-8d50-11eb-8e70-eee856ff7a16.JPG\" alt=\"캡처\"></p>\n<ul>\n<li>사실 ERROR만 봐도 알 수 있는 error 입니다. </li>\n<li>위의 Settings.json File에서 Config File의 위치를 지정해야함  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"저의-최종-settingsjson-file은-다음과-같습니다\" style=\"position:relative;\"><a href=\"#%EC%A0%80%EC%9D%98-%EC%B5%9C%EC%A2%85-settingsjson-file%EC%9D%80-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"저의 최종 settingsjson file은 다음과 같습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>저의 최종 Settings.json File은 다음과 같습니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403164-425a1780-8d51-11eb-8132-c792deee9559.JPG\" alt=\"캡처2\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"간단한-테스트-yaml을-하나-생성해서-배포해보겠습니다\" style=\"position:relative;\"><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8-yaml%EC%9D%84-%ED%95%98%EB%82%98-%EC%83%9D%EC%84%B1%ED%95%B4%EC%84%9C-%EB%B0%B0%ED%8F%AC%ED%95%B4%EB%B3%B4%EA%B2%A0%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"간단한 테스트 yaml을 하나 생성해서 배포해보겠습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>간단한 테스트 Yaml을 하나 생성해서 배포해보겠습니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403390-aa106280-8d51-11eb-97f5-f91408e8fa4d.JPG\" alt=\"캡처3\"></p>\n<br/>\n</li>\n<li>\n<h4 id=\"vscode에서-yaml-작성-후-shift--ctrl--p-입력-후-create로-배포\" style=\"position:relative;\"><a href=\"#vscode%EC%97%90%EC%84%9C-yaml-%EC%9E%91%EC%84%B1-%ED%9B%84-shift--ctrl--p-%EC%9E%85%EB%A0%A5-%ED%9B%84-create%EB%A1%9C-%EB%B0%B0%ED%8F%AC\" aria-label=\"vscode에서 yaml 작성 후 shift  ctrl  p 입력 후 create로 배포 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>vscode에서 yaml 작성 후 Shift + Ctrl + P 입력 후 Create로 배포</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403539-ef349480-8d51-11eb-9239-54a97f38e4fc.JPG\" alt=\"캡처4\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"실제-연결된-cluster의-pod-목록에서도-확인히-가능합니다\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%A0%9C-%EC%97%B0%EA%B2%B0%EB%90%9C-cluster%EC%9D%98-pod-%EB%AA%A9%EB%A1%9D%EC%97%90%EC%84%9C%EB%8F%84-%ED%99%95%EC%9D%B8%ED%9E%88-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"실제 연결된 cluster의 pod 목록에서도 확인히 가능합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실제 연결된 Cluster의 pod 목록에서도 확인히 가능합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403663-2b67f500-8d52-11eb-9b83-57a2646d5bc9.JPG\" alt=\"캡처5\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"또한-명령어로-입력하지-않고-클릭으로만-확인이-가능합니다\" style=\"position:relative;\"><a href=\"#%EB%98%90%ED%95%9C-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%EC%9E%85%EB%A0%A5%ED%95%98%EC%A7%80-%EC%95%8A%EA%B3%A0-%ED%81%B4%EB%A6%AD%EC%9C%BC%EB%A1%9C%EB%A7%8C-%ED%99%95%EC%9D%B8%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"또한 명령어로 입력하지 않고 클릭으로만 확인이 가능합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>또한 명령어로 입력하지 않고 클릭으로만 확인이 가능합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403794-6c600980-8d52-11eb-895e-872580f22dea.JPG\" alt=\"캡처6\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며…</h2>\n<p>환경변수의 문제의 경우 제 노트북 환경에서만 발생한 문제라 (검색해도 나오질 않음)<br>\n꽤나 애를 먹었습니다. 결국은 하루를 사용해서 잘 해결하긴 했지만 돌이켜보면<br>\n충분히 가지고 있는 지식만으로 1~2시간 내에 해결 할 수 있었던 문제 인 것 같습니다.<br>\n다음에는 연결된 aks에 kafka를 구동시키는 포스트로 뵙겠습니다.  </p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-preview--vscode%EB%A1%9C-k8s%EB%A5%BC-%EA%B4%80%EB%A6%AC%ED%95%9C%EB%8B%A4%EB%A9%B4\">✔ Preview : VSCODE로 k8s를 관리한다면?</a></p>\n<ul>\n<li><a href=\"#%EA%B7%B8%EB%83%A5-%EA%B2%81%EB%82%98-%ED%8E%B8%ED%95%98%EB%8B%A4\">그냥 겁나 편하다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-aks-%EA%B5%AC%EC%84%B1\">✌ AKS 구성</a></p>\n<ul>\n<li><a href=\"#vscode-kubernetes-extentions-%EC%82%AC%EC%9A%A9\">VSCODE Kubernetes extentions 사용</a></li>\n<li><a href=\"#extentions-%EC%97%90-aks-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0\">Extentions 에 AKS 연결하기</a></li>\n<li><a href=\"#%EC%9D%B4%EB%AF%B8-%EC%84%A4%EC%B9%98%EB%90%9C-kubectl-%EB%A7%90%EA%B3%A0%EB%8F%84-%EB%B0%94%EC%9D%B4%EB%84%88%EB%A6%AC%EB%A5%BC-%EC%84%A4%EC%B9%98-%ED%95%A0-%EC%88%98%EB%8F%84-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4\">이미 설치된 kubectl 말고도 바이너리를 설치 할 수도 있습니다.</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며…</a></li>\n</ul>\n</div>","excerpt":"머리말   추후에 Kafka를 k8s Cluster 환경에서 설치 및 구동을 해보려고 합니다. 그래서 일단 YAM을 더 효율적이게 생성하기 위해 VSCODE와 AKS를 연결해봅시다.   ✔ Preview : VSCODE로 k8s를 관리한다면? nasagif 위처럼 pod, service 등의 yaml 형식을 자동으로 정의해 편리하게 사용 가능   굳이 명령어를 치지 않고도 배포 및 상태 확인이 가능   yaml manifest 모아서 관리 한 뒤 helm Chart를 만들기 간편하다.   추가적으로 AKS은 대체로 Cloud Shell을 이용하는데 - Cloud Shell은 docker 명령을 지원하지 않는다.   실…","frontmatter":{"date":"August 19, 2021","title":"[AZURE] VSCODE로 Cloud PaaS k8s (AKS) 관리하기","categories":"CLOUD","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/azure-aksconnect/"}},"next":{"id":"2113ff4f-0a02-5bae-b5c9-faf24641bc18","html":"<p>머리말  </p>\n<p>이전에 한번 Standalone Cluster로 Spark를 설치하는 방법을 알아봤습니다.<br>\n그러나 Azure와 연동하는 과정에서 여러가지 문제가 발생했고<br>\n결국 이전 포스트인 Hadoop Cluster를 구성해서 Spark를 구동시키기로 했습니다.<br>\n이번 포스트에서는 설치한 Hadoop Cluster의 yarn에 Spark를 구동시키는 과정입니다.  </p>\n<hr>\n<h2 id=\"-spark-설치\" style=\"position:relative;\"><a href=\"#-spark-%EC%84%A4%EC%B9%98\" aria-label=\" spark 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ Spark 설치</h2>\n<p>JDK 등의 기본적인 환경설정은 <a href=\"https://nasa1515.tech/data-sparkinstall/\">이전포스트</a>를 확인해주세요.<br>\n이번 포스트에서는 Spark의 설치보다는 yarn과의 연동부분을 중점으로 둡니다.  </p>\n<br/>\n<ul>\n<li>\n<h4 id=\"python-설치-pyspark를-위함\" style=\"position:relative;\"><a href=\"#python-%EC%84%A4%EC%B9%98-pyspark%EB%A5%BC-%EC%9C%84%ED%95%A8\" aria-label=\"python 설치 pyspark를 위함 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Python 설치 (pyspark를 위함)</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">### 사전 파일 설치</span>\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> hadoop<span class=\"token punctuation\">]</span># yum <span class=\"token operator\">-</span>y install gcc openssl<span class=\"token operator\">-</span>devel bzip2<span class=\"token operator\">-</span>devel libffi<span class=\"token operator\">-</span>devel make\n\n\n<span class=\"token preprocessor property\">### 파이썬 설치 및 환경 설정</span>\n\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> home<span class=\"token punctuation\">]</span># <span class=\"token class-name\">wget</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>www<span class=\"token punctuation\">.</span>python<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>ftp<span class=\"token operator\">/</span>python<span class=\"token operator\">/</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token operator\">/</span>Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token punctuation\">.</span>tgz\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> home<span class=\"token punctuation\">]</span># tar xvfz Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token punctuation\">.</span>tgz\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> home<span class=\"token punctuation\">]</span># rm <span class=\"token operator\">-</span>rf Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token punctuation\">.</span>tgz\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> home<span class=\"token punctuation\">]</span># chmod <span class=\"token operator\">-</span>R <span class=\"token number\">777</span> Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token operator\">/</span>\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token punctuation\">]</span># <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>configure <span class=\"token operator\">--</span>enable<span class=\"token operator\">-</span>optimizations\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token punctuation\">]</span># make altinstall\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token punctuation\">]</span># echo <span class=\"token keyword\">alias</span> python<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/local/bin/python3.8\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>bashrc\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token punctuation\">]</span># source <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>bashrc\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token punctuation\">]</span># python <span class=\"token operator\">-</span>V\nPython <span class=\"token number\">3.8</span><span class=\"token number\">.8</span>\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master Python<span class=\"token operator\">-</span><span class=\"token number\">3.8</span><span class=\"token number\">.8</span><span class=\"token punctuation\">]</span># which python\n<span class=\"token keyword\">alias</span> python<span class=\"token operator\">=</span>'<span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>python3<span class=\"token punctuation\">.</span><span class=\"token number\">8</span>'\n        <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>python3<span class=\"token punctuation\">.</span><span class=\"token number\">8</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"spark-계정-설정\" style=\"position:relative;\"><a href=\"#spark-%EA%B3%84%EC%A0%95-%EC%84%A4%EC%A0%95\" aria-label=\"spark 계정 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spark 계정 설정</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># useradd spark\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># passwd spark\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># usermod <span class=\"token operator\">-</span>G wheel spark</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"spark-다운로드-및-설치\" style=\"position:relative;\"><a href=\"#spark-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C-%EB%B0%8F-%EC%84%A4%EC%B9%98\" aria-label=\"spark 다운로드 및 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spark 다운로드 및 설치</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">### Spark 계정 생성 및 설정</span>\n\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># useradd spark\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># passwd spark\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># usermod <span class=\"token operator\">-</span>G wheel spark\n\n<span class=\"token preprocessor property\">### Spark 3.0.2 Version 다운로드</span>\n\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> spark<span class=\"token punctuation\">]</span># <span class=\"token class-name\">wget</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>downloads<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span><span class=\"token number\">3.0</span><span class=\"token number\">.2</span><span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span><span class=\"token number\">3.0</span><span class=\"token number\">.2</span><span class=\"token operator\">-</span>bin<span class=\"token operator\">-</span>hadoop2<span class=\"token punctuation\">.</span><span class=\"token number\">7</span><span class=\"token punctuation\">.</span>tgz\n<span class=\"token operator\">--</span><span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">01</span><span class=\"token punctuation\">:</span><span class=\"token number\">27</span><span class=\"token punctuation\">:</span><span class=\"token number\">27</span><span class=\"token operator\">--</span>  https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>downloads<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span><span class=\"token number\">3.0</span><span class=\"token number\">.2</span><span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span><span class=\"token number\">3.0</span><span class=\"token number\">.2</span><span class=\"token operator\">-</span>bin<span class=\"token operator\">-</span>hadoop2<span class=\"token punctuation\">.</span><span class=\"token number\">7</span><span class=\"token punctuation\">.</span>tgz\n\n<span class=\"token preprocessor property\">### 압축 해제 및 권한 설정</span>\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> spark<span class=\"token punctuation\">]</span># tar xvfz spark<span class=\"token operator\">-</span><span class=\"token number\">3.0</span><span class=\"token number\">.2</span><span class=\"token operator\">-</span>bin<span class=\"token operator\">-</span>hadoop2<span class=\"token punctuation\">.</span><span class=\"token number\">7</span><span class=\"token punctuation\">.</span>tgz\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> spark<span class=\"token punctuation\">]</span># mv spark<span class=\"token operator\">-</span><span class=\"token number\">3.0</span><span class=\"token number\">.2</span><span class=\"token operator\">-</span>bin<span class=\"token operator\">-</span>hadoop2<span class=\"token punctuation\">.</span><span class=\"token number\">7</span> spar\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> spark<span class=\"token punctuation\">]</span># chown <span class=\"token operator\">-</span><span class=\"token class-name\">R</span> spark<span class=\"token punctuation\">:</span>spark spark\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> spark<span class=\"token punctuation\">]</span># chmod <span class=\"token operator\">-</span>R <span class=\"token number\">777</span> spark</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"spark-환경변수-등록-spark-계정-hadoop-계정-진행\" style=\"position:relative;\"><a href=\"#spark-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EB%93%B1%EB%A1%9D-spark-%EA%B3%84%EC%A0%95-hadoop-%EA%B3%84%EC%A0%95-%EC%A7%84%ED%96%89\" aria-label=\"spark 환경변수 등록 spark 계정 hadoop 계정 진행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spark 환경변수 등록 (Spark 계정, Hadoop 계정 진행)</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ echo <span class=\"token class-name\">export</span> PATH<span class=\"token operator\">=</span>'$PATH'<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>bin <span class=\"token operator\">>></span> <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>bashrc\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ echo <span class=\"token class-name\">export</span> JAVA_HOME<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.275.b01-1.el8_3.x86_64\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>bashrc\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ tail <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>bashrc\n<span class=\"token class-name\">export</span> PATH<span class=\"token operator\">=</span>$PATH<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>bin\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ soruce <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">bashrc</span>\nbash<span class=\"token punctuation\">:</span> soruce<span class=\"token punctuation\">:</span> command <span class=\"token keyword\">not</span> found\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ source <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>bashrc\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ echo $PATH\n<span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>local<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>local<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>sbin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>sbin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>jvm<span class=\"token operator\">/</span>java<span class=\"token operator\">-</span><span class=\"token number\">1.8</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span>openjdk<span class=\"token operator\">-</span><span class=\"token number\">1.8</span><span class=\"token number\">.0</span><span class=\"token number\">.275</span><span class=\"token punctuation\">.</span>b01<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">.</span>el8_3<span class=\"token punctuation\">.</span>x86_64<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>hadoop<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>hadoop<span class=\"token operator\">/</span>sbin<span class=\"token punctuation\">::</span><span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>bin</code></pre></div>\n<br/>\n</li>\n<li>\n<h4 id=\"spark-config-설정\" style=\"position:relative;\"><a href=\"#spark-config-%EC%84%A4%EC%A0%95\" aria-label=\"spark config 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spark Config 설정</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">#### spark-env.sh 에 다음 설정 추가</span>\n\n<span class=\"token preprocessor property\">## nasa settin</span>\n\n<span class=\"token preprocessor property\">## nasa settin</span>\n\n<span class=\"token class-name\">export</span> JAVA_HOME<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.275.b01-1.el8_3.x86_64\"</span>\n<span class=\"token class-name\">export</span> SPARK_WORKER_INSTANCES<span class=\"token operator\">=</span><span class=\"token number\">2</span>\n<span class=\"token class-name\">export</span> PYSPARK_PYTHON<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/bin/python3\"</span>\n<span class=\"token class-name\">export</span> HADOOP_HOME<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/local/hadoop\"</span>\n<span class=\"token class-name\">export</span> HADOOP_CONF_DIR<span class=\"token operator\">=</span>$HADOOP_HOME<span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hadoop\n<span class=\"token class-name\">export</span> YARN_CONF_DIR<span class=\"token operator\">=</span>$HADOOP_HOME<span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hadoop    \n\n\n<span class=\"token preprocessor property\">#### spark-defaults.conf 설정</span>\n\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> conf<span class=\"token punctuation\">]</span>$ cp spark<span class=\"token operator\">-</span>defaults<span class=\"token punctuation\">.</span>conf<span class=\"token punctuation\">.</span>template spark<span class=\"token operator\">-</span>defaults<span class=\"token punctuation\">.</span>conf\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> conf<span class=\"token punctuation\">]</span>$ vim spark<span class=\"token operator\">-</span>defaults<span class=\"token punctuation\">.</span>conf\n\n<span class=\"token preprocessor property\">## 설정 추가    </span>\nspark<span class=\"token punctuation\">.</span>master                    yarn\nspark<span class=\"token punctuation\">.</span>deploy<span class=\"token punctuation\">.</span>mode               client</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"spark-pyspark-동작-확인\" style=\"position:relative;\"><a href=\"#spark-pyspark-%EB%8F%99%EC%9E%91-%ED%99%95%EC%9D%B8\" aria-label=\"spark pyspark 동작 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spark, pyspark 동작 확인</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">### Spark-shell 동작확인</span>\n\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> root<span class=\"token punctuation\">]</span>$ spark<span class=\"token operator\">-</span>shell\n<span class=\"token number\">21</span><span class=\"token operator\">/</span><span class=\"token number\">03</span><span class=\"token operator\">/</span><span class=\"token number\">10</span> <span class=\"token number\">01</span><span class=\"token punctuation\">:</span><span class=\"token number\">56</span><span class=\"token punctuation\">:</span><span class=\"token number\">03</span> <span class=\"token class-name\">WARN</span> NativeCodeLoader<span class=\"token punctuation\">:</span> Unable to load native<span class=\"token operator\">-</span>hadoop library <span class=\"token keyword\">for</span> your platform<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">using</span> builtin<span class=\"token operator\">-</span>java classes <span class=\"token keyword\">where</span> <span class=\"token class-name\">applicable</span>\nUsing Spark's <span class=\"token keyword\">default</span> <span class=\"token class-name\">log4j</span> profile<span class=\"token punctuation\">:</span> org<span class=\"token operator\">/</span>apache<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>log4j<span class=\"token operator\">-</span>defaults<span class=\"token punctuation\">.</span>properties\nSetting <span class=\"token keyword\">default</span> log level to <span class=\"token string\">\"WARN\"</span><span class=\"token punctuation\">.</span>\nTo adjust logging level <span class=\"token return-type class-name\">use</span> sc<span class=\"token punctuation\">.</span><span class=\"token function\">setLogLevel</span><span class=\"token punctuation\">(</span>newLevel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token class-name\">For</span> SparkR<span class=\"token punctuation\">,</span> <span class=\"token return-type class-name\">use</span> <span class=\"token function\">setLogLevel</span><span class=\"token punctuation\">(</span>newLevel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\nSpark context Web UI available <span class=\"token class-name\">at</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>hadoop<span class=\"token operator\">-</span>master<span class=\"token punctuation\">:</span><span class=\"token number\">4040</span>\nSpark context available <span class=\"token keyword\">as</span> 'sc' <span class=\"token punctuation\">(</span>master <span class=\"token operator\">=</span> local<span class=\"token punctuation\">[</span><span class=\"token operator\">*</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">app</span> id <span class=\"token operator\">=</span> local<span class=\"token operator\">-</span><span class=\"token number\">1615341369333</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\nSpark session available <span class=\"token keyword\">as</span> 'spark'<span class=\"token punctuation\">.</span>\nWelcome to\n    ____              __\n    <span class=\"token operator\">/</span> __<span class=\"token operator\">/</span>__  ___ _____<span class=\"token operator\">/</span> <span class=\"token operator\">/</span>__\n    _\\ \\<span class=\"token operator\">/</span> _ \\<span class=\"token operator\">/</span> _ `<span class=\"token operator\">/</span> __<span class=\"token operator\">/</span>  '_<span class=\"token operator\">/</span>\n<span class=\"token operator\">/</span>___<span class=\"token operator\">/</span> <span class=\"token punctuation\">.</span>__<span class=\"token operator\">/</span>\\_<span class=\"token punctuation\">,</span>_<span class=\"token operator\">/</span>_<span class=\"token operator\">/</span> <span class=\"token operator\">/</span>_<span class=\"token operator\">/</span>\\_\\   version <span class=\"token number\">3.0</span><span class=\"token number\">.2</span>\n    <span class=\"token operator\">/</span>_<span class=\"token operator\">/</span>\n\nUsing Scala version <span class=\"token number\">2.12</span><span class=\"token number\">.10</span> <span class=\"token punctuation\">(</span>OpenJDK <span class=\"token number\">64</span><span class=\"token operator\">-</span>Bit <span class=\"token class-name\">Server</span> VM<span class=\"token punctuation\">,</span> Java <span class=\"token number\">1.8</span><span class=\"token number\">.0_275</span><span class=\"token punctuation\">)</span>\nType <span class=\"token keyword\">in</span> expressions to have them evaluated<span class=\"token punctuation\">.</span>\nType <span class=\"token punctuation\">:</span>help <span class=\"token keyword\">for</span> more information<span class=\"token punctuation\">.</span>\n\nscala<span class=\"token operator\">></span>\n\n\n\n\n<span class=\"token preprocessor property\">### pyspark 동작 확인</span>\n\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> conf<span class=\"token punctuation\">]</span>$ pyspark\nPython <span class=\"token number\">3.6</span><span class=\"token number\">.8</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">,</span> Apr <span class=\"token number\">16</span> <span class=\"token number\">2020</span><span class=\"token punctuation\">,</span> <span class=\"token number\">01</span><span class=\"token punctuation\">:</span><span class=\"token number\">36</span><span class=\"token punctuation\">:</span><span class=\"token number\">27</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span>GCC <span class=\"token number\">8.3</span><span class=\"token number\">.1</span> <span class=\"token number\">20191121</span> <span class=\"token punctuation\">(</span>Red Hat <span class=\"token number\">8.3</span><span class=\"token number\">.1</span><span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">on</span> linux\nType <span class=\"token string\">\"help\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"copyright\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"credits\"</span> <span class=\"token keyword\">or</span> <span class=\"token string\">\"license\"</span> <span class=\"token keyword\">for</span> more information<span class=\"token punctuation\">.</span>\n<span class=\"token number\">21</span><span class=\"token operator\">/</span><span class=\"token number\">03</span><span class=\"token operator\">/</span><span class=\"token number\">10</span> <span class=\"token number\">01</span><span class=\"token punctuation\">:</span><span class=\"token number\">59</span><span class=\"token punctuation\">:</span><span class=\"token number\">44</span> <span class=\"token class-name\">WARN</span> NativeCodeLoader<span class=\"token punctuation\">:</span> Unable to load native<span class=\"token operator\">-</span>hadoop library <span class=\"token keyword\">for</span> your platform<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">using</span> builtin<span class=\"token operator\">-</span>java classes <span class=\"token keyword\">where</span> <span class=\"token class-name\">applicable</span>\nUsing Spark's <span class=\"token keyword\">default</span> <span class=\"token class-name\">log4j</span> profile<span class=\"token punctuation\">:</span> org<span class=\"token operator\">/</span>apache<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>log4j<span class=\"token operator\">-</span>defaults<span class=\"token punctuation\">.</span>properties\nSetting <span class=\"token keyword\">default</span> log level to <span class=\"token string\">\"WARN\"</span><span class=\"token punctuation\">.</span>\nTo adjust logging level <span class=\"token return-type class-name\">use</span> sc<span class=\"token punctuation\">.</span><span class=\"token function\">setLogLevel</span><span class=\"token punctuation\">(</span>newLevel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> <span class=\"token class-name\">For</span> SparkR<span class=\"token punctuation\">,</span> <span class=\"token return-type class-name\">use</span> <span class=\"token function\">setLogLevel</span><span class=\"token punctuation\">(</span>newLevel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\nWelcome to\n    ____              __\n    <span class=\"token operator\">/</span> __<span class=\"token operator\">/</span>__  ___ _____<span class=\"token operator\">/</span> <span class=\"token operator\">/</span>__\n    _\\ \\<span class=\"token operator\">/</span> _ \\<span class=\"token operator\">/</span> _ `<span class=\"token operator\">/</span> __<span class=\"token operator\">/</span>  '_<span class=\"token operator\">/</span>\n<span class=\"token operator\">/</span>__ <span class=\"token operator\">/</span> <span class=\"token punctuation\">.</span>__<span class=\"token operator\">/</span>\\_<span class=\"token punctuation\">,</span>_<span class=\"token operator\">/</span>_<span class=\"token operator\">/</span> <span class=\"token operator\">/</span>_<span class=\"token operator\">/</span>\\_\\   version <span class=\"token number\">3.0</span><span class=\"token number\">.2</span>\n    <span class=\"token operator\">/</span>_<span class=\"token operator\">/</span>\n\nUsing Python version <span class=\"token number\">3.6</span><span class=\"token number\">.8</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">,</span> Apr <span class=\"token number\">16</span> <span class=\"token number\">2020</span> <span class=\"token number\">01</span><span class=\"token punctuation\">:</span><span class=\"token number\">36</span><span class=\"token punctuation\">:</span><span class=\"token number\">27</span><span class=\"token punctuation\">)</span>\nSparkSession available <span class=\"token keyword\">as</span> 'spark'<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">2</span>\n<span class=\"token number\">3</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"yarn-에서-spark-app이-제대로-구동되는지-확인-겸-스크립트를-만들어보죠\" style=\"position:relative;\"><a href=\"#yarn-%EC%97%90%EC%84%9C-spark-app%EC%9D%B4-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EA%B5%AC%EB%8F%99%EB%90%98%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8-%EA%B2%B8-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B3%B4%EC%A3%A0\" aria-label=\"yarn 에서 spark app이 제대로 구동되는지 확인 겸 스크립트를 만들어보죠 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>YARN 에서 SPARK APP이 제대로 구동되는지 확인 겸 스크립트를 만들어보죠</h4>\n<p>어제 hdfs에 올려논 test data의 session수를 얻는 간단한 스크립트 </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>hadoop@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> nasa1515<span class=\"token punctuation\">]</span>$ hdfs dfs <span class=\"token operator\">-</span>ls <span class=\"token operator\">/</span>\nFound <span class=\"token number\">1</span> items\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span>   <span class=\"token number\">3</span> hadoop supergroup  <span class=\"token number\">500253789</span> <span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">09</span> <span class=\"token number\">08</span><span class=\"token punctuation\">:</span><span class=\"token number\">47</span> <span class=\"token operator\">/</span>nasa<span class=\"token punctuation\">.</span>csv</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token keyword\">from</span> pyspark<span class=\"token punctuation\">.</span>sql import <span class=\"token class-name\">SparkSession</span>\n\nspark <span class=\"token operator\">=</span> SparkSession \\\n    <span class=\"token punctuation\">.</span>builder \\\n    <span class=\"token punctuation\">.</span><span class=\"token function\">appName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Python Spark SQL basic example\"</span><span class=\"token punctuation\">)</span> \\\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getOrCreate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\ndf <span class=\"token operator\">=</span> spark<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">.</span><span class=\"token function\">option</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"header\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"true\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">csv</span><span class=\"token punctuation\">(</span>'hdfs<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>nasa<span class=\"token punctuation\">.</span>csv'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">cache</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\ndf<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"해당-스크립트를-돌려봅시다\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EB%8B%B9-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A5%BC-%EB%8F%8C%EB%A0%A4%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\"해당 스크립트를 돌려봅시다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해당 스크립트를 돌려봅시다</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> conf<span class=\"token punctuation\">]</span>$ spark<span class=\"token operator\">-</span>submit <span class=\"token operator\">--</span>master yarn <span class=\"token operator\">--</span>deploy<span class=\"token operator\">-</span>mode client <span class=\"token operator\">--</span>executor<span class=\"token operator\">-</span>memory 1g <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>test<span class=\"token punctuation\">.</span>py\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">493</span> WARN util<span class=\"token punctuation\">.</span>NativeCodeLoader<span class=\"token punctuation\">:</span> Unable to load native<span class=\"token operator\">-</span>hadoop library <span class=\"token keyword\">for</span> your platform<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">using</span> builtin<span class=\"token operator\">-</span>java classes <span class=\"token keyword\">where</span> <span class=\"token class-name\">applicable</span>\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span><span class=\"token number\">137</span> INFO spark<span class=\"token punctuation\">.</span>SparkContext<span class=\"token punctuation\">:</span> Running Spark version <span class=\"token number\">3.0</span><span class=\"token number\">.2</span>\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span><span class=\"token number\">177</span> INFO resource<span class=\"token punctuation\">.</span>ResourceUtils<span class=\"token punctuation\">:</span> <span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">11</span><span class=\"token punctuation\">,</span><span class=\"token number\">185</span> INFO resource<span class=\"token punctuation\">.</span>ResourceUtils<span class=\"token punctuation\">:</span> Resources <span class=\"token keyword\">for</span> spark<span class=\"token punctuation\">.</span>driver<span class=\"token punctuation\">:</span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>중략<span class=\"token punctuation\">)</span>\n\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">402</span> INFO spark<span class=\"token punctuation\">.</span>SparkContext<span class=\"token punctuation\">:</span> <span class=\"token return-type class-name\">Invoking</span> <span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> shutdown hook\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">410</span> INFO server<span class=\"token punctuation\">.</span>AbstractConnector<span class=\"token punctuation\">:</span> Stopped Spark@6f05fe89<span class=\"token punctuation\">{</span>HTTP<span class=\"token operator\">/</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>http<span class=\"token operator\">/</span><span class=\"token number\">1.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span><span class=\"token number\">0.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token punctuation\">:</span><span class=\"token number\">4040</span><span class=\"token punctuation\">}</span>\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">412</span> INFO ui<span class=\"token punctuation\">.</span>SparkUI<span class=\"token punctuation\">:</span> Stopped Spark web UI <span class=\"token class-name\">at</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>hadoop<span class=\"token operator\">-</span>master<span class=\"token punctuation\">:</span><span class=\"token number\">4040</span>\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">416</span> INFO cluster<span class=\"token punctuation\">.</span>YarnClientSchedulerBackend<span class=\"token punctuation\">:</span> Interrupting monitor thread\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">438</span> INFO cluster<span class=\"token punctuation\">.</span>YarnClientSchedulerBackend<span class=\"token punctuation\">:</span> Shutting down all executors\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">438</span> INFO cluster<span class=\"token punctuation\">.</span>YarnSchedulerBackend$YarnDriverEndpoint<span class=\"token punctuation\">:</span> Asking each executor to shut down\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">443</span> INFO cluster<span class=\"token punctuation\">.</span>YarnClientSchedulerBackend<span class=\"token punctuation\">:</span> YARN client scheduler backend Stopped\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">452</span> INFO spark<span class=\"token punctuation\">.</span>MapOutputTrackerMasterEndpoint<span class=\"token punctuation\">:</span> MapOutputTrackerMasterEndpoint stopped<span class=\"token operator\">!</span>\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">463</span> INFO memory<span class=\"token punctuation\">.</span>MemoryStore<span class=\"token punctuation\">:</span> MemoryStore cleared\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">464</span> INFO storage<span class=\"token punctuation\">.</span>BlockManager<span class=\"token punctuation\">:</span> BlockManager stopped\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">469</span> INFO storage<span class=\"token punctuation\">.</span>BlockManagerMaster<span class=\"token punctuation\">:</span> BlockManagerMaster stopped\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">475</span> INFO scheduler<span class=\"token punctuation\">.</span>OutputCommitCoordinator$OutputCommitCoordinatorEndpoint<span class=\"token punctuation\">:</span> OutputCommitCoordinator stopped<span class=\"token operator\">!</span>\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">497</span> INFO spark<span class=\"token punctuation\">.</span>SparkContext<span class=\"token punctuation\">:</span> Successfully stopped SparkContext\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">498</span> INFO util<span class=\"token punctuation\">.</span>ShutdownHookManager<span class=\"token punctuation\">:</span> Shutdown hook called\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">498</span> INFO util<span class=\"token punctuation\">.</span>ShutdownHookManager<span class=\"token punctuation\">:</span> Deleting directory <span class=\"token operator\">/</span>tmp<span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span>b04d174a<span class=\"token operator\">-</span>0be5<span class=\"token operator\">-</span>44ee<span class=\"token operator\">-</span>87ad<span class=\"token operator\">-</span>8915e64b3d51\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">501</span> INFO util<span class=\"token punctuation\">.</span>ShutdownHookManager<span class=\"token punctuation\">:</span> Deleting directory <span class=\"token operator\">/</span>tmp<span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span>b04d174a<span class=\"token operator\">-</span>0be5<span class=\"token operator\">-</span>44ee<span class=\"token operator\">-</span>87ad<span class=\"token operator\">-</span>8915e64b3d51<span class=\"token operator\">/</span>pyspark<span class=\"token operator\">-</span>5cf80ddf<span class=\"token operator\">-</span>89c1<span class=\"token operator\">-</span><span class=\"token number\">4330</span><span class=\"token operator\">-</span>93c8<span class=\"token operator\">-</span>28e2f93b6c08\n<span class=\"token number\">2021</span><span class=\"token operator\">-</span><span class=\"token number\">03</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">20</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span><span class=\"token number\">510</span> INFO util<span class=\"token punctuation\">.</span>ShutdownHookManager<span class=\"token punctuation\">:</span> Deleting directory <span class=\"token operator\">/</span>tmp<span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span>dd89ea67<span class=\"token operator\">-</span>71be<span class=\"token operator\">-</span><span class=\"token number\">4e21</span><span class=\"token operator\">-</span>ba16<span class=\"token operator\">-</span>ee7623fea72a</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"이제-hadoop의-manager-web에서-확인이-가능합니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%9C-hadoop%EC%9D%98-manager-web%EC%97%90%EC%84%9C-%ED%99%95%EC%9D%B8%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"이제 hadoop의 manager web에서 확인이 가능합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이제 Hadoop의 Manager WEB에서 확인이 가능합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/110577703-858b8680-81a6-11eb-879b-2ad3f739c549.JPG\" alt=\"123123123123\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"그럼-spark를-가동시켜주고\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9F%BC-spark%EB%A5%BC-%EA%B0%80%EB%8F%99%EC%8B%9C%EC%BC%9C%EC%A3%BC%EA%B3%A0\" aria-label=\"그럼 spark를 가동시켜주고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그럼 spark를 가동시켜주고</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> sbin<span class=\"token punctuation\">]</span>$ start<span class=\"token operator\">-</span>master<span class=\"token punctuation\">.</span>sh\nstarting org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>spark<span class=\"token punctuation\">.</span>deploy<span class=\"token punctuation\">.</span>master<span class=\"token punctuation\">.</span>Master<span class=\"token punctuation\">,</span> logging to <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span>spark<span class=\"token operator\">-</span>org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>spark<span class=\"token punctuation\">.</span>deploy<span class=\"token punctuation\">.</span>master<span class=\"token punctuation\">.</span>Master<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">-</span>hadoop<span class=\"token operator\">-</span>master<span class=\"token punctuation\">.</span><span class=\"token keyword\">out</span>\n\n<span class=\"token punctuation\">[</span>spark@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> sbin<span class=\"token punctuation\">]</span>$ start<span class=\"token operator\">-</span><span class=\"token class-name\">slave<span class=\"token punctuation\">.</span>sh</span> spark<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>hadoop<span class=\"token operator\">-</span>master<span class=\"token punctuation\">:</span><span class=\"token number\">7077</span>\nstarting org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>spark<span class=\"token punctuation\">.</span>deploy<span class=\"token punctuation\">.</span>worker<span class=\"token punctuation\">.</span>Worker<span class=\"token punctuation\">,</span> logging to <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span>spark<span class=\"token operator\">-</span>org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>spark<span class=\"token punctuation\">.</span>deploy<span class=\"token punctuation\">.</span>worker<span class=\"token punctuation\">.</span>Worker<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">-</span>hadoop<span class=\"token operator\">-</span>master<span class=\"token punctuation\">.</span><span class=\"token keyword\">out</span>\nstarting org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>spark<span class=\"token punctuation\">.</span>deploy<span class=\"token punctuation\">.</span>worker<span class=\"token punctuation\">.</span>Worker<span class=\"token punctuation\">,</span> logging to <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>spark<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>spark<span class=\"token operator\">-</span>spark<span class=\"token operator\">-</span>org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>spark<span class=\"token punctuation\">.</span>deploy<span class=\"token punctuation\">.</span>worker<span class=\"token punctuation\">.</span>Worker<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">-</span>hadoop<span class=\"token operator\">-</span>master<span class=\"token punctuation\">.</span><span class=\"token keyword\">out</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-zeppelin-설치-후-연동을-확인해봅시다\" style=\"position:relative;\"><a href=\"#-zeppelin-%EC%84%A4%EC%B9%98-%ED%9B%84-%EC%97%B0%EB%8F%99%EC%9D%84-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\" zeppelin 설치 후 연동을 확인해봅시다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ Zeppelin 설치 후 연동을 확인해봅시다.</h2>\n<ul>\n<li>\n<h4 id=\"zepplein-설치-및-권한-설정\" style=\"position:relative;\"><a href=\"#zepplein-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EA%B6%8C%ED%95%9C-%EC%84%A4%EC%A0%95\" aria-label=\"zepplein 설치 및 권한 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Zepplein 설치 및 권한 설정</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># useradd zeppelin\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># passwd zeppelin\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># cd <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>zeppelin<span class=\"token operator\">/</span>\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> zeppelin<span class=\"token punctuation\">]</span># <span class=\"token class-name\">wget</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token class-name\">downloads<span class=\"token punctuation\">.</span>apachewget</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>downloads<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>zeppelin<span class=\"token operator\">/</span>zeppelin<span class=\"token operator\">-</span><span class=\"token number\">0.9</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span>preview2<span class=\"token operator\">/</span>zeppelin<span class=\"token operator\">-</span><span class=\"token number\">0.9</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span>preview2<span class=\"token operator\">-</span>bin<span class=\"token operator\">-</span>all<span class=\"token punctuation\">.</span>tgz\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> zeppelin<span class=\"token punctuation\">]</span># tar xvfz zeppelin<span class=\"token operator\">-</span><span class=\"token number\">0.9</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span>preview2<span class=\"token operator\">-</span>bin<span class=\"token operator\">-</span>all<span class=\"token punctuation\">.</span>tgz\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> zeppelin<span class=\"token punctuation\">]</span># mv zeppelin<span class=\"token operator\">-</span><span class=\"token number\">0.9</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span>preview2<span class=\"token operator\">-</span>bin<span class=\"token operator\">-</span>all zeppelin\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> zeppelin<span class=\"token punctuation\">]</span># chown <span class=\"token operator\">-</span><span class=\"token class-name\">R</span> zeppelin<span class=\"token punctuation\">:</span>zeppelin zeppelin\n<span class=\"token punctuation\">[</span>root@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> zeppelin<span class=\"token punctuation\">]</span># chmod <span class=\"token operator\">-</span>R <span class=\"token number\">777</span> zeppelin</code></pre></div>\n<br/>\n</li>\n<li>\n<h4 id=\"환경변수-설정-zeppelin-계정\" style=\"position:relative;\"><a href=\"#%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%84%A4%EC%A0%95-zeppelin-%EA%B3%84%EC%A0%95\" aria-label=\"환경변수 설정 zeppelin 계정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>환경변수 설정 [zeppelin 계정]</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>zeppelin@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ echo <span class=\"token class-name\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token string\">\"$PATH:/home/zeppelin/zeppelin/bin\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>bashrc\n<span class=\"token punctuation\">[</span>zeppelin@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ source <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>bashrc\n\n<span class=\"token preprocessor property\">### 총 내용 </span>\n\n<span class=\"token class-name\">export</span> JAVA_HOME<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.275.b01-1.el8_3.x86_64\"</span>\n<span class=\"token class-name\">export</span> HADOOP_HOME<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/local/hadoop\"</span>\n<span class=\"token class-name\">export</span> SPARK_HOME<span class=\"token operator\">=</span><span class=\"token string\">\"/home/spark/spark\"</span>\n<span class=\"token class-name\">export</span> PATH<span class=\"token operator\">=</span><span class=\"token string\">\"$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:\"</span>\n<span class=\"token class-name\">export</span> LD_LIBRARY_PATH<span class=\"token operator\">=</span>$HADOOP_HOME<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>native<span class=\"token punctuation\">:</span>$LD_LIBRARY_PATH\n<span class=\"token class-name\">export</span> PATH<span class=\"token operator\">=</span>$PATH<span class=\"token punctuation\">:</span>$SPARK_HOME<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span>$HADDOP_HOME<span class=\"token operator\">/</span>bin<span class=\"token punctuation\">:</span>$HADOOP_HOME<span class=\"token operator\">/</span>sbin</code></pre></div>\n<br/>\n</li>\n<li>\n<h4 id=\"zeppelin-환경-설정\" style=\"position:relative;\"><a href=\"#zeppelin-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95\" aria-label=\"zeppelin 환경 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Zeppelin 환경 설정</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>zeppelin@hadoop<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ cd <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>zeppelin<span class=\"token operator\">/</span>zeppelin<span class=\"token operator\">/</span>conf\n<span class=\"token punctuation\">[</span>zeppelin@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> conf<span class=\"token punctuation\">]</span>$ cp zeppelin<span class=\"token operator\">-</span>env<span class=\"token punctuation\">.</span>sh<span class=\"token punctuation\">.</span>template zeppelin<span class=\"token operator\">-</span>env<span class=\"token punctuation\">.</span>sh\n\n\n<span class=\"token preprocessor property\">### 설정 추가</span>\n\n\n\n<span class=\"token class-name\">export</span> JAVA_HOME<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.275.b01-1.el8_3.x86_64\"</span>\n<span class=\"token class-name\">export</span> SPARK_HOME<span class=\"token operator\">=</span><span class=\"token string\">\"/home/spark/spark\"</span>\n<span class=\"token class-name\">export</span> MASTER<span class=\"token operator\">=</span>yarn<span class=\"token operator\">-</span>client\n<span class=\"token class-name\">export</span> HADOOP_HOME<span class=\"token operator\">=</span><span class=\"token string\">\"/usr/local/hadoop\"</span>\n<span class=\"token class-name\">export</span> HADOOP_CONF_DIR<span class=\"token operator\">=</span>$HADOOP_HOME<span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hadoop\n<span class=\"token class-name\">export</span> YARN_CONF_DIR<span class=\"token operator\">=</span>$HADOOP_HOME<span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hadoop\n\n\n<span class=\"token preprocessor property\">### zeppelin-site.xml 수정</span>\n\nzeppelin<span class=\"token operator\">-</span>site<span class=\"token punctuation\">.</span>xml\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>zeppelin<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>addr<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>name<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token keyword\">value</span><span class=\"token operator\">></span><span class=\"token number\">10.0</span><span class=\"token number\">.0</span><span class=\"token number\">.5</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token keyword\">value</span><span class=\"token operator\">></span> <span class=\"token operator\">-></span> Client IP로 변경\n<span class=\"token operator\">&lt;</span>description<span class=\"token operator\">></span>Server binding address<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>description<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>property<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>zeppelin<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>port<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>name<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token keyword\">value</span><span class=\"token operator\">></span><span class=\"token number\">7777</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token keyword\">value</span><span class=\"token operator\">></span>  <span class=\"token operator\">-></span> <span class=\"token number\">8080</span>은 Spark가 쓰고있기에 <span class=\"token number\">7777</span>로 설정\n<span class=\"token operator\">&lt;</span>description<span class=\"token operator\">></span>Server port<span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>description<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>property<span class=\"token operator\">></span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n</li>\n<li>\n<h4 id=\"zeppelin-기동-테스트\" style=\"position:relative;\"><a href=\"#zeppelin-%EA%B8%B0%EB%8F%99-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"zeppelin 기동 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Zeppelin 기동 테스트</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>zeppelin@hadoop<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> conf<span class=\"token punctuation\">]</span>$ zeppelin<span class=\"token operator\">-</span>daemon<span class=\"token punctuation\">.</span>sh start</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/110597015-651df500-81c3-11eb-8cb1-371a512f7b8b.JPG\" alt=\"12313231\"></p>\n<br/>\n</li>\n<li>\n<h4 id=\"아참-zeppelin-env-설정이-적용이-안되는-이슈가-있었습니다-ㅠㅠ\" style=\"position:relative;\"><a href=\"#%EC%95%84%EC%B0%B8-zeppelin-env-%EC%84%A4%EC%A0%95%EC%9D%B4-%EC%A0%81%EC%9A%A9%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EC%9D%B4%EC%8A%88%EA%B0%80-%EC%9E%88%EC%97%88%EC%8A%B5%EB%8B%88%EB%8B%A4-%E3%85%A0%E3%85%A0\" aria-label=\"아참 zeppelin env 설정이 적용이 안되는 이슈가 있었습니다 ㅠㅠ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>아참! zeppelin-env 설정이 적용이 안되는 이슈가 있었습니다 ㅠㅠ</h4>\n<p>그래서 저는 직접 zeppelin web의 Interpreter 설정을 수정했습니다.<br>\n<img src=\"https://user-images.githubusercontent.com/69498804/110597241-9e566500-81c3-11eb-980d-43b03fa5d704.JPG\" alt=\"캡처1231321\"></p>\n<br/>\n<p>다음과 같이 Spark.matser, deploymode를 수정해줍니다. </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/110597343-c645c880-81c3-11eb-9c6c-06b1ce953c44.JPG\" alt=\"12312313231\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"그럼-아까-test로-작성했던-코드가-동작하는지-확인해보죠\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9F%BC-%EC%95%84%EA%B9%8C-test%EB%A1%9C-%EC%9E%91%EC%84%B1%ED%96%88%EB%8D%98-%EC%BD%94%EB%93%9C%EA%B0%80-%EB%8F%99%EC%9E%91%ED%95%98%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EC%A3%A0\" aria-label=\"그럼 아까 test로 작성했던 코드가 동작하는지 확인해보죠 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그럼 아까 test로 작성했던 코드가 동작하는지 확인해보죠</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/110597530-060cb000-81c4-11eb-933f-6b914cabd5b4.JPG\" alt=\"12312312312312312321312\"></p>\n<p>아주 잘 돌아갑니다. </p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"그럼-yarn-manager에서도-확인이-가능한지-봅시다\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9F%BC-yarn-manager%EC%97%90%EC%84%9C%EB%8F%84-%ED%99%95%EC%9D%B8%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%9C%EC%A7%80-%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\"그럼 yarn manager에서도 확인이 가능한지 봅시다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그럼 yarn manager에서도 확인이 가능한지 봅시다</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/110597695-3c4a2f80-81c4-11eb-9c1a-365dc2c8d727.JPG\" alt=\"1111111\"></p>\n<p>다음과 같이 zeppelin app의 동작을 확인 할 수 있습니다!! </p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며…</h2>\n<p>여러가지 문제가 있었지만 그래도 하루만에 성공했습니다.<br>\n이제 드디어 pyspark 문법이나 data를 다루는 방법들에 대해서 실습하겠네요.<br>\n추가적으로 ambari 설치해서 클러스터도 모니터링 해보겠습니다.  </p>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-spark-%EC%84%A4%EC%B9%98\">✔ Spark 설치</a></li>\n<li><a href=\"#-zeppelin-%EC%84%A4%EC%B9%98-%ED%9B%84-%EC%97%B0%EB%8F%99%EC%9D%84-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4\">✌ Zeppelin 설치 후 연동을 확인해봅시다.</a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며…</a></li>\n</ul>\n</div>","frontmatter":{"date":"August 16, 2021","title":"[DATA] - Apache Spark v3.0 on yarn 설치 With Zeppelin","categories":"DATA","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/data-sparkonyarn/"}},"prev":{"id":"44a1ef15-7454-5c7f-9869-55e001e067ce","html":"<p>머리말  </p>\n<p>이번에 새롭게 Azure PASS를 전달받아서 해당 구독으로 Cloud Shell을 사용하려고 했으나<br>\nCloudshell error = Error creating Azure Storage Account - code : 409 error<br>\n발생으로 Storage가 생성되지 않아 관련 포스트를 작성합니다.  </p>\n<hr>\n<h2 id=\"-error\" style=\"position:relative;\"><a href=\"#-error\" aria-label=\" error permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ Error!</h2>\n<h4 id=\"cloud-shell에-연결을-위한-storage를-생성하려는데-다음과-같은-error-발생\" style=\"position:relative;\"><a href=\"#cloud-shell%EC%97%90-%EC%97%B0%EA%B2%B0%EC%9D%84-%EC%9C%84%ED%95%9C-storage%EB%A5%BC-%EC%83%9D%EC%84%B1%ED%95%98%EB%A0%A4%EB%8A%94%EB%8D%B0-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%9D%80-error-%EB%B0%9C%EC%83%9D\" aria-label=\"cloud shell에 연결을 위한 storage를 생성하려는데 다음과 같은 error 발생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cloud Shell에 연결을 위한 Storage를 생성하려는데 다음과 같은 Error 발생</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112244518-cb5e4980-8c92-11eb-9688-bddeb6457fbf.JPG\" alt=\"11111\"></p>\n<ul>\n<li>해당 Error Code : 409가 발생전에 403 Error도 발생했으나 해결했습니다.  </li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"403-error-해결--stackoverflow에서-구독의-resource-providers의-microsoftstorage-권한-설정\" style=\"position:relative;\"><a href=\"#403-error-%ED%95%B4%EA%B2%B0--stackoverflow%EC%97%90%EC%84%9C-%EA%B5%AC%EB%8F%85%EC%9D%98-resource-providers%EC%9D%98-microsoftstorage-%EA%B6%8C%ED%95%9C-%EC%84%A4%EC%A0%95\" aria-label=\"403 error 해결  stackoverflow에서 구독의 resource providers의 microsoftstorage 권한 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>403 ERROR 해결 : <a href=\"https://stackoverflow.com/questions/44107943/unable-to-create-storage-for-persisting-account-files-in-azure-cloud-shell-cli\">StackOverFlow</a>에서 구독의 Resource providers의 Microsoft.Storage 권한 설정</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112245160-b504bd80-8c93-11eb-96cc-11449ff92060.png\" alt=\"ehMUs\"></p>\n<ul>\n<li>해당 ERROR는 구독에서 providers의 권한이 없어서 발생한 문제였음  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"409-error-해결--stackoverflow에서-custom하게-storage-생성\" style=\"position:relative;\"><a href=\"#409-error-%ED%95%B4%EA%B2%B0--stackoverflow%EC%97%90%EC%84%9C-custom%ED%95%98%EA%B2%8C-storage-%EC%83%9D%EC%84%B1\" aria-label=\"409 error 해결  stackoverflow에서 custom하게 storage 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>409 ERROR 해결 : <a href=\"https://stackoverflow.com/questions/60620035/unable-to-open-cloud-shell-because-of-storage-account-error\">StackOverFlow</a>에서 Custom하게 Storage 생성</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112245280-e4b3c580-8c93-11eb-9514-14be46875521.png\" alt=\"KKoo7\"></p>\n<ul>\n<li>다음과 같이 <code class=\"language-text\">show advanced settings</code> tab을 선택해 Custom하게 생성   </li>\n</ul>\n<p>StorageAccountAlreadyTaken error는 스토리지 계정 생성 문제입니다.<br>\n이는 새로운 스토리지 계정을 만들고 있지만 동일한 이름의 스토리지 계정이 전 세계의 이미 존재함을 나타냅니다.<br>\n(왜냐하면 스토리지 계정 이름은 모든 Azure 계정에서 고유해야 하기 떄문).<br>\n또한 구독에 상속되어있는 Default Region의 문제일 수도 있어 해당 Region도 지정해주었습니다.  </p>\n</li>\n</ul>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-error\">✔ Error!</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#cloud-shell%EC%97%90-%EC%97%B0%EA%B2%B0%EC%9D%84-%EC%9C%84%ED%95%9C-storage%EB%A5%BC-%EC%83%9D%EC%84%B1%ED%95%98%EB%A0%A4%EB%8A%94%EB%8D%B0-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%9D%80-error-%EB%B0%9C%EC%83%9D\">Cloud Shell에 연결을 위한 Storage를 생성하려는데 다음과 같은 Error 발생</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"August 20, 2021","title":"[AZURE] Cloudshell error = Error creating Azure Storage Account - code : 409","categories":"CLOUD Error-Report","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/azure-coludshellerror/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/azure-aksconnect/","nextSlug":"/data-sparkonyarn/","prevSlug":"/azure-coludshellerror/"}},"staticQueryHashes":["1073350324","2938748437"]}