{"componentChunkName":"component---src-templates-blog-template-js","path":"/data-kafka-wsl/","result":{"data":{"cur":{"id":"7ef64a62-2add-5bab-b47b-26a1bed94bf8","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Local WSL2 Ubuntuì— Kafka Brockerë¥¼ êµ¬ì„±í•œ ë’¤ ë¬´ì‘ìœ„ ë°ì´í„°ë¥¼ ìƒì„±í•˜ì—¬ ê° Cloudì˜ Steraming Tools<br>\n(aws : kinesis, gcp : pub/sub, azure : eventhub)ì—ì„œ Consumeí•˜ëŠ” ê³¼ì •ì„ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.<br>\nì•„ë¬´ë˜ë„ ê¸ˆì•¡ì ì¸ ë¶€ë¶„ì˜ ì´ìŠˆê°€ ë°œìƒí•˜ê¸°ì— ìµœëŒ€í•œ egress Trafficì´ ë°œìƒë˜ì§€ ì•Šê²Œ Localì—ì„œ ì§„í–‰í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.   </p>\n<hr>\n<h2 id=\"-docker-docker-compose-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#-docker-docker-compose-%EC%84%A4%EC%B9%98\" aria-label=\" docker docker compose ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” Docker, Docker-compose ì„¤ì¹˜</h2>\n<p>Dockerì™€ Docker-composeì˜ ê²½ìš° ì•„ë˜ì˜ ê³µì‹ë¬¸ì„œë¥¼ í™•ì¸í•˜ì‹œë©´ ìì„¸í•œ ì„¤ì¹˜ ë°©ë²•ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\n<a href=\"https://docs.docker.com/engine/install/ubuntu/\">Docker ì„¤ì¹˜</a><br>\n<a href=\"https://docs.docker.com/compose/install/\">Docker-Compose ì„¤ì¹˜</a>\n<br/></p>\n<ul>\n<li>\n<p>Docker ì„¤ì¹˜ë¶€í„° ì§„í–‰í•©ë‹ˆë‹¤, ìš°ì„ ì ìœ¼ë¡œ WSL ë‚¨ê²¨ì ¸ìˆëŠ” ì”ì¬ë¥¼ ì§€ì›Œì¤ë‹ˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">ì‚­ì œ\n$ sudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> remove docker docker<span class=\"token operator\">-</span>engine docker<span class=\"token punctuation\">.</span>io containerd runc</code></pre></div>\n<br/>\n</li>\n<li>\n<p>ì´ í›„ Pakage indexë¥¼ Update í•œ ë’¤ ê´€ë ¨ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ sudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> update\n\n$ sudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install \\\n  ca<span class=\"token operator\">-</span>certificates \\\n  curl \\\n  gnupg \\\n  lsb<span class=\"token operator\">-</span>release</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆìœ¼ë©´, Dockerì˜ ê³µì‹ GPG Keyë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$  curl <span class=\"token operator\">-</span>fsSL https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>download<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>linux<span class=\"token operator\">/</span>ubuntu<span class=\"token operator\">/</span>gpg <span class=\"token operator\">|</span> sudo gpg <span class=\"token operator\">--</span>dearmor <span class=\"token operator\">-</span>o <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>keyrings<span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>archive<span class=\"token operator\">-</span>keyring<span class=\"token punctuation\">.</span>gpg</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ Pakage Repoë¥¼ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ echo \\\n<span class=\"token string\">\"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\\n$(lsb_release -cs) stable\"</span> <span class=\"token operator\">|</span> sudo tee <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>apt<span class=\"token operator\">/</span>sources<span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>docker<span class=\"token punctuation\">.</span>list <span class=\"token operator\">></span> <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span><span class=\"token keyword\">null</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Docker Engineì„ ì„¤ì¹˜í•©ë‹ˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ sudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> update\n$ sudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install docker<span class=\"token operator\">-</span>ce docker<span class=\"token operator\">-</span>ce<span class=\"token operator\">-</span>cli containerd<span class=\"token punctuation\">.</span>io docker<span class=\"token operator\">-</span>compose<span class=\"token operator\">-</span>plugin</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>í˜„ì¬ Repoì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë²„ì „ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ apt<span class=\"token operator\">-</span>cache madison docker<span class=\"token operator\">-</span>ce\ndocker<span class=\"token operator\">-</span>ce <span class=\"token operator\">|</span> <span class=\"token number\">5</span><span class=\"token operator\">:</span><span class=\"token number\">20.10</span><span class=\"token number\">.15</span><span class=\"token operator\">~</span><span class=\"token number\">3</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">~</span>ubuntu<span class=\"token operator\">-</span>focal <span class=\"token operator\">|</span> https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>download<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>linux<span class=\"token operator\">/</span>ubuntu focal<span class=\"token operator\">/</span>stable amd64 Packages\ndocker<span class=\"token operator\">-</span>ce <span class=\"token operator\">|</span> <span class=\"token number\">5</span><span class=\"token operator\">:</span><span class=\"token number\">20.10</span><span class=\"token number\">.14</span><span class=\"token operator\">~</span><span class=\"token number\">3</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">~</span>ubuntu<span class=\"token operator\">-</span>focal <span class=\"token operator\">|</span> https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>download<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>linux<span class=\"token operator\">/</span>ubuntu focal<span class=\"token operator\">/</span>stable amd64 Packages\ndocker<span class=\"token operator\">-</span>ce <span class=\"token operator\">|</span> <span class=\"token number\">5</span><span class=\"token operator\">:</span><span class=\"token number\">20.10</span><span class=\"token number\">.13</span><span class=\"token operator\">~</span><span class=\"token number\">3</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">~</span>ubuntu<span class=\"token operator\">-</span>focal <span class=\"token operator\">|</span> https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>download<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>linux<span class=\"token operator\">/</span>ubuntu focal<span class=\"token operator\">/</span>stable amd64 Packages\ndocker<span class=\"token operator\">-</span>ce <span class=\"token operator\">|</span> <span class=\"token number\">5</span><span class=\"token operator\">:</span><span class=\"token number\">20.10</span><span class=\"token number\">.12</span><span class=\"token operator\">~</span><span class=\"token number\">3</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">~</span>ubuntu<span class=\"token operator\">-</span>focal <span class=\"token operator\">|</span> https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>download<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>linux<span class=\"token operator\">/</span>ubuntu focal<span class=\"token operator\">/</span>stable amd64 Packages\ndocker<span class=\"token operator\">-</span>ce <span class=\"token operator\">|</span> <span class=\"token number\">5</span><span class=\"token operator\">:</span><span class=\"token number\">20.10</span><span class=\"token number\">.11</span><span class=\"token operator\">~</span><span class=\"token number\">3</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">~</span>ubuntu<span class=\"token operator\">-</span>focal <span class=\"token operator\">|</span> https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>download<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>linux<span class=\"token operator\">/</span>ubuntu focal<span class=\"token operator\">/</span>stable amd64 Packages\ndocker<span class=\"token operator\">-</span>ce <span class=\"token operator\">|</span> <span class=\"token number\">5</span><span class=\"token operator\">:</span><span class=\"token number\">20.10</span><span class=\"token number\">.10</span><span class=\"token operator\">~</span><span class=\"token number\">3</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">~</span>ubuntu<span class=\"token operator\">-</span>focal <span class=\"token operator\">|</span> https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>download<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>linux<span class=\"token operator\">/</span>ubuntu focal<span class=\"token operator\">/</span>stable amd64 Packages</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Versionì„ í™•ì¸í–ˆë‹¤ë©´ ì•„ë˜ ëª…ë ¹ì–´ì— ì„¤ì¹˜í•˜ê³  ì‹¶ì€ Versionì„ ë„£ì–´ì„œ UPDATE í•´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ sudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install docker<span class=\"token operator\">-</span>ce<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">VERSION_STRING</span><span class=\"token operator\">></span> docker<span class=\"token operator\">-</span>ce<span class=\"token operator\">-</span>cli<span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">VERSION_STRING</span><span class=\"token operator\">></span> containerd<span class=\"token punctuation\">.</span>io docker<span class=\"token operator\">-</span>compose<span class=\"token operator\">-</span>plugin</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì‹œí—˜ì‚¼ì•„ Hello-world Podë¥¼ ë„ì›Œë³´ë ¤ í–ˆì§€ë§Œ ì•„ë˜ì™€ ê°™ì€ error Messageì— ì§ë©´í–ˆìŠµë‹ˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">~</span># docker run hello<span class=\"token operator\">-</span>world\n  docker<span class=\"token operator\">:</span> Cannot connect to the Docker daemon at unix<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token comment\">//var/run/docker.sock. Is the docker daemon running?.</span>\n  See <span class=\"token string\">'docker run --help'</span><span class=\"token punctuation\">.</span>\n\n$ root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">~</span># \n  root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">~</span># systemctl start docker\n  System has not been booted <span class=\"token keyword\">with</span> systemd <span class=\"token keyword\">as</span> init <span class=\"token function\">system</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">PID</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> Can't operate<span class=\"token punctuation\">.</span>\n  Failed to connect to bus<span class=\"token operator\">:</span> Host is down</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>í™•ì¸í•´ë³´ë‹ˆ WSLì—ì„œëŠ” ê¸°ì¡´ Linuxì˜ INITê³¼ëŠ” ë‹¤ë¥´ê²Œ ë”°ë¡œ ì„¤ì •ì„ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ sudo apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install cgroupfs<span class=\"token operator\">-</span>mount\n$ sudo cgroupfs<span class=\"token operator\">-</span>mount\n$ sudo service docker start</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´ì œ ì •ìƒì ìœ¼ë¡œ Hello World Podê°€ ì‹¤í–‰ë¨ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">~</span># docker run hello<span class=\"token operator\">-</span>world\n  Unable to find image <span class=\"token string\">'hello-world:latest'</span> locally\n\n\n  latest<span class=\"token operator\">:</span> Pulling from library<span class=\"token operator\">/</span>hello<span class=\"token operator\">-</span>world\n  <span class=\"token number\">2</span>db29710123e<span class=\"token operator\">:</span> Pull complete \n  Digest<span class=\"token operator\">:</span> sha256<span class=\"token operator\">:</span><span class=\"token number\">10</span>d7d58d5ebd2a652f4d93fdd86da8f265f5318c6a73cc5b6a9798ff6d2b2e67\n  Status<span class=\"token operator\">:</span> Downloaded newer image <span class=\"token keyword\">for</span> hello<span class=\"token operator\">-</span>world<span class=\"token operator\">:</span>latest\n\n  Hello from Docker<span class=\"token operator\">!</span></code></pre></div>\n<br/>\n</li>\n<li>\n<p>ì¶”ê°€ì ìœ¼ë¡œ Composeë„ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ curl <span class=\"token operator\">-</span><span class=\"token constant\">SL</span> https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>compose<span class=\"token operator\">/</span>releases<span class=\"token operator\">/</span>download<span class=\"token operator\">/</span>v2<span class=\"token punctuation\">.</span><span class=\"token number\">5.0</span><span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>compose<span class=\"token operator\">-</span>linux<span class=\"token operator\">-</span>x86_64 <span class=\"token operator\">-</span>o <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>compose\n$ sudo chmod <span class=\"token operator\">+</span>x <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>compose\n$ sudo ln <span class=\"token operator\">-</span>s <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>compose <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>compose\n\n# Version í™•ì¸\n$ docker<span class=\"token operator\">-</span>compose <span class=\"token operator\">--</span>version\n\nroot@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker# docker<span class=\"token operator\">-</span>compose <span class=\"token operator\">--</span>version\nDocker Compose version v2<span class=\"token punctuation\">.</span><span class=\"token number\">5.0</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-zookeeper-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#-zookeeper-%EC%84%A4%EC%B9%98\" aria-label=\" zookeeper ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘ Zookeeper ì„¤ì¹˜</h2>\n<h3 id=\"ps\" style=\"position:relative;\"><a href=\"#ps\" aria-label=\"ps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PS</h3>\n<p>KafkaëŠ” Brokerì—ì„œ Topicì˜ Metadataë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ Zookeeperë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>\nì¼ë°˜ì ìœ¼ë¡œ Zookeeperë¥¼ Standaloneìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì¼ë°˜ì ì¸ Hadoopê³¼ ë™ì¼í•˜ê²Œ ì‹¤ì œ ìš´ì˜ì—ì„œëŠ” ì˜ ì°¾ì•„ë³´ê¸° í˜ë“­ë‹ˆë‹¤.<br>\në•Œë¬¸ì— Zookeeperë¥¼ Clusterë¡œ êµ¬ì„±í•˜ê³ , HAë¥¼ í™•ë³´í•œ ê²ƒì„ Zookeeper Ensemble ì´ë¼ê³  í•©ë‹ˆë‹¤.</p>\n<p>ì €ë„ í•˜ë‚˜ì˜ OS (WSL)ì—ì„œ 3ê°œì˜ Podë¥¼ ë„ì›Œ Ensemble í˜•íƒœë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.</p>\n<br/>\n<ol>\n<li>\n<p>Docker File ì‘ì—…ì„ ì§„í–‰í•  í´ë”ë¥¼ í•˜ë‚˜ ìƒì„±í•©ë‹ˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ mkdir docker</code></pre></div>\n</li>\n</ol>\n<br/>\n<ol start=\"2\">\n<li>\n<p>ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ìœ¼ë¡œ DockerFileì„ ì‘ì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">FROM</span> ubuntu<span class=\"token operator\">:</span><span class=\"token number\">20.04</span>\n<span class=\"token constant\">RUN</span> mkdir <span class=\"token operator\">-</span>p <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>install \n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> update \n\n<span class=\"token constant\">WORKDIR</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>install \n\n# java ì„¤ì¹˜ \n<span class=\"token constant\">ENV</span> <span class=\"token constant\">DEBIAN_FRONTEND</span> noninteractive \n<span class=\"token constant\">ENV</span> <span class=\"token constant\">JAVA_HOME</span><span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>jvm<span class=\"token operator\">/</span>java<span class=\"token operator\">-</span><span class=\"token number\">8</span><span class=\"token operator\">-</span>openjdk<span class=\"token operator\">-</span>amd64 \n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install openjdk<span class=\"token operator\">-</span><span class=\"token number\">8</span><span class=\"token operator\">-</span>jdk <span class=\"token operator\">-</span>y \n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install wget <span class=\"token operator\">-</span>y \n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install vim <span class=\"token operator\">-</span>y \n\n# zookeeper ì„¤ì¹˜ \n\n<span class=\"token constant\">RUN</span> wget downloads<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3.7</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span>apache<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3.7</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span>bin<span class=\"token punctuation\">.</span>tar<span class=\"token punctuation\">.</span>gz \n<span class=\"token constant\">RUN</span> tar <span class=\"token operator\">-</span>zxvf apache<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3.7</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span>bin<span class=\"token punctuation\">.</span>tar<span class=\"token punctuation\">.</span>gz \n<span class=\"token constant\">RUN</span> mv apache<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3.7</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span>bin <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper \n\n# ì„¤ì •íŒŒì¼ ë° ì´ˆê¸°í™” íŒŒì¼ ë³µì‚¬\n\n<span class=\"token constant\">COPY</span> config<span class=\"token operator\">/</span>zoo<span class=\"token punctuation\">.</span>cfg <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>conf<span class=\"token operator\">/</span>zoo<span class=\"token punctuation\">.</span>cfg \n<span class=\"token constant\">COPY</span> config<span class=\"token operator\">/</span>init<span class=\"token punctuation\">.</span>sh init<span class=\"token punctuation\">.</span>sh \n\n# windowsì—ì„œ ì‘ì—… ì‹œ <span class=\"token constant\">CRLF</span>ì™€ <span class=\"token constant\">LF</span> ì²˜ë¦¬ ë°©ì‹ ë¬¸ì œ ë°©ì§€ \n<span class=\"token constant\">RUN</span> sed <span class=\"token operator\">-</span>i <span class=\"token string\">'s/\\r//g'</span> init<span class=\"token punctuation\">.</span>sh \n<span class=\"token constant\">RUN</span> sed <span class=\"token operator\">-</span>i <span class=\"token string\">'s/\\r//g'</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>conf<span class=\"token operator\">/</span>zoo<span class=\"token punctuation\">.</span>cfg \n\n<span class=\"token constant\">CMD</span> bash init<span class=\"token punctuation\">.</span>sh</code></pre></div>\n</li>\n</ol>\n<br/>\n<ol start=\"3\">\n<li>\n<p>Docker Fileì—ì„œ ëª…ì‹œí•œ config Folderë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ mkdir config</code></pre></div>\n</li>\n</ol>\n<br/>\n<ol start=\"4\">\n<li>\n<p>config Folderì— ì•„ë˜ ë‚´ìš©ì˜ init.sh Fileì„ ìƒì„±í•©ë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">mkdir <span class=\"token operator\">-</span>p <span class=\"token operator\">/</span>data \n\n# ì£¼í‚¤í¼ëŠ” myid íŒŒì¼ë¡œ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ë¶„í•œë‹¤<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span><span class=\"token operator\">~</span><span class=\"token number\">255</span>ê¹Œì§€ ë²ˆí˜¸ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤<span class=\"token punctuation\">.</span> \necho $<span class=\"token constant\">MY_ID</span> <span class=\"token operator\">></span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">data</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">myid</span></span> \n\n# ì£¼í‚¤í¼ ì„œë²„ë¥¼ ì‹¤í–‰í•œë‹¤<span class=\"token punctuation\">.</span> \n<span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>zkServer<span class=\"token punctuation\">.</span>sh start \n\n# ìë™ìœ¼ë¡œ ì¢…ë£Œë˜ì§€ ì•Šë„ë¡ ë°©ì§€í•œë‹¤<span class=\"token punctuation\">.</span> \ntail <span class=\"token operator\">-</span>f <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span><span class=\"token keyword\">null</span></code></pre></div>\n</li>\n</ol>\n<br/>\n<ol start=\"5\">\n<li>\n<p>config Folderì— ì•„ë˜ ë‚´ìš©ì˜ zoo.cfg íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># íŒ”ë¡œì›Œê°€ ë¦¬ë”ì— ì ‘ì†í•  ìˆ˜ ìˆëŠ” ì‹œê°„ \n# initLimit <span class=\"token operator\">*</span> tickTime <span class=\"token operator\">=</span> <span class=\"token number\">40</span>ì´ˆ ë¡œ ì„¤ì •ëœë‹¤<span class=\"token punctuation\">.</span> \ninitLimit<span class=\"token operator\">=</span><span class=\"token number\">10</span> \ntickTime<span class=\"token operator\">=</span><span class=\"token number\">2000</span> \n\n# ë¦¬ë”ê°€ ë  ìˆ˜ ìˆëŠ” íŒ”ë¡œì›Œì˜ ìµœëŒ€ ê°¯ìˆ˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤<span class=\"token punctuation\">.</span> \nsyncLimit<span class=\"token operator\">=</span><span class=\"token number\">5</span> \n\n# myidê°€ ì €ì¥ë  ë””ë ‰í† ë¦¬ ìœ„ì¹˜ì´ë‹¤<span class=\"token punctuation\">.</span> \ndataDir<span class=\"token operator\">=</span><span class=\"token operator\">/</span>data \n\n# í´ë¼ì´ì–¸íŠ¸ê°€ ì ‘ì†í•  í¬íŠ¸ ë²ˆí˜¸ì´ë‹¤<span class=\"token punctuation\">.</span> \nclientPort<span class=\"token operator\">=</span><span class=\"token number\">2181</span> \n\n# ì•™ìƒë¸”ì„ ì´ë£¨ëŠ” ì„œë²„ ì •ë³´ì´ë‹¤<span class=\"token punctuation\">.</span> \n# server<span class=\"token punctuation\">.</span><span class=\"token constant\">X</span><span class=\"token operator\">=</span>hostname<span class=\"token operator\">:</span>peerPort<span class=\"token operator\">:</span>leaderPort\n# peerPortëŠ” ì•™ìƒë¸” ì„œë²„ë“¤ì´ ìƒí˜¸ í†µì‹ í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í¬íŠ¸ ë²ˆí˜¸ì´ë‹¤<span class=\"token punctuation\">.</span> \n# leaderPortëŠ” ë¦¬ë”ë¥¼ ì„ ì¶œí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í¬íŠ¸ ë²ˆí˜¸ì´ë‹¤<span class=\"token punctuation\">.</span> \n\n# <span class=\"token operator\">--</span> <span class=\"token number\">3888</span>ë’¤ì— ê³µë°± ì¡°ì‹¬<span class=\"token operator\">!</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token number\">1</span><span class=\"token operator\">=</span>nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">2888</span><span class=\"token operator\">:</span><span class=\"token number\">3888</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token number\">2</span><span class=\"token operator\">=</span>nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">:</span><span class=\"token number\">2888</span><span class=\"token operator\">:</span><span class=\"token number\">3888</span>\nserver<span class=\"token punctuation\">.</span><span class=\"token number\">3</span><span class=\"token operator\">=</span>nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">:</span><span class=\"token number\">2888</span><span class=\"token operator\">:</span><span class=\"token number\">3888</span>\n\n# ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ìŠ¤ëƒ…ìƒ·ì„ <span class=\"token number\">24</span>ì‹œê°„ë§ˆë‹¤ ìµœëŒ€ <span class=\"token number\">3</span>ê°œë¥¼ ìœ ì§€í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì œê±°í•œë‹¤<span class=\"token punctuation\">.</span> \nautopurge<span class=\"token punctuation\">.</span>snapRetainCount<span class=\"token operator\">=</span><span class=\"token number\">3</span> \nautopurge<span class=\"token punctuation\">.</span>purgeInterval<span class=\"token operator\">=</span><span class=\"token number\">24</span></code></pre></div>\n</li>\n</ol>\n<br/>\n<ol start=\"6\">\n<li>\n<p>Zookeeper Podê°€ ì›í™œí•˜ê²Œ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ Docker Networkë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker network create zoo\nebf8d2ee0ebbac5acce268f5935e5bd80b29ef2b3f29931054b347f8d7c27e8a\n\nroot@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker# docker network list\n<span class=\"token constant\">NETWORK</span> <span class=\"token constant\">ID</span>     <span class=\"token constant\">NAME</span>      <span class=\"token constant\">DRIVER</span>    <span class=\"token constant\">SCOPE</span>\nf10c3aaa8146   bridge    bridge    local\nc5b41392b3bd   host      host      local\n<span class=\"token number\">36</span>f1ffafa37e   none      <span class=\"token keyword\">null</span>      local\nebf8d2ee0ebb   zoo       bridge    local</code></pre></div>\n</li>\n</ol>\n<br/>\n<ol start=\"7\">\n<li>\n<p>ìœ„ ê³¼ì •ì„ ëª¨ë‘ ì™„ë£Œí•˜ì˜€ìœ¼ë©´ ìµœì¢…ì ìœ¼ë¡œëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker# ls <span class=\"token operator\">-</span>alrt <span class=\"token operator\">*</span>\n<span class=\"token operator\">-</span>rwxrwxrwx <span class=\"token number\">1</span> root root  <span class=\"token number\">836</span> May  <span class=\"token number\">9</span> <span class=\"token number\">14</span><span class=\"token operator\">:</span><span class=\"token number\">24</span> Dockerfile\n\nconfig<span class=\"token operator\">:</span>\ntotal <span class=\"token number\">16</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">315</span> May  <span class=\"token number\">9</span> <span class=\"token number\">14</span><span class=\"token operator\">:</span><span class=\"token number\">20</span> init<span class=\"token punctuation\">.</span>sh\n<span class=\"token operator\">-</span>rwxrwxrwx <span class=\"token number\">1</span> root root  <span class=\"token number\">913</span> May  <span class=\"token number\">9</span> <span class=\"token number\">14</span><span class=\"token operator\">:</span><span class=\"token number\">21</span> zoo<span class=\"token punctuation\">.</span>cfg\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">3</span> root root <span class=\"token number\">4096</span> May  <span class=\"token number\">9</span> <span class=\"token number\">14</span><span class=\"token operator\">:</span><span class=\"token number\">30</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> May  <span class=\"token number\">9</span> <span class=\"token number\">14</span><span class=\"token operator\">:</span><span class=\"token number\">30</span> <span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n</li>\n<li>\n<p>êµ¬ì„±ì´ ìœ„ì™€ ê°™ë‹¤ë©´DockerFileì„ ìƒì„±í•œ ê²½ë¡œì—ì„œ ì´ë¯¸ì§€ë¥¼ Buildí•©ë‹ˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker build --tag nasa1515-zookeeper .\n...\n...\n...\nRemoving intermediate container bb88073c3b9a\n---> 6e4b73214693\nStep 16/17 : RUN sed -i 's/\\r//g' /usr/local/zookeeper/conf/zoo.cfg\n ---> Running in e19594c509af\nRemoving intermediate container e19594c509af\n ---> 57ab1963d806\nStep 17/17 : CMD bash init.sh\n ---> Running in 46a08706b3a4\nRemoving intermediate container 46a08706b3a4\n ---> ade37e220c72\nSuccessfully built ade37e220c72\nSuccessfully tagged nasa1515-zookeeper:latest</code></pre></div>\n</li>\n</ol>\n<br/>\n<ol start=\"9\">\n<li>\n<p>ì´ë¯¸ì§€ë¥¼ í™•ì¸í•´ë´…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker image ls\nREPOSITORY           TAG       IMAGE ID       CREATED          SIZE\nnasa1515-zookeeper   latest    ade37e220c72   42 seconds ago   733MB\nubuntu               20.04     53df61775e88   9 days ago       72.8MB\nhello-world          latest    feb5d9fea6a5   7 months ago     13.3kB</code></pre></div>\n</li>\n</ol>\n<br/>\n<ol start=\"10\">\n<li>\n<p>ì´ì œ Docker Compose Fileì„ ìƒì„±í•©ë‹ˆë‹¤. (docker-compose.yml)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">version<span class=\"token operator\">:</span> <span class=\"token string\">'3.8'</span>\nvolumes<span class=\"token operator\">:</span> \n  nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">-</span>volume \n  nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span> \n    name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">-</span>volume \n  nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span> \n    name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">-</span>volume \n      \nservices<span class=\"token operator\">:</span> \n  nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span> \n    image<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper \n    container_name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span> \n    restart<span class=\"token operator\">:</span> always \n    hostname<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span>\n    environment<span class=\"token operator\">:</span> \n      <span class=\"token constant\">MY_ID</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> \n    volumes<span class=\"token operator\">:</span> \n      <span class=\"token operator\">-</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span><span class=\"token operator\">/</span>data \n    \n  nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">:</span> \n    image<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper \n    container_name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span>\n    restart<span class=\"token operator\">:</span> always \n    hostname<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span>\n    environment<span class=\"token operator\">:</span> \n      <span class=\"token constant\">MY_ID</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span> \n    volumes<span class=\"token operator\">:</span> \n      <span class=\"token operator\">-</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span><span class=\"token operator\">/</span>data \n    \n  nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">:</span> \n    image<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper \n    container_name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span>\n    restart<span class=\"token operator\">:</span> always \n    hostname<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span>\n    environment<span class=\"token operator\">:</span> \n      <span class=\"token constant\">MY_ID</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span> \n    volumes<span class=\"token operator\">:</span> \n      <span class=\"token operator\">-</span> nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span><span class=\"token operator\">/</span>data \n  \nnetworks<span class=\"token operator\">:</span> \n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> \n    name<span class=\"token operator\">:</span> zoo</code></pre></div>\n</li>\n</ol>\n<br/>\n<ol start=\"11\">\n<li>\n<p>ìƒì„±í•œ composeë¡œ Containerë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker<span class=\"token operator\">-</span>compose up <span class=\"token operator\">-</span>d<span class=\"token punctuation\">;</span> \n\nroot@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker# docker<span class=\"token operator\">-</span>compose up <span class=\"token operator\">-</span>d<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">[</span><span class=\"token operator\">+</span><span class=\"token punctuation\">]</span> Running <span class=\"token number\">4</span><span class=\"token operator\">/</span><span class=\"token number\">4</span>\n â ¿ Network zoo                     Created                                                                                                                                                                <span class=\"token number\">0.0</span>s\n â ¿ Container nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span>  Started                                                                                                                                                                <span class=\"token number\">0.6</span>s\nâ ¿ Container nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span>  Started                                                                                                                                                                <span class=\"token number\">0.8</span>s\nâ ¿ Container nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span>  Started           </code></pre></div>\n</li>\n</ol>\n<br/>\n<ul>\n<li>\n<p>ì •ìƒì ìœ¼ë¡œ êµ¬ë™ì´ë˜ì—ˆë‹¤ë©´ ì•„ë˜ ëª…ë ¹ì–´ë¡œ í™•ì¸í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker exec nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>zkServer<span class=\"token punctuation\">.</span>sh status\n$ docker exec nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>zkServer<span class=\"token punctuation\">.</span>sh status\n$ docker exec nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>zkServer<span class=\"token punctuation\">.</span>sh status</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê²°ê³¼ë¥¼ í™•ì¸í•˜ë©´, í•œê°œì˜ ZookeeperëŠ” Leaderë¡œ ì„ ì¶œë˜ì—ˆê³ , ë‚˜ë¨¸ì§€ 2ê°œëŠ” follwerë¡œ ì„¤ì •ë˜ì–´ìˆëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker# docker exec nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>zkServer<span class=\"token punctuation\">.</span>sh status\nZooKeeper <span class=\"token constant\">JMX</span> enabled by <span class=\"token keyword\">default</span>\nUsing config<span class=\"token operator\">:</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>conf<span class=\"token operator\">/</span>zoo<span class=\"token punctuation\">.</span>cfg\nClient port found<span class=\"token operator\">:</span> <span class=\"token number\">2181.</span> Client address<span class=\"token operator\">:</span> localhost<span class=\"token punctuation\">.</span> Client <span class=\"token constant\">SSL</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">.</span>\nMode<span class=\"token operator\">:</span> follower\nroot@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker# docker exec nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>zkServer<span class=\"token punctuation\">.</span>sh status\nZooKeeper <span class=\"token constant\">JMX</span> enabled by <span class=\"token keyword\">default</span>\nUsing config<span class=\"token operator\">:</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>conf<span class=\"token operator\">/</span>zoo<span class=\"token punctuation\">.</span>cfg\nClient port found<span class=\"token operator\">:</span> <span class=\"token number\">2181.</span> Client address<span class=\"token operator\">:</span> localhost<span class=\"token punctuation\">.</span> Client <span class=\"token constant\">SSL</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">.</span>\nMode<span class=\"token operator\">:</span> follower\nroot@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker# docker exec nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>zkServer<span class=\"token punctuation\">.</span>sh status\nZooKeeper <span class=\"token constant\">JMX</span> enabled by <span class=\"token keyword\">default</span>\nUsing config<span class=\"token operator\">:</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>zookeeper<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>conf<span class=\"token operator\">/</span>zoo<span class=\"token punctuation\">.</span>cfg\nClient port found<span class=\"token operator\">:</span> <span class=\"token number\">2181.</span> Client address<span class=\"token operator\">:</span> localhost<span class=\"token punctuation\">.</span> Client <span class=\"token constant\">SSL</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">.</span>\nMode<span class=\"token operator\">:</span> leader</code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-kafka-configuration\" style=\"position:relative;\"><a href=\"#-kafka-configuration\" aria-label=\" kafka configuration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ±â€ğŸ Kafka Configuration</h2>\n<h3 id=\"ps-1\" style=\"position:relative;\"><a href=\"#ps-1\" aria-label=\"ps 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PS</h3>\n<p>Zookeeper Clusterì˜ êµ¬ì„±ì„ ì™„ë£Œí–ˆë‹¤ë©´,<br>\nì´ë²ˆì—ëŠ” Kafkaë¥¼ Dockerë¡œ êµ¬ì„±í•œ ë’¤ Zookeeper Clusterì™€ ì—°ë™í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤.<br>\nê°„ë‹¨í•˜ê²Œ Kafka BrokerëŠ” Zookeeperì™€ ë™ì¼í•˜ê²Œ 3ê°œë¡œ êµ¬ì„±í•˜ê³  í¬ê¸°ë¥¼ ììœ ë¡­ê²Œ ë³€ê²½ ê°€ëŠ¥í•˜ë„ë¡ í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p>\n<br/>\n<ul>\n<li>\n<p>ìœ„ì—ì„œ Zookeeperë¥¼ ë‹¤ë£° ë•Œ DockerFileì„ ë‹¤ë¤˜ìœ¼ë‹ˆ, ì´ë²ˆì—ë„ ë°”ë¡œ DockerFileì„ êµ¬ì„±í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p>[1] ìš°ì„  ì‘ì—…í•  í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ mkdir kafka<span class=\"token operator\">-</span>broker</code></pre></div>\n<br/>\n<p>[2] ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì´ ë‹´ê¸´ Dockerfileì„ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">FROM</span> ubuntu<span class=\"token operator\">:</span><span class=\"token number\">20.04</span>\n<span class=\"token constant\">RUN</span> mkdir <span class=\"token operator\">-</span>p <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>install\n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> update\n\n<span class=\"token constant\">WORKDIR</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>install\n<span class=\"token constant\">ENV</span> <span class=\"token constant\">DEBIAN_FRONTEND</span> noninteractive\n<span class=\"token constant\">ENV</span> <span class=\"token constant\">JAVA_HOME</span><span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>jvm<span class=\"token operator\">/</span>java<span class=\"token operator\">-</span><span class=\"token number\">8</span><span class=\"token operator\">-</span>openjdk<span class=\"token operator\">-</span>amd64\n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install openjdk<span class=\"token operator\">-</span><span class=\"token number\">8</span><span class=\"token operator\">-</span>jdk <span class=\"token operator\">-</span>y\n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install wget <span class=\"token operator\">-</span>y\n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install vim <span class=\"token operator\">-</span>y\n\n<span class=\"token constant\">RUN</span> wget https<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>downloads<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>kafka<span class=\"token operator\">/</span><span class=\"token number\">3.1</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span>kafka_2<span class=\"token punctuation\">.</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">3.1</span><span class=\"token number\">.0</span><span class=\"token punctuation\">.</span>tgz\n<span class=\"token constant\">RUN</span> tar <span class=\"token operator\">-</span>zxvf kafka_2<span class=\"token punctuation\">.</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">3.1</span><span class=\"token number\">.0</span><span class=\"token punctuation\">.</span>tgz\n<span class=\"token constant\">RUN</span> mv kafka_2<span class=\"token punctuation\">.</span><span class=\"token number\">12</span><span class=\"token operator\">-</span><span class=\"token number\">3.1</span><span class=\"token number\">.0</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>kafka\n<span class=\"token constant\">RUN</span> mkdir <span class=\"token operator\">/</span>data \n\n<span class=\"token constant\">COPY</span> config<span class=\"token operator\">/</span>init<span class=\"token punctuation\">.</span>sh init<span class=\"token punctuation\">.</span>sh\n<span class=\"token constant\">RUN</span> sed <span class=\"token operator\">-</span>i <span class=\"token string\">'s/\\r//g'</span> init<span class=\"token punctuation\">.</span>sh\n\n<span class=\"token constant\">COPY</span> config<span class=\"token operator\">/</span>server<span class=\"token punctuation\">.</span>properties <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>kafka<span class=\"token operator\">/</span>config<span class=\"token operator\">/</span>server<span class=\"token punctuation\">.</span>properties\n<span class=\"token constant\">RUN</span> sed <span class=\"token operator\">-</span>i <span class=\"token string\">'s/\\r//g'</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>kafka<span class=\"token operator\">/</span>config<span class=\"token operator\">/</span>server<span class=\"token punctuation\">.</span>properties\n\n<span class=\"token constant\">CMD</span> bash init<span class=\"token punctuation\">.</span>sh</code></pre></div>\n<br/>\n<p>[3] ë§ˆì°¬ê°€ì§€ë¡œ config í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ mkdir config</code></pre></div>\n<br/>\n<p>[4] config Folder ì•ˆì— init.sh íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token hashbang comment\">#!/bin/bash</span>\n\n$ sed <span class=\"token operator\">-</span>i <span class=\"token string\">\"s/{{broker_id}}/$BROKER_ID/\"</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>kafka<span class=\"token operator\">/</span>config<span class=\"token operator\">/</span>server<span class=\"token punctuation\">.</span>properties\n\n<span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>kafka<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>server<span class=\"token operator\">-</span>start<span class=\"token punctuation\">.</span>sh <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>kafka<span class=\"token operator\">/</span>config<span class=\"token operator\">/</span>server<span class=\"token punctuation\">.</span>properties</code></pre></div>\n<br/>\n<p>[5] config Folder ì•ˆì— server.properties íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.<br>\nì›ë˜ë¼ë©´ broker_idì— ê°’ì„ ì¶”ê°€í•´ì•¼í•˜ì§€ë§Œ, ìœ„ì˜ init.shì—ì„œ ë„£ì–´ì£¼ê¸° ë•Œë¬¸ì— ê´œì°®ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">num<span class=\"token punctuation\">.</span>network<span class=\"token punctuation\">.</span>threads<span class=\"token operator\">=</span><span class=\"token number\">3</span>\nnum<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>threads<span class=\"token operator\">=</span><span class=\"token number\">8</span>\nsocket<span class=\"token punctuation\">.</span>send<span class=\"token punctuation\">.</span>buffer<span class=\"token punctuation\">.</span>bytes<span class=\"token operator\">=</span><span class=\"token number\">102400</span>\nsocket<span class=\"token punctuation\">.</span>receive<span class=\"token punctuation\">.</span>buffer<span class=\"token punctuation\">.</span>bytes<span class=\"token operator\">=</span><span class=\"token number\">102400</span>\nsocket<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>max<span class=\"token punctuation\">.</span>bytes<span class=\"token operator\">=</span><span class=\"token number\">104857600</span>\nlog<span class=\"token punctuation\">.</span>dirs<span class=\"token operator\">=</span><span class=\"token operator\">/</span>data\nnum<span class=\"token punctuation\">.</span>partitions<span class=\"token operator\">=</span><span class=\"token number\">1</span>\nnum<span class=\"token punctuation\">.</span>recovery<span class=\"token punctuation\">.</span>threads<span class=\"token punctuation\">.</span>per<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>dir<span class=\"token operator\">=</span><span class=\"token number\">1</span>\noffsets<span class=\"token punctuation\">.</span>topic<span class=\"token punctuation\">.</span>replication<span class=\"token punctuation\">.</span>factor<span class=\"token operator\">=</span><span class=\"token number\">1</span>\ntransaction<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">.</span>replication<span class=\"token punctuation\">.</span>factor<span class=\"token operator\">=</span><span class=\"token number\">1</span>\ntransaction<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>log<span class=\"token punctuation\">.</span>min<span class=\"token punctuation\">.</span>isr<span class=\"token operator\">=</span><span class=\"token number\">1</span>\nlog<span class=\"token punctuation\">.</span>retention<span class=\"token punctuation\">.</span>hours<span class=\"token operator\">=</span><span class=\"token number\">168</span>\nlog<span class=\"token punctuation\">.</span>segment<span class=\"token punctuation\">.</span>bytes<span class=\"token operator\">=</span><span class=\"token number\">1073741824</span>\nlog<span class=\"token punctuation\">.</span>retention<span class=\"token punctuation\">.</span>bytes<span class=\"token operator\">=</span><span class=\"token number\">5368709120</span>\nlog<span class=\"token punctuation\">.</span>retention<span class=\"token punctuation\">.</span>check<span class=\"token punctuation\">.</span>interval<span class=\"token punctuation\">.</span>ms<span class=\"token operator\">=</span><span class=\"token number\">300000</span>\nzookeeper<span class=\"token punctuation\">.</span>connect<span class=\"token operator\">=</span>nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">2181</span><span class=\"token punctuation\">,</span>nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">:</span><span class=\"token number\">2181</span><span class=\"token punctuation\">,</span>nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">:</span><span class=\"token number\">2181</span><span class=\"token operator\">/</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span>kafka\nzookeeper<span class=\"token punctuation\">.</span>connection<span class=\"token punctuation\">.</span>timeout<span class=\"token punctuation\">.</span>ms<span class=\"token operator\">=</span><span class=\"token number\">18000</span>\ngroup<span class=\"token punctuation\">.</span>initial<span class=\"token punctuation\">.</span>rebalance<span class=\"token punctuation\">.</span>delay<span class=\"token punctuation\">.</span>ms<span class=\"token operator\">=</span><span class=\"token number\">0</span>\nauto<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">.</span>topics<span class=\"token punctuation\">.</span>enable<span class=\"token operator\">=</span><span class=\"token boolean\">true</span>\nbroker<span class=\"token punctuation\">.</span>id<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>broker_id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>[6] docker-compose.ymlì„ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">version<span class=\"token operator\">:</span> <span class=\"token string\">'3.8'</span>\nvolumes<span class=\"token operator\">:</span>\n  nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">-</span>volume \n  nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">-</span>volume\n  nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">-</span>volume\nnetworks<span class=\"token operator\">:</span>\n <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n     name<span class=\"token operator\">:</span> zoo\n\nservices<span class=\"token operator\">:</span>\n  nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span>\n    container_name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span>\n    environment<span class=\"token operator\">:</span>\n      <span class=\"token constant\">BROKER_ID</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n    hostname<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span>\n    image<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka\n    restart<span class=\"token operator\">:</span> always\n    volumes<span class=\"token operator\">:</span>\n      <span class=\"token operator\">-</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span><span class=\"token operator\">/</span>data\n\n  nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">:</span>\n    container_name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span>\n    environment<span class=\"token operator\">:</span>\n      <span class=\"token constant\">BROKER_ID</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span>\n    hostname<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span>\n    image<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka\n    restart<span class=\"token operator\">:</span> always\n    volumes<span class=\"token operator\">:</span>\n      <span class=\"token operator\">-</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span><span class=\"token operator\">/</span>data\n\n  nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">:</span>\n    container_name<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span>\n    environment<span class=\"token operator\">:</span>\n      <span class=\"token constant\">BROKER_ID</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span>\n    hostname<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span>\n    image<span class=\"token operator\">:</span> nasa1515<span class=\"token operator\">-</span>kafka\n    restart<span class=\"token operator\">:</span> always\n    volumes<span class=\"token operator\">:</span>\n      <span class=\"token operator\">-</span> nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">-</span>volume<span class=\"token operator\">:</span><span class=\"token operator\">/</span>data</code></pre></div>\n<br/>\n<p>[7] ì—¬ê¸°ê¹Œì§€ ì™„ë£Œí–ˆë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ í˜•íƒœë¡œ êµ¬ì„±ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>broker# ls <span class=\"token operator\">-</span>alrt <span class=\"token operator\">*</span>\n<span class=\"token operator\">-</span>rwxrwxrwx <span class=\"token number\">1</span> root root  <span class=\"token number\">639</span> May <span class=\"token number\">10</span> <span class=\"token number\">11</span><span class=\"token operator\">:</span><span class=\"token number\">11</span> Dockerfile\n<span class=\"token operator\">-</span>rwxrwxrwx <span class=\"token number\">1</span> root root  <span class=\"token number\">919</span> May <span class=\"token number\">10</span> <span class=\"token number\">11</span><span class=\"token operator\">:</span><span class=\"token number\">14</span> docker<span class=\"token operator\">-</span>compose<span class=\"token punctuation\">.</span>yml\n\nconfig<span class=\"token operator\">:</span>\ntotal <span class=\"token number\">16</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">178</span> May <span class=\"token number\">10</span> <span class=\"token number\">11</span><span class=\"token operator\">:</span><span class=\"token number\">12</span> init<span class=\"token punctuation\">.</span>sh\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">681</span> May <span class=\"token number\">10</span> <span class=\"token number\">11</span><span class=\"token operator\">:</span><span class=\"token number\">13</span> server<span class=\"token punctuation\">.</span>properties\ndrwxrwxrwx <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> May <span class=\"token number\">10</span> <span class=\"token number\">11</span><span class=\"token operator\">:</span><span class=\"token number\">13</span> <span class=\"token punctuation\">.</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">3</span> root root <span class=\"token number\">4096</span> May <span class=\"token number\">10</span> <span class=\"token number\">11</span><span class=\"token operator\">:</span><span class=\"token number\">14</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<p>[8] ì ì´ì œ Dockerfileì„ Build í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker build <span class=\"token operator\">--</span>tag nasa1515<span class=\"token operator\">-</span>kafka <span class=\"token punctuation\">.</span>\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\nStep <span class=\"token number\">17</span><span class=\"token operator\">/</span><span class=\"token number\">18</span> <span class=\"token operator\">:</span> <span class=\"token constant\">RUN</span> sed <span class=\"token operator\">-</span>i <span class=\"token string\">'s/\\r//g'</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>kafka<span class=\"token operator\">/</span>config<span class=\"token operator\">/</span>server<span class=\"token punctuation\">.</span>properties\n <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> Running <span class=\"token keyword\">in</span> c653a7573fc3\nRemoving intermediate container c653a7573fc3\n <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token number\">598</span>ea0a00be3\nStep <span class=\"token number\">18</span><span class=\"token operator\">/</span><span class=\"token number\">18</span> <span class=\"token operator\">:</span> <span class=\"token constant\">CMD</span> bash init<span class=\"token punctuation\">.</span>sh\n <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> Running <span class=\"token keyword\">in</span> f8a3710be663\nRemoving intermediate container f8a3710be663\n <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token number\">5581</span>d8201d8b\nSuccessfully built <span class=\"token number\">5581</span>d8201d8b\nSuccessfully tagged nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">:</span>latest</code></pre></div>\n<br/>\n<p>[9] Imageê°€ ì •ìƒì ìœ¼ë¡œ Build ëœ ê²ƒì„ í™•ì¸í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>broker# docker image ls\n<span class=\"token constant\">REPOSITORY</span>           <span class=\"token constant\">TAG</span>       <span class=\"token constant\">IMAGE</span> <span class=\"token constant\">ID</span>       <span class=\"token constant\">CREATED</span>              <span class=\"token constant\">SIZE</span>\nnasa1515<span class=\"token operator\">-</span>kafka       latest    <span class=\"token number\">5581</span>d8201d8b   About a minute ago   <span class=\"token number\">920</span>MB\nnasa1515<span class=\"token operator\">-</span>zookeeper   latest    e71e36444916   <span class=\"token number\">19</span> hours ago         <span class=\"token number\">737</span>MB\nubuntu               <span class=\"token number\">20.04</span>     <span class=\"token number\">53</span>df61775e88   <span class=\"token number\">10</span> days ago          <span class=\"token number\">72.8</span>MB\nhello<span class=\"token operator\">-</span>world          latest    feb5d9fea6a5   <span class=\"token number\">7</span> months ago         <span class=\"token number\">13.3</span>kB</code></pre></div>\n<br/>\n<p>[10] Compose.yml íŒŒì¼ë¡œ Containerë¥¼ ë™ì‘ì‹œí‚µë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker<span class=\"token operator\">-</span>compose up <span class=\"token operator\">-</span>d<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\nroot@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>broker# docker<span class=\"token operator\">-</span>compose up <span class=\"token operator\">-</span>d<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">[</span><span class=\"token operator\">+</span><span class=\"token punctuation\">]</span> Running <span class=\"token number\">7</span><span class=\"token operator\">/</span><span class=\"token number\">7</span>\n â ¿ Network zoo                       Created                                                                                                                                               <span class=\"token number\">0.0</span>s\n â ¿ Volume <span class=\"token string\">\"nasa1515-kafka-1-volume\"</span>  Created                                                                                                                                               <span class=\"token number\">0.0</span>s\n â ¿ Volume <span class=\"token string\">\"nasa1515-kafka-2-volume\"</span>  Created                                                                                                                                               <span class=\"token number\">0.0</span>s\n â ¿ Volume <span class=\"token string\">\"nasa1515-kafka-3-volume\"</span>  Created                                                                                                                                               <span class=\"token number\">0.0</span>s\n â ¿ Container nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span>        Started                                                                                                                                               <span class=\"token number\">1.1</span>s\n â ¿ Container nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span>        Started                                                                                                                                               <span class=\"token number\">1.1</span>s\n â ¿ Container nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span>        Started                                                                                                                                               <span class=\"token number\">1.2</span>s</code></pre></div>\n<br/>\n<p>[11] Kafka Containerê°€ ì˜ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker ps\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\nroot@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>broker#  docker ps\n<span class=\"token constant\">CONTAINER</span> <span class=\"token constant\">ID</span>   <span class=\"token constant\">IMAGE</span>            <span class=\"token constant\">COMMAND</span>                  <span class=\"token constant\">CREATED</span>              <span class=\"token constant\">STATUS</span>          <span class=\"token constant\">PORTS</span>     <span class=\"token constant\">NAMES</span>\n<span class=\"token number\">5</span>aed89a22bec   nasa1515<span class=\"token operator\">-</span>kafka   <span class=\"token string\">\"/bin/sh -c 'bash inâ€¦\"</span>   About a minute ago   Up <span class=\"token number\">19</span> seconds             nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span>\n<span class=\"token number\">2</span>bea2dcd9062   nasa1515<span class=\"token operator\">-</span>kafka   <span class=\"token string\">\"/bin/sh -c 'bash inâ€¦\"</span>   About a minute ago   Up <span class=\"token number\">18</span> seconds             nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token number\">8</span>ff56e284749   nasa1515<span class=\"token operator\">-</span>kafka   <span class=\"token string\">\"/bin/sh -c 'bash inâ€¦\"</span>   About a minute ago   Up <span class=\"token number\">18</span> seconds             nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span></code></pre></div>\n<br/>\n<p>[12] ì‹¤ì œ Containerì˜ Kafkaë„ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ ë¡œê·¸ë¥¼ í™•ì¸í•´ë´…ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker logs nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span>\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\n# BrokerToControllerChannelManager broker<span class=\"token operator\">=</span><span class=\"token number\">3</span> ë¸Œë¡œì»¤ <span class=\"token number\">3</span>ê°œê°€ ì •ìƒì ìœ¼ë¡œ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤<span class=\"token operator\">!</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">2022</span><span class=\"token operator\">-</span><span class=\"token number\">05</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token operator\">:</span><span class=\"token number\">26</span><span class=\"token operator\">:</span><span class=\"token number\">33</span><span class=\"token punctuation\">,</span><span class=\"token number\">654</span><span class=\"token punctuation\">]</span> <span class=\"token constant\">INFO</span> <span class=\"token punctuation\">[</span>KafkaServer id<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token function\">started</span> <span class=\"token punctuation\">(</span>kafka<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>KafkaServer<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">2022</span><span class=\"token operator\">-</span><span class=\"token number\">05</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token operator\">:</span><span class=\"token number\">26</span><span class=\"token operator\">:</span><span class=\"token number\">33</span><span class=\"token punctuation\">,</span><span class=\"token number\">928</span><span class=\"token punctuation\">]</span> <span class=\"token constant\">INFO</span> <span class=\"token punctuation\">[</span>BrokerToControllerChannelManager broker<span class=\"token operator\">=</span><span class=\"token number\">3</span> name<span class=\"token operator\">=</span>alterIsr<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Recorded <span class=\"token keyword\">new</span> <span class=\"token class-name\">controller</span><span class=\"token punctuation\">,</span> from now on will use broker nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">:</span><span class=\"token number\">9092</span> <span class=\"token punctuation\">(</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span> rack<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>kafka<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>BrokerToControllerRequestThread<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">2022</span><span class=\"token operator\">-</span><span class=\"token number\">05</span><span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token number\">02</span><span class=\"token operator\">:</span><span class=\"token number\">26</span><span class=\"token operator\">:</span><span class=\"token number\">33</span><span class=\"token punctuation\">,</span><span class=\"token number\">930</span><span class=\"token punctuation\">]</span> <span class=\"token constant\">INFO</span> <span class=\"token punctuation\">[</span>BrokerToControllerChannelManager broker<span class=\"token operator\">=</span><span class=\"token number\">3</span> name<span class=\"token operator\">=</span>forwarding<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Recorded <span class=\"token keyword\">new</span> <span class=\"token class-name\">controller</span><span class=\"token punctuation\">,</span> from now on will use broker nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">:</span><span class=\"token number\">9092</span> <span class=\"token punctuation\">(</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span> rack<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>kafka<span class=\"token punctuation\">.</span>server<span class=\"token punctuation\">.</span>BrokerToControllerRequestThread<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-kafka-client-ì„¤ì •-with-confluent\" style=\"position:relative;\"><a href=\"#-kafka-client-%EC%84%A4%EC%A0%95-with-confluent\" aria-label=\" kafka client ì„¤ì • with confluent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‰ Kafka Client ì„¤ì • With Confluent</h2>\n<p>ìœ„ì— ë‚´ìš©ì—ì„œ êµ¬ì¶•í–ˆë˜ Kafka ClusterëŠ” Docker Containerì—ì„œ ê°ì ë‹¤ë¥¸ hostë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.<br>\në•Œë¬¸ì— Producerê°€ Kafka Broker ìª½ìœ¼ë¡œ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ êµ¬ì„±í•œ 3ê°œì˜ Host ì¤‘ ì–´ëŠ Hostë¡œ ë³´ë‚´ì•¼ í•  ì§€ ëª¨ë¥´ê²Œ ë©ë‹ˆë‹¤.<br>\në˜í•œ ìš´ì˜ì ìœ¼ë¡œ ë³´ì•˜ì„ ë•Œ, Producerì—ì„œ í•˜ë‚˜ì˜ Brokerë¡œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚¸ë‹¤ë©´, í•´ë‹¹ Brokerê°€ ì•Œ ìˆ˜ ì—†ëŠ” ë¬¸ì œë¡œ ì¢…ë£Œë˜ê²Œ ëœë‹¤ë©´, ì´ìŠˆê°€ ë°œìƒí•œë‹¤.<br>\nê·¸ë˜ì„œ ì¼ë°˜ì ì¸ WEB/WASì˜ LoadBalancer ì—­í• ì„ í•˜ëŠ” í•˜ë‚˜ì˜ End-Point ê°€ í•„ìš”í•©ë‹ˆë‹¤.<br>\nì§€ê¸ˆë¶€í„° ì§„í–‰ í•  ë‚´ìš©ì€, End-Pointì— ìš”ì²­ì„ ë³´ë‚´, ì—¬ëŸ¬ ëŒ€ì˜ Brokerë¡œ êµ¬ì„±ëœ Clusterì—ì„œ ê³ ê°€ìš©ì„±ì„ í™•ë³´í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.  </p>\n<br/>\n<p>Confluent Kafka REST ì„¤ì¹˜  </p>\n<ul>\n<li>\n<p>ë™ì¼í•˜ê²Œ Dockerë¡œ ì§„í–‰í•©ë‹ˆë‹¤.  </p>\n<p>[1] ì‘ì—… í•  í´ë”ë¥¼ ë™ì¼í•˜ê²Œ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ mkdir confluent</code></pre></div>\n<br/>\n<p>[2] ì•„ë˜ ë‚´ìš©ì„ ë‹´ì€ Dockerfileì„ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">FROM</span> ubuntu<span class=\"token operator\">:</span><span class=\"token number\">20.04</span>\n<span class=\"token constant\">RUN</span> mkdir <span class=\"token operator\">-</span>p <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>install\n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> update\n\n<span class=\"token constant\">WORKDIR</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span>install\n\n<span class=\"token constant\">ENV</span> <span class=\"token constant\">DEBIAN_FRONTEND</span> noninteractive\n<span class=\"token constant\">ENV</span> <span class=\"token constant\">JAVA_HOME</span><span class=\"token operator\">=</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>jvm<span class=\"token operator\">/</span>java<span class=\"token operator\">-</span><span class=\"token number\">8</span><span class=\"token operator\">-</span>openjdk<span class=\"token operator\">-</span>amd64\n\n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install openjdk<span class=\"token operator\">-</span><span class=\"token number\">8</span><span class=\"token operator\">-</span>jdk <span class=\"token operator\">-</span>y\n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install wget <span class=\"token operator\">-</span>y\n<span class=\"token constant\">RUN</span> apt<span class=\"token operator\">-</span><span class=\"token keyword\">get</span> install vim <span class=\"token operator\">-</span>y\n\n# confluent<span class=\"token operator\">-</span>community ì„¤ì¹˜\n<span class=\"token constant\">RUN</span> wget http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>packages<span class=\"token punctuation\">.</span>confluent<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>archive<span class=\"token operator\">/</span><span class=\"token number\">7.1</span><span class=\"token operator\">/</span>confluent<span class=\"token operator\">-</span>community<span class=\"token operator\">-</span><span class=\"token number\">7.1</span><span class=\"token number\">.1</span><span class=\"token punctuation\">.</span>tar<span class=\"token punctuation\">.</span>gz\n<span class=\"token constant\">RUN</span> tar <span class=\"token operator\">-</span>zxvf confluent<span class=\"token operator\">-</span>community<span class=\"token operator\">-</span><span class=\"token number\">7.1</span><span class=\"token number\">.1</span><span class=\"token punctuation\">.</span>tar<span class=\"token punctuation\">.</span>gz\n<span class=\"token constant\">RUN</span> mv confluent<span class=\"token operator\">-</span><span class=\"token number\">7.1</span><span class=\"token number\">.1</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>confluent\n\n# kafka<span class=\"token operator\">-</span>rest ì„¤ì •íŒŒì¼ ë³µì‚¬\n<span class=\"token constant\">COPY</span> config<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token punctuation\">.</span>properties <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>confluent<span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token punctuation\">.</span>properties\n<span class=\"token constant\">RUN</span> sed <span class=\"token operator\">-</span>i <span class=\"token string\">'s/\\r//g'</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>confluent<span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token punctuation\">.</span>properties\n\n# kakfa<span class=\"token operator\">-</span>rest ì‹¤í–‰\n<span class=\"token constant\">CMD</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>confluent<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token operator\">-</span>start <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>confluent<span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token punctuation\">.</span>properties</code></pre></div>\n<br/>\n<p>[3] config í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ mkdir config</code></pre></div>\n<br/>\n<p>[4] config í´ë”ì— ì•„ë˜ ë‚´ìš©ì„ ë„£ì€ kafka-rest.properties ìƒì„±í•©ë‹ˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># kakfa <span class=\"token constant\">ID</span>\nid<span class=\"token operator\">=</span><span class=\"token keyword\">default</span>\n\n# schema<span class=\"token punctuation\">.</span>registry<span class=\"token punctuation\">.</span>url<span class=\"token operator\">=</span>http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>localhost<span class=\"token operator\">:</span><span class=\"token number\">8081</span> \nzookeeper<span class=\"token punctuation\">.</span>connect<span class=\"token operator\">=</span>nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">2181</span><span class=\"token punctuation\">,</span>nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">:</span><span class=\"token number\">2181</span><span class=\"token punctuation\">,</span>nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">:</span><span class=\"token number\">2181</span> \nbootstrap<span class=\"token punctuation\">.</span>servers<span class=\"token operator\">=</span><span class=\"token constant\">PLAINTEXT</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token number\">9092</span><span class=\"token punctuation\">,</span><span class=\"token constant\">PLAINTEXT</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token operator\">:</span><span class=\"token number\">9092</span><span class=\"token punctuation\">,</span><span class=\"token constant\">PLAINTEXT</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">:</span><span class=\"token number\">9092</span></code></pre></div>\n<br/>\n<p>[5] ì´ì œ ì•„ë˜ ë‚´ìš©ì„ ë‹´ì€ docker-compose.yml íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">version<span class=\"token operator\">:</span> <span class=\"token string\">'3.8'</span>\nnetworks<span class=\"token operator\">:</span>\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> zoo\n\nservices<span class=\"token operator\">:</span>\n  pipeline<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token operator\">:</span>\n    container_name<span class=\"token operator\">:</span> pipeline<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span>rest\n    hostname<span class=\"token operator\">:</span> pipeline<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span>rest\n    image<span class=\"token operator\">:</span> pipeline<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span>rest\n    restart<span class=\"token operator\">:</span> always\n    ports<span class=\"token operator\">:</span>\n      <span class=\"token operator\">-</span> <span class=\"token number\">8082</span><span class=\"token operator\">:</span><span class=\"token number\">8082</span></code></pre></div>\n<br/>\n<p>[6] ì—¬ê¸°ê¹Œì§€ ì™„ë£Œë˜ì—ˆìœ¼ë©´ ì•„ë˜ì™€ ê°™ì€ í˜•ì‹ì˜ íŒŒì¼ì´ ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>Confluent# ls <span class=\"token operator\">-</span>alrt <span class=\"token operator\">*</span>\n<span class=\"token operator\">-</span>rwxrwxrwx <span class=\"token number\">1</span> root root  <span class=\"token number\">798</span> May <span class=\"token number\">10</span> <span class=\"token number\">13</span><span class=\"token operator\">:</span><span class=\"token number\">44</span> Dockerfile\n<span class=\"token operator\">-</span>rwxrwxrwx <span class=\"token number\">1</span> root root  <span class=\"token number\">258</span> May <span class=\"token number\">10</span> <span class=\"token number\">13</span><span class=\"token operator\">:</span><span class=\"token number\">45</span> docker<span class=\"token operator\">-</span>compose<span class=\"token punctuation\">.</span>yml\n\nconfig<span class=\"token operator\">:</span>\ntotal <span class=\"token number\">12</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">285</span> May <span class=\"token number\">10</span> <span class=\"token number\">13</span><span class=\"token operator\">:</span><span class=\"token number\">44</span> kafka<span class=\"token operator\">-</span>rest<span class=\"token punctuation\">.</span>properties\ndrwxrwxrwx <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> May <span class=\"token number\">10</span> <span class=\"token number\">13</span><span class=\"token operator\">:</span><span class=\"token number\">44</span> <span class=\"token punctuation\">.</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">3</span> root root <span class=\"token number\">4096</span> May <span class=\"token number\">10</span> <span class=\"token number\">13</span><span class=\"token operator\">:</span><span class=\"token number\">44</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<p>[7] Docker Imageë¥¼ Build í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker build <span class=\"token operator\">--</span>tag nasa1515<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka <span class=\"token punctuation\">.</span>\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\nStep <span class=\"token number\">15</span><span class=\"token operator\">/</span><span class=\"token number\">15</span> <span class=\"token operator\">:</span> <span class=\"token constant\">CMD</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>confluent<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token operator\">-</span>start <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>confluent<span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token operator\">/</span>kafka<span class=\"token operator\">-</span>rest<span class=\"token punctuation\">.</span>properties\n <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> Running <span class=\"token keyword\">in</span> <span class=\"token number\">65</span>ca3e623728\nRemoving intermediate container <span class=\"token number\">65</span>ca3e623728\n <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token number\">661</span>f80b47926\nSuccessfully built <span class=\"token number\">661</span>f80b47926\nSuccessfully tagged nasa1515<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka<span class=\"token operator\">:</span>latest</code></pre></div>\n<br/>\n<p>[8] ì´ë¯¸ì§€ë¥¼ í™•ì¸í•´ë´…ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">root@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>Confluent# docker image ls\n<span class=\"token constant\">REPOSITORY</span>                 <span class=\"token constant\">TAG</span>       <span class=\"token constant\">IMAGE</span> <span class=\"token constant\">ID</span>       <span class=\"token constant\">CREATED</span>          <span class=\"token constant\">SIZE</span>\nnasa1515<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka   latest    <span class=\"token number\">661</span>f80b47926   <span class=\"token number\">22</span> seconds ago   <span class=\"token number\">1.99</span>GB\nnasa1515<span class=\"token operator\">-</span>zookeeper         latest    b2b8ec726801   <span class=\"token number\">2</span> hours ago      <span class=\"token number\">737</span>MB\nnasa1515<span class=\"token operator\">-</span>kafka             latest    <span class=\"token number\">5581</span>d8201d8b   <span class=\"token number\">3</span> hours ago      <span class=\"token number\">920</span>MBz\nubuntu                     <span class=\"token number\">20.04</span>     <span class=\"token number\">53</span>df61775e88   <span class=\"token number\">10</span> days ago      <span class=\"token number\">72.8</span>MB\nhello<span class=\"token operator\">-</span>world                latest    feb5d9fea6a5   <span class=\"token number\">7</span> months ago     <span class=\"token number\">13.3</span>kB</code></pre></div>\n<br/>\n<p>[9] Docker-composeë¡œ Containerë¥¼ ë™ì‘í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker<span class=\"token operator\">-</span>compose up <span class=\"token operator\">-</span>d\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\n<span class=\"token punctuation\">[</span><span class=\"token operator\">+</span><span class=\"token punctuation\">]</span> Running <span class=\"token number\">1</span><span class=\"token operator\">/</span><span class=\"token number\">1</span>\nâ ¿ Container nasa1515<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka  Started                                                                                                                                             <span class=\"token number\">0.6</span>s</code></pre></div>\n<br/>\n<p>[10] ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker ps\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\nroot@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>Confluent# docker ps\n<span class=\"token constant\">CONTAINER</span> <span class=\"token constant\">ID</span>   <span class=\"token constant\">IMAGE</span>                      <span class=\"token constant\">COMMAND</span>                  <span class=\"token constant\">CREATED</span>          <span class=\"token constant\">STATUS</span>          <span class=\"token constant\">PORTS</span>                                       <span class=\"token constant\">NAMES</span>\nd1f069f93aca   nasa1515<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka   <span class=\"token string\">\"/bin/sh -c '/usr/loâ€¦\"</span>   <span class=\"token number\">34</span> seconds ago   Up <span class=\"token number\">33</span> seconds   <span class=\"token number\">0.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token operator\">:</span><span class=\"token number\">8082</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token number\">8082</span><span class=\"token operator\">/</span>tcp<span class=\"token punctuation\">,</span> <span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token operator\">:</span><span class=\"token number\">8082</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token number\">8082</span><span class=\"token operator\">/</span>tcp   nasa1515<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka\n<span class=\"token number\">685</span>b2f6adc7f   nasa1515<span class=\"token operator\">-</span>kafka             <span class=\"token string\">\"/bin/sh -c 'bash inâ€¦\"</span>   <span class=\"token number\">2</span> hours ago      Up <span class=\"token number\">2</span> hours                                                  nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token number\">86</span>ee421b76a8   nasa1515<span class=\"token operator\">-</span>kafka             <span class=\"token string\">\"/bin/sh -c 'bash inâ€¦\"</span>   <span class=\"token number\">2</span> hours ago      Up <span class=\"token number\">2</span> hours                                                  nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">1</span>\n<span class=\"token number\">10</span>c8c2384fed   nasa1515<span class=\"token operator\">-</span>kafka             <span class=\"token string\">\"/bin/sh -c 'bash inâ€¦\"</span>   <span class=\"token number\">2</span> hours ago      Up <span class=\"token number\">2</span> hours                                                  nasa1515<span class=\"token operator\">-</span>kafka<span class=\"token operator\">-</span><span class=\"token number\">2</span>\nd3fe193618f7   nasa1515<span class=\"token operator\">-</span>zookeeper         <span class=\"token string\">\"/bin/sh -c 'bash inâ€¦\"</span>   <span class=\"token number\">2</span> hours ago      Up <span class=\"token number\">2</span> hours                                                  nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">1</span>\n<span class=\"token number\">021037</span>ca8443   nasa1515<span class=\"token operator\">-</span>zookeeper         <span class=\"token string\">\"/bin/sh -c 'bash inâ€¦\"</span>   <span class=\"token number\">2</span> hours ago      Up <span class=\"token number\">2</span> hours                                                  nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">3</span>\n<span class=\"token number\">6</span>f9cd8cdd917   nasa1515<span class=\"token operator\">-</span>zookeeper         <span class=\"token string\">\"/bin/sh -c 'bash inâ€¦\"</span>   <span class=\"token number\">2</span> hours ago      Up <span class=\"token number\">2</span> hours                                                  nasa1515<span class=\"token operator\">-</span>zookeeper<span class=\"token operator\">-</span><span class=\"token number\">2</span></code></pre></div>\n<br/>\n<p>[11] ì´ì œ Kafka Broker ìª½ì— Topicì„ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.\nì €ëŠ” Pythonì„ ì‚¬ìš©í•˜ì„œ ìš”ì²­ì„ ë³´ë‚´ê² ìŠµë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> requests <span class=\"token keyword\">import</span> json \n\nheaders <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/vnd.kafka.json.v2+json'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span> \n\ndata <span class=\"token operator\">=</span> <span class=\"token string\">'{\"records\":[{\"value\":{\"id\":\"probiotics\"}}]}'</span> \nresponse <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:8082/topics/nasa1515'</span><span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>data<span class=\"token punctuation\">)</span> \n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">.</span><span class=\"token function\">dumps</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> indent<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br/>\n<p>í† í”½ ìƒì„± ê²°ê³¼</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>Response <span class=\"token punctuation\">[</span><span class=\"token number\">200</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"offsets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"partition\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"offset\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"error_code\"</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"error\"</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"key_schema_id\"</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"value_schema_id\"</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>íŒŒì´ì¬ get requestë¡œ Topic ì •ë³´ í™•ì¸í•˜ê¸°</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> requests \n<span class=\"token keyword\">import</span> json \n\nresponse <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:8082/topics/nasa1515/   '</span><span class=\"token punctuation\">)</span> \n\n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span> \n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">.</span><span class=\"token function\">dumps</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> indent<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<br/>\n<p>ê²°ê³¼</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>Response <span class=\"token punctuation\">[</span><span class=\"token number\">200</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"nasa1515\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"configs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"compression.type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"producer\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"leader.replication.throttled.replicas\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"message.downconversion.enable\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"min.insync.replicas\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"segment.jitter.ms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"cleanup.policy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"delete\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"flush.ms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"9223372036854775807\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"follower.replication.throttled.replicas\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"segment.bytes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1073741824\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"retention.ms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"604800000\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"flush.messages\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"9223372036854775807\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"message.format.version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.0-IV1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"file.delete.delay.ms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"60000\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"max.compaction.lag.ms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"9223372036854775807\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"max.message.bytes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1048588\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"min.compaction.lag.ms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"message.timestamp.type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"CreateTime\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"preallocate\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"false\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"min.cleanable.dirty.ratio\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.5\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"index.interval.bytes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4096\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"unclean.leader.election.enable\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"false\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"retention.bytes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"5368709120\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"delete.retention.ms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"86400000\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"segment.ms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"604800000\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"message.timestamp.difference.max.ms\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"9223372036854775807\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"segment.index.bytes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10485760\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"partitions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"partition\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"leader\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"replicas\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token punctuation\">{</span>\n                    <span class=\"token string\">\"broker\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">\"leader\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">\"in_sync\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-kafka-gui-tools---kafdrop\" style=\"position:relative;\"><a href=\"#-kafka-gui-tools---kafdrop\" aria-label=\" kafka gui tools   kafdrop permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ¹ Kafka Gui Tools - kafdrop</h2>\n<h3 id=\"ps-2\" style=\"position:relative;\"><a href=\"#ps-2\" aria-label=\"ps 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PS</h3>\n<p>ì•„ë¬´ë˜ë„ ëª¨ë“  Clusterë“¤ì„ Docker Containerë¡œ êµ¬ë™í•˜ë‹¤ë³´ë‹ˆê¹ ë­”ê°€ ì¼ì¼íˆ í™•ì¸í•˜ê¸°ê°€ ë„ˆë¬´ í˜ë“¤ë‹¤.<br>\nê·¸ë˜ì„œ êµ¬ê¸€ë§ì„ í•˜ë‹¤ë³´ë‹ˆ í†µí•© GUIë¥¼ ì§€ì›í•´ì£¼ëŠ” íˆ´ì„ ë°œê²¬í–ˆë‹¤. ë¬¼ë¡  ì–˜ë„ ë„ì»¤ë¡œ ë„ìš´ë‹¤..  </p>\n<br/>\n<ul>\n<li>\n<p>ì´ ì•„ì´ëŠ” ì§€ì›í•˜ëŠ” Docker ì´ë¯¸ì§€ê°€ ìˆìŠµë‹ˆë‹¤!!. </p>\n<p>[1] ì‘ì—… ë””ë ‰í† ë¦¬ í•˜ë‚˜ ìƒì„±í•©ë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ mkdir kafdrop </code></pre></div>\n<br/>\n<p>[2] docker-compose.yml í•˜ë‚˜ ê°„ë‹¨í•˜ê²Œ ë¹¨ë¦¬ ë§Œë“¤ì–´ì¤ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">version<span class=\"token operator\">:</span> <span class=\"token string\">\"3.8\"</span>\nservices<span class=\"token operator\">:</span>\nkafdrop<span class=\"token operator\">:</span>\n  image<span class=\"token operator\">:</span> obsidiandynamics<span class=\"token operator\">/</span>kafdrop\n  restart<span class=\"token operator\">:</span> <span class=\"token string\">\"always\"</span>\n  ports<span class=\"token operator\">:</span>\n    <span class=\"token operator\">-</span> <span class=\"token string\">\"9000:9000\"</span> \n  environment<span class=\"token operator\">:</span>\n    <span class=\"token constant\">KAFKA_BROKERCONNECT</span><span class=\"token operator\">:</span> <span class=\"token string\">\"nasa1515-kafka-1:9092,nasa1515-kafka-2:9092,nasa1515-kafka-3:9092\"</span>\n    <span class=\"token constant\">JVM_OPTS</span><span class=\"token operator\">:</span> <span class=\"token string\">\"-Xms32M -Xmx64M\"</span> \n\nnetworks<span class=\"token operator\">:</span>\n<span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n  name<span class=\"token operator\">:</span> zoo</code></pre></div>\n<br/>\n<p>[3] compose ì‹¤í–‰í•´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ docker<span class=\"token operator\">-</span>compose up <span class=\"token operator\">-</span>d<span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p>[4] ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆë‹¤ë©´ Localhost:9000 webìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì´ ì ‘ì†ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>\ní™•ì¸í•´ë³´ë©´ ì—°ê²°ë˜ì–´ìˆëŠ” Brokerì™€ ìƒì„±ë˜ì–´ìˆëŠ” Topicë“±ì„ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/167564283-6c6bccc9-fa6e-4f79-be20-2dc0488e4829.png\" alt=\"image\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h2>\n<p>ì‚¬ì‹¤ ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œ êµ¬ì¶•í•œ Kafka Broker Clusterì˜ ëª©ì ì€<br>\nPublic Cloud ë³„ë¡œ ì¡´ì¬í•˜ëŠ” Streaming Toolsì„ í™•ì¸í•´ë³´ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.<br>\nìƒê°ë³´ë‹¤ êµ¬ì¶• í¬ìŠ¤íŠ¸ê°€ ê¸¸ì–´ì ¸ì„œ ë¶€ë“ì´í•˜ê²Œ í¬ìŠ¤íŠ¸ë¥¼ ì—¬ëŸ¬ê°œë¡œ ë‚˜ëˆ ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\në‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Ptyhonì„ ì‚¬ìš©í•´ Kafka Producer Applicationì„ ìƒì„±í•˜ê³ <br>\nEvent Messageë¥¼ Cloudë¡œ ë³´ë‚´ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.  </p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-docker-docker-compose-%EC%84%A4%EC%B9%98\">âœ” Docker, Docker-compose ì„¤ì¹˜</a></li>\n<li>\n<p><a href=\"#-zookeeper-%EC%84%A4%EC%B9%98\">ğŸ‘ Zookeeper ì„¤ì¹˜</a></p>\n<ul>\n<li><a href=\"#ps\">PS</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-kafka-configuration\">ğŸ±â€ğŸ Kafka Configuration</a></p>\n<ul>\n<li><a href=\"#ps-1\">PS</a></li>\n</ul>\n</li>\n<li><a href=\"#-kafka-client-%EC%84%A4%EC%A0%95-with-confluent\">ğŸ‰ Kafka Client ì„¤ì • With Confluent</a></li>\n<li>\n<p><a href=\"#-kafka-gui-tools---kafdrop\">ğŸŒ¹ Kafka Gui Tools - kafdrop</a></p>\n<ul>\n<li><a href=\"#ps-2\">PS</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</div>","excerpt":"ë¨¸ë¦¬ë§   ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Local WSL2 Ubuntuì— Kafka Brockerë¥¼ êµ¬ì„±í•œ ë’¤ ë¬´ì‘ìœ„ ë°ì´í„°ë¥¼ ìƒì„±í•˜ì—¬ ê° Cloudì˜ Steraming Tools (aws : kinesis, gcp : pub/sub, azure : eventhub)ì—ì„œ Consumeí•˜ëŠ” ê³¼ì •ì„ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì•„ë¬´ë˜ë„ ê¸ˆì•¡ì ì¸ ë¶€ë¶„ì˜ ì´ìŠˆê°€ ë°œìƒí•˜ê¸°ì— ìµœëŒ€í•œ egress Trafficì´ ë°œìƒë˜ì§€ ì•Šê²Œ Localì—ì„œ ì§„í–‰í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.    âœ” Docker, Docker-compose ì„¤ì¹˜ Dockerì™€ Docker-composeì˜ ê²½ìš° ì•„ë˜ì˜ ê³µì‹ë¬¸ì„œë¥¼ í™•ì¸í•˜ì‹œë©´ ìì„¸í•œ ì„¤ì¹˜ ë°©ë²•ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Docker ì„¤ì¹˜ Dâ€¦","frontmatter":{"date":"May 09, 2022","title":"[DATA] - Zookeeper & Kafka êµ¬ì„± with WSL2, Docker","categories":"DATA CLOUD","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/data-kafka-wsl/"}},"next":{"id":"501a1b19-d923-56be-afa0-39e4052fe194","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì•ˆë…•í•˜ì„¸ìš” NASA1515ì…ë‹ˆë‹¤. êµ‰ì¥íˆ ì˜¤ëœë§Œì— ê¸€ì„ ì”ë‹ˆë‹¤. (íšŒì‚¬ ì¼, ê°œì¸ì‚¬ì • ë“±ë“± ë°”ìœì¼ì´ ì°¸ ë§ì•˜ìŠµë‹ˆë‹¤..)<br>\nì•„ë¬´íŠ¼â€¦2022ë…„ 4ì›”ë¶€í„° ê·¸ë˜ë„ ì£¼ë‹¹ í•˜ë‚˜ì˜ í¬ìŠ¤íŠ¸ëŠ” ì‘ì„±í•´ë³´ìì˜ ë§ˆì¸ë“œë¡œ ë¸”ë¡œê·¸ë¥¼ ìš´ì˜í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.<br>\nì‚¬ì‹¤ ì¶”ê°€ ê¸€ì„ ì‘ì„±í•˜ì§€ ì•Šì•„ë„, adsence ìˆ˜ìµì„ ìŒ“ì´ë‹ˆê¹ ë‚˜íƒœí•´ì§„ ì´ìœ ê°€ í¬ê¸´í•©ë‹ˆë‹¤..   </p>\n<hr>\n<br/>\n<h2 id=\"-oracle-install\" style=\"position:relative;\"><a href=\"#-oracle-install\" aria-label=\" oracle install permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” ORACLE Install</h2>\n<p>ì„œë¡  ì—†ì´ ë°”ë¡œ Oracleì„ ì„¤ì¹˜í•´ë³´ë„ë¡ í•˜ì£ <br>\nOracleì€ ê¸°ë³¸ Linuxì— ê¹”ê²Œë˜ë©´ íŒŒë¼ë©”í„° ë“±ë“± ê·€ì°®ì•„ ì§€ëŠ” ì‘ì—…ë“¤ì´ ë§ê¸° ë•Œë¬¸ë°<br>\nAzureì—ì„œ ì œê³µí•´ì£¼ëŠ” DataBase Imageë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">az vm create \\\n    <span class=\"token operator\">--</span>resource<span class=\"token operator\">-</span>group nasatest \\\n    <span class=\"token operator\">--</span>name oracle19c<span class=\"token operator\">-</span>wonseok<span class=\"token operator\">-</span><span class=\"token number\">01</span> \\\n    <span class=\"token operator\">--</span>image Oracle<span class=\"token operator\">:</span>oracle<span class=\"token operator\">-</span>database<span class=\"token operator\">-</span><span class=\"token number\">19</span><span class=\"token operator\">-</span><span class=\"token number\">3</span><span class=\"token operator\">:</span>oracle<span class=\"token operator\">-</span>database<span class=\"token operator\">-</span><span class=\"token number\">19</span><span class=\"token operator\">-</span><span class=\"token number\">0904</span><span class=\"token operator\">:</span>latest \\\n    <span class=\"token operator\">--</span>size Standard_DS2_v2 \\\n    <span class=\"token operator\">--</span>admin<span class=\"token operator\">-</span>username nasa1515 \\\n    <span class=\"token operator\">--</span>admin<span class=\"token operator\">-</span>password @dldnjstjr123 \\\n    <span class=\"token operator\">--</span><span class=\"token keyword\">public</span><span class=\"token operator\">-</span>ip<span class=\"token operator\">-</span>address<span class=\"token operator\">-</span>allocation <span class=\"token keyword\">static</span> \\\n    <span class=\"token operator\">--</span><span class=\"token keyword\">public</span><span class=\"token operator\">-</span>ip<span class=\"token operator\">-</span>address<span class=\"token operator\">-</span>dns<span class=\"token operator\">-</span>name nasa<span class=\"token operator\">-</span>dns</code></pre></div>\n<br/>\n<br/>\n<p>Disk ì¦ì„¤! </p>\n<p>Azure VMì˜ Specì„ ë‚®ì¶°ì„œ ì‘ì—…ì¤‘ì´ê¸° ë•Œë¬¸ì—(ë¹„ìš©â€¦) Oracle Data Fileìš© ë””ìŠ¤í¬ë¥¼ í•˜ë‚˜ ì¦ì„¤í•´ì£¼ê² ìŠµë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">az vm disk attach <span class=\"token operator\">--</span>name disk01 <span class=\"token operator\">--</span><span class=\"token keyword\">new</span> <span class=\"token operator\">--</span>resource<span class=\"token operator\">-</span>group nasatest <span class=\"token operator\">--</span>size<span class=\"token operator\">-</span>gb <span class=\"token number\">64</span> <span class=\"token operator\">--</span>sku StandardSSD_LRS <span class=\"token operator\">--</span>vm<span class=\"token operator\">-</span>name nasa<span class=\"token operator\">-</span>oracle</code></pre></div>\n<br/>\n<br/>\n<p>ì™¸ë¶€ ì—°ê²°ì„ ìœ„í•œ Virtual Machine Firewall ì¶”ê°€.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">az network nsg rule create \\\n    <span class=\"token operator\">--</span>resource<span class=\"token operator\">-</span>group nasatest \\\n    <span class=\"token operator\">--</span>nsg<span class=\"token operator\">-</span>name nasa<span class=\"token operator\">-</span>oracleNSG \\\n    <span class=\"token operator\">--</span>name nasa<span class=\"token operator\">-</span>oracle \\\n    <span class=\"token operator\">--</span>protocol tcp \\\n    <span class=\"token operator\">--</span>priority <span class=\"token number\">1001</span> \\\n    <span class=\"token operator\">--</span>destination<span class=\"token operator\">-</span>port<span class=\"token operator\">-</span>range <span class=\"token number\">1521</span></code></pre></div>\n<br/>\n<br/>\n<p>ì´ì œ VMì— ì ‘ì†í•´ì„œ ì¦ì„¤í•œ Disk Partitionì„ ë‚˜ëˆ ì¤ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># parted <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc \n# mklabel gpt\n# parted <span class=\"token operator\">-</span>a optimal <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc mkpart primary <span class=\"token number\">0</span>GB <span class=\"token number\">64</span>GB   \n# parted <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc print\n\nModel<span class=\"token operator\">:</span> Msft Virtual <span class=\"token function\">Disk</span> <span class=\"token punctuation\">(</span>scsi<span class=\"token punctuation\">)</span>\nDisk <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc<span class=\"token operator\">:</span> <span class=\"token number\">68.7</span>GB\nSector <span class=\"token function\">size</span> <span class=\"token punctuation\">(</span>logical<span class=\"token operator\">/</span>physical<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token number\">512</span>B<span class=\"token operator\">/</span><span class=\"token number\">4096</span>B\nPartition Table<span class=\"token operator\">:</span> gpt\nDisk Flags<span class=\"token operator\">:</span>\n\nNumber  Start   End     Size    File system  Name     Flags\n <span class=\"token number\">1</span>      <span class=\"token number\">1049</span>kB  <span class=\"token number\">64.0</span>GB  <span class=\"token number\">64.0</span>GB               primary\n\n\n# mkfs <span class=\"token operator\">-</span>t ext4 <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc1\n# mkdir <span class=\"token operator\">/</span>u02\n# mount <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>sdc1 <span class=\"token operator\">/</span>u02\n# chmod <span class=\"token number\">777</span> <span class=\"token operator\">/</span>u02</code></pre></div>\n<br/>\n<br/>\n<p>fstabì— Mount Point ë“±ë¡ ë° hosts íŒŒì¼ì„ ìˆ˜ì •í•´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># echo <span class=\"token string\">\"/dev/sdb1               /u02                    ext4    defaults        0 0\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>fstab\n# echo <span class=\"token string\">\"&lt;Public IP> &lt;VMname>.eastus.cloudapp.azure.com &lt;VMname>\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hosts</code></pre></div>\n<br/>\n<br/>\n<p>ë§ˆì§€ë§‰ìœ¼ë¡œ VM ë‚´ë¶€ì˜ Firewall Portë¥¼ ì„¤ì •í•´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span>add<span class=\"token operator\">-</span>port<span class=\"token operator\">=</span><span class=\"token number\">1521</span><span class=\"token operator\">/</span>tcp <span class=\"token operator\">--</span>permanent\n# firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span>add<span class=\"token operator\">-</span>port<span class=\"token operator\">=</span><span class=\"token number\">5502</span><span class=\"token operator\">/</span>tcp <span class=\"token operator\">--</span>permanent\n# firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>reload</code></pre></div>\n<hr>\n<br/>\n<h2 id=\"-database-ìƒì„±\" style=\"position:relative;\"><a href=\"#-database-%EC%83%9D%EC%84%B1\" aria-label=\" database ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœŒ DataBase ìƒì„±</h2>\n<p>ì›ë˜ëŠ” Oracleì„ ê¸°ë³¸ Linuxì— ì„¤ì¹˜í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ë¥¼ ê±°ì³ì•¼ í•˜ëŠ”ê²Œ ì •ì„ì…ë‹ˆë‹¤.<br>\n<img src=\"https://user-images.githubusercontent.com/69498804/161206125-21c2cccd-bf7d-435c-8b1a-895d348b8f12.png\" alt=\"image\">\nê·¸ëŸ¬ë‚˜ Azureì—ì„œëŠ” DataBase ì´ë¯¸ì§€ì—ì„œ ì´ë¯¸ /u01/ ê²½ë¡œì— ì—”ì§„ê³¼ ë¦¬ìŠ¤ë„ˆê°€ ìƒì„± ë° ì„¤ì¹˜ ì§„í–‰ëœ ìƒíƒœë¡œ ì œê³µì„ í•´ì¤ë‹ˆë‹¤!</p>\n<br/>\nê·¸ë˜ì„œ Oracle Userì˜ í™˜ê²½ë³€ìˆ˜ íŒŒì¼ìœ¼ ì‚´í´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì´ë¯¸ ì—”ì§„ê³¼ ë¦¬ìŠ¤ë„ˆì˜ ê²½ë¡œê°€ ì„¤ì •ë˜ì–´ìˆìŠµë‹ˆë‹¤!\n<p><img src=\"https://user-images.githubusercontent.com/69498804/161206420-448edba4-787e-471c-96d7-09f026430edf.png\" alt=\"image\"></p>\n<br/>\n<br/>\n<p>ì ì´ì œ Oracle Databaseë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œ USERë¥¼ ë³€ê²½í•˜ê³  ì•„ë˜ Commandë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># sudo su <span class=\"token operator\">-</span> oracle\n# lsnrctl start\n<span class=\"token constant\">LSNRCTL</span> <span class=\"token keyword\">for</span> Linux<span class=\"token operator\">:</span> Version <span class=\"token number\">19.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span> <span class=\"token operator\">-</span> Production on <span class=\"token number\">20</span><span class=\"token operator\">-</span><span class=\"token constant\">OCT</span><span class=\"token operator\">-</span><span class=\"token number\">2020</span> <span class=\"token number\">01</span><span class=\"token operator\">:</span><span class=\"token number\">58</span><span class=\"token operator\">:</span><span class=\"token number\">18</span>\n\n<span class=\"token function\">Copyright</span> <span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span> <span class=\"token number\">1991</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2019</span><span class=\"token punctuation\">,</span> Oracle<span class=\"token punctuation\">.</span>  All rights reserved<span class=\"token punctuation\">.</span>\n\nStarting <span class=\"token operator\">/</span>u01<span class=\"token operator\">/</span>app<span class=\"token operator\">/</span>oracle<span class=\"token operator\">/</span>product<span class=\"token operator\">/</span><span class=\"token number\">19.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span>dbhome_1<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>tnslsnr<span class=\"token operator\">:</span> please wait<span class=\"token operator\">...</span>\n\n<span class=\"token constant\">TNSLSNR</span> <span class=\"token keyword\">for</span> Linux<span class=\"token operator\">:</span> Version <span class=\"token number\">19.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span> <span class=\"token operator\">-</span> Production\nLog messages written to <span class=\"token operator\">/</span>u01<span class=\"token operator\">/</span>app<span class=\"token operator\">/</span>oracle<span class=\"token operator\">/</span>diag<span class=\"token operator\">/</span>tnslsnr<span class=\"token operator\">/</span>vmoracle19c<span class=\"token operator\">/</span>listener<span class=\"token operator\">/</span>alert<span class=\"token operator\">/</span>log<span class=\"token punctuation\">.</span>xml\nListening on<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">DESCRIPTION</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ADDRESS</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PROTOCOL</span><span class=\"token operator\">=</span>tcp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token constant\">HOST</span><span class=\"token operator\">=</span>vmoracle19c<span class=\"token punctuation\">.</span>eastus<span class=\"token punctuation\">.</span>cloudapp<span class=\"token punctuation\">.</span>azure<span class=\"token punctuation\">.</span>com<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token operator\">=</span><span class=\"token number\">1521</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nConnecting <span class=\"token function\">to</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">ADDRESS</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PROTOCOL</span><span class=\"token operator\">=</span>tcp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token constant\">HOST</span><span class=\"token operator\">=</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token operator\">=</span><span class=\"token number\">1521</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token constant\">STATUS</span> <span class=\"token keyword\">of</span> the <span class=\"token constant\">LISTENER</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>\nAlias                     <span class=\"token constant\">LISTENER</span>\nVersion                   <span class=\"token constant\">TNSLSNR</span> <span class=\"token keyword\">for</span> Linux<span class=\"token operator\">:</span> Version <span class=\"token number\">19.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span> <span class=\"token operator\">-</span> Production\nStart Date                <span class=\"token number\">20</span><span class=\"token operator\">-</span><span class=\"token constant\">OCT</span><span class=\"token operator\">-</span><span class=\"token number\">2020</span> <span class=\"token number\">01</span><span class=\"token operator\">:</span><span class=\"token number\">58</span><span class=\"token operator\">:</span><span class=\"token number\">18</span>\nUptime                    <span class=\"token number\">0</span> days <span class=\"token number\">0</span> hr<span class=\"token punctuation\">.</span> <span class=\"token number\">0</span> min<span class=\"token punctuation\">.</span> <span class=\"token number\">0</span> sec\nTrace Level               off\nSecurity                  <span class=\"token constant\">ON</span><span class=\"token operator\">:</span> Local <span class=\"token constant\">OS</span> Authentication\n<span class=\"token constant\">SNMP</span>                      <span class=\"token constant\">OFF</span>\nListener Log File         <span class=\"token operator\">/</span>u01<span class=\"token operator\">/</span>app<span class=\"token operator\">/</span>oracle<span class=\"token operator\">/</span>diag<span class=\"token operator\">/</span>tnslsnr<span class=\"token operator\">/</span>vmoracle19c<span class=\"token operator\">/</span>listener<span class=\"token operator\">/</span>alert<span class=\"token operator\">/</span>log<span class=\"token punctuation\">.</span>xml\nListening Endpoints Summary<span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">(</span><span class=\"token constant\">DESCRIPTION</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token constant\">ADDRESS</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PROTOCOL</span><span class=\"token operator\">=</span>tcp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token constant\">HOST</span><span class=\"token operator\">=</span>vmoracle19c<span class=\"token punctuation\">.</span>eastus<span class=\"token punctuation\">.</span>cloudapp<span class=\"token punctuation\">.</span>azure<span class=\"token punctuation\">.</span>com<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token constant\">PORT</span><span class=\"token operator\">=</span><span class=\"token number\">1521</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nThe listener supports no services\nThe command completed successfully\n\n# mkdir <span class=\"token operator\">/</span>u02<span class=\"token operator\">/</span>oradata</code></pre></div>\n<br/>\n<br/>\n<p>ìœ„ì—ì„œ ë§í•œ ê²ƒì²˜ëŸ¼ ì €í¬ëŠ” ì´ì œ DBCAë¡œ DataBaseë§Œ ìƒì„±í•´ì£¼ë©´ ê°„í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (20ë¶„ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">dbca <span class=\"token operator\">-</span>silent \\\n   <span class=\"token operator\">-</span>createDatabase \\\n   <span class=\"token operator\">-</span>templateName General_Purpose<span class=\"token punctuation\">.</span>dbc \\\n   <span class=\"token operator\">-</span>gdbname wonseokdb \\\n   <span class=\"token operator\">-</span>sid wonseokdb \\\n   <span class=\"token operator\">-</span>responseFile <span class=\"token constant\">NO_VALUE</span> \\\n   <span class=\"token operator\">-</span>characterSet <span class=\"token constant\">AL32UTF8</span> \\\n   <span class=\"token operator\">-</span>sysPassword @qlalfqjsgh123 \\\n   <span class=\"token operator\">-</span>systemPassword @qlalfqjsgh123 \\\n   <span class=\"token operator\">-</span>createAsContainerDatabase <span class=\"token boolean\">false</span> \\\n   <span class=\"token operator\">-</span>databaseType <span class=\"token constant\">MULTIPURPOSE</span> \\\n   <span class=\"token operator\">-</span>automaticMemoryManagement <span class=\"token boolean\">false</span> \\\n   <span class=\"token operator\">-</span>storageType <span class=\"token constant\">FS</span> \\\n   <span class=\"token operator\">-</span>datafileDestination <span class=\"token string\">\"/u02/oradata/\"</span> \\\n   <span class=\"token operator\">-</span>ignorePreReqs</code></pre></div>\n<br/>\n<br/>\n<p>ì ë°ì´í„°ë² ì´ìŠ¤ê°€ ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìœ¼ë©´ ì˜¤ë¼í´ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># <span class=\"token constant\">ORACLE_SID</span><span class=\"token operator\">=</span>wonseokdb<span class=\"token punctuation\">;</span> <span class=\"token keyword\">export</span> <span class=\"token constant\">ORACLE_SID</span>\n# echo <span class=\"token string\">\"export ORACLE_SID=wonseokdb\"</span> <span class=\"token operator\">>></span> <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>bashrc</code></pre></div>\n<br/>\n<br/>\n<p>Oracle DataBase Init Script ë“±ë¡</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># sed <span class=\"token operator\">-</span>i <span class=\"token string\">'s/:N/:Y/'</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>oratab</code></pre></div>\n<br/>\n<br/>\n<p>/etc/init.d/dbora íŒŒì¼ì„ ìƒì„±í•œ í›„ ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token hashbang comment\">#!/bin/sh</span>\n# chkconfig<span class=\"token operator\">:</span> <span class=\"token number\">345</span> <span class=\"token number\">99</span> <span class=\"token number\">10</span>\n# Description<span class=\"token operator\">:</span> Oracle auto start<span class=\"token operator\">-</span>stop script<span class=\"token punctuation\">.</span>\n#\n# Set <span class=\"token constant\">ORA_HOME</span> to be equivalent to $<span class=\"token constant\">ORACLE_HOME</span><span class=\"token punctuation\">.</span>\n<span class=\"token constant\">ORA_HOME</span><span class=\"token operator\">=</span><span class=\"token operator\">/</span>u01<span class=\"token operator\">/</span>app<span class=\"token operator\">/</span>oracle<span class=\"token operator\">/</span>product<span class=\"token operator\">/</span><span class=\"token number\">19.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span>dbhome_1\n<span class=\"token constant\">ORA_OWNER</span><span class=\"token operator\">=</span>oracle\n\n<span class=\"token keyword\">case</span> <span class=\"token string\">\"$1\"</span> <span class=\"token keyword\">in</span>\n<span class=\"token string\">'start'</span><span class=\"token punctuation\">)</span>\n    # Start the Oracle databases<span class=\"token operator\">:</span>\n    # The following command assumes that the Oracle sign<span class=\"token operator\">-</span><span class=\"token keyword\">in</span>\n    # will not prompt the user <span class=\"token keyword\">for</span> any values<span class=\"token punctuation\">.</span>\n    # Remove <span class=\"token string\">\"&amp;\"</span> <span class=\"token keyword\">if</span> you don't want startup <span class=\"token keyword\">as</span> a background process<span class=\"token punctuation\">.</span>\n    su <span class=\"token operator\">-</span> $<span class=\"token constant\">ORA_OWNER</span> <span class=\"token operator\">-</span>c <span class=\"token string\">\"$ORA_HOME/bin/dbstart $ORA_HOME\"</span> <span class=\"token operator\">&amp;</span>\n    touch <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lock<span class=\"token operator\">/</span>subsys<span class=\"token operator\">/</span>dbora\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token string\">'stop'</span><span class=\"token punctuation\">)</span>\n    # Stop the Oracle databases<span class=\"token operator\">:</span>\n    # The following command assumes that the Oracle sign<span class=\"token operator\">-</span><span class=\"token keyword\">in</span>\n    # will not prompt the user <span class=\"token keyword\">for</span> any values<span class=\"token punctuation\">.</span>\n    su <span class=\"token operator\">-</span> $<span class=\"token constant\">ORA_OWNER</span> <span class=\"token operator\">-</span>c <span class=\"token string\">\"$ORA_HOME/bin/dbshut $ORA_HOME\"</span> <span class=\"token operator\">&amp;</span>\n    rm <span class=\"token operator\">-</span>f <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lock<span class=\"token operator\">/</span>subsys<span class=\"token operator\">/</span>dbora\n    <span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span>\nesac</code></pre></div>\n<br/>\n<br/>\n<p>ê¶Œí•œ ë³€ê²½ ë° Link ìƒì„±</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># chgrp dba <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>init<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>dbora\n# chmod <span class=\"token number\">750</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>init<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>dbora\n# ln <span class=\"token operator\">-</span>s <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>init<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>dbora <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>rc<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>rc0<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>K01dbora\n# ln <span class=\"token operator\">-</span>s <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>init<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>dbora <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>rc<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>rc3<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>S99dbora\n# ln <span class=\"token operator\">-</span>s <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>init<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>dbora <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>rc<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>rc5<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>S99dbora</code></pre></div>\n<br/>\n<br/>\n<p>ì´ì œ ê¸°ë³¸ì ì¸ ì„¤ì¹˜ëŠ” ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. (Reboot í•œë²ˆ í•˜êµ¬ ê³„ì† ì´ì–´ì„œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># reboot</code></pre></div>\n<br/>\n<br/>\n<p>ì´ì œ Oracleì˜ ìƒˆë¡œìš´ ìœ ì €ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"># sqlplus <span class=\"token operator\">/</span> <span class=\"token keyword\">as</span> sysdba</code></pre></div>\n<br/>\n<br/>\nLog ëª¨ë“œë¥¼ ë³€í™˜í•˜ê¸° ìœ„í•´ì„œëŠ” Shutdownì´ í•„ìš”í•©ë‹ˆë‹¤.   \n<p>ì¼ë°˜ì ìœ¼ë¡œ DBëŠ” ë‹¤ìŒê³¼ ê°™ì€ Stageë¡œ ë™ì‘ì„ í•˜ëŠ”ë° Log Mode ë³€í™˜ì€ Mount ë‹¨ê³„ì—ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤.   </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/161213428-c0783fac-2aba-4951-9d35-02870df3a63f.png\" alt=\"image\"></p>\n<br/>\n<br/>\n<p>ë•Œë¬¸ì— í˜„ì¬ ì‹¤í–‰ DBë¥¼ shutdown -> Mount Mode ë³€í™˜ -> Archivelog Mode ë³€í™˜ì„ ì§„í–‰í•˜ë©´ ë©ë‹ˆë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">SQL</span><span class=\"token operator\">></span> shutdown immediate\n<span class=\"token punctuation\">;</span>\n\nDatabase closed<span class=\"token punctuation\">.</span>\nDatabase dismounted<span class=\"token punctuation\">.</span>\n\n\n<span class=\"token constant\">ORACLE</span> instance shut down<span class=\"token punctuation\">.</span>\n<span class=\"token constant\">SQL</span>\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span>\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span>\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span> startup mount\n<span class=\"token constant\">ORACLE</span> instance started<span class=\"token punctuation\">.</span>\n\nTotal System Global Area <span class=\"token number\">2432695144</span> bytes\nFixed Size                  <span class=\"token number\">8899432</span> bytes\nVariable Size             <span class=\"token number\">536870912</span> bytes\nDatabase Buffers         <span class=\"token number\">1879048192</span> bytes\nRedo Buffers                <span class=\"token number\">7876608</span> bytes\nDatabase mounted<span class=\"token punctuation\">.</span>\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span>\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span>\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span> alter database archivelog<span class=\"token punctuation\">;</span>\n\nDatabase altered<span class=\"token punctuation\">.</span>\n\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span>\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span> alter database open<span class=\"token punctuation\">;</span>\n\nDatabase altered<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<br/>\n<p>ì•„ì¹´ì´ë¸Œ ë¡œê·¸ ëª¨ë“œê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë³´ë©´</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">SQL</span><span class=\"token operator\">></span> archive log list<span class=\"token punctuation\">;</span>\nDatabase log mode              Archive Mode\nAutomatic archival             Enabled\nArchive destination            <span class=\"token operator\">/</span>u01<span class=\"token operator\">/</span>app<span class=\"token operator\">/</span>oracle<span class=\"token operator\">/</span>product<span class=\"token operator\">/</span><span class=\"token number\">19.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span>dbhome_1<span class=\"token operator\">/</span>dbs<span class=\"token operator\">/</span>arch\nOldest online log sequence     <span class=\"token number\">4</span>\nNext log sequence to archive   <span class=\"token number\">6</span>\nCurrent log sequence           <span class=\"token number\">6</span>\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span></code></pre></div>\n<br/>\n<br/>\n<p>ì´ì œ ì‚¬ìš©í•  ìœ ì €ì™€ ê¶Œí•œì„ ì„¤ì •í•˜ê³ , Logminerì— í•„ìš”í•œ supplementalì„ ì„¤ì •í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">SQL</span><span class=\"token operator\">></span>\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span> create user wonseok identified by test<span class=\"token punctuation\">;</span>\n\nUser created<span class=\"token punctuation\">.</span>\n\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span> grant connect<span class=\"token punctuation\">,</span> resource<span class=\"token punctuation\">,</span> dba to wonseok<span class=\"token punctuation\">;</span>\n\nGrant succeeded<span class=\"token punctuation\">.</span>\n\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span> alter database add supplemental log data<span class=\"token punctuation\">;</span>\n\nDatabase altered<span class=\"token punctuation\">.</span>\n\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span> <span class=\"token constant\">ALTER</span> <span class=\"token constant\">DATABASE</span> <span class=\"token constant\">ADD</span> <span class=\"token constant\">SUPPLEMENTAL</span> <span class=\"token constant\">LOG</span> <span class=\"token constant\">DATA</span> <span class=\"token punctuation\">(</span>all<span class=\"token punctuation\">)</span> <span class=\"token constant\">COLUMNS</span><span class=\"token punctuation\">;</span>   <span class=\"token operator\">&lt;&lt;</span> <span class=\"token operator\">--</span> Supplementalì´ ê°ì§€í•˜ëŠ” DataBase or Table ì„¤ì •<span class=\"token punctuation\">.</span>\n\nDatabase altered<span class=\"token punctuation\">.</span>\n\n<span class=\"token constant\">SQL</span><span class=\"token operator\">></span> <span class=\"token constant\">GRANT</span> <span class=\"token constant\">EXECUTE_CATALOG_ROLE</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">CONNECT</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">CREATE</span> <span class=\"token constant\">SESSION</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">SELECT</span> <span class=\"token constant\">ON</span> <span class=\"token constant\">SYS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">V_</span>$<span class=\"token constant\">DATABASE</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">SELECT</span> <span class=\"token constant\">ON</span> <span class=\"token constant\">SYS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">V_</span>$<span class=\"token constant\">ARCHIVED_LOG</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">SELECT</span> <span class=\"token constant\">ON</span> <span class=\"token constant\">SYS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">V_</span>$<span class=\"token constant\">LOGMNR_CONTENTS</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">SELECT</span> <span class=\"token constant\">ON</span> <span class=\"token constant\">SYS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">V_</span>$<span class=\"token constant\">LOGMNR_LOGS</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">EXECUTE</span> <span class=\"token constant\">ON</span> <span class=\"token constant\">DBMS_LOGMNR</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">EXECUTE</span> <span class=\"token constant\">ON</span> <span class=\"token constant\">DBMS_LOGMNR_D</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">SELECT</span> <span class=\"token constant\">ANY</span> <span class=\"token constant\">TRANSACTION</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">SELECT</span> <span class=\"token constant\">ANY</span> <span class=\"token constant\">TABLE</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\n<span class=\"token constant\">GRANT</span> <span class=\"token constant\">LOGMINING</span> <span class=\"token constant\">TO</span> wonseok<span class=\"token punctuation\">;</span>\nGrant succeeded<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<br/>\n<p>ê¶Œí•œê¹Œì§€ ì •ìƒì ìœ¼ë¡œ ì„ ì–¸í–ˆìœ¼ë©´ ì´ì œ Userë¥¼ ë°”ê¿”ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">SQL</span><span class=\"token operator\">></span> conn wonseok<span class=\"token punctuation\">;</span>\nEnter password<span class=\"token operator\">:</span>\nConnected<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<br/>\n<p>ê°ì TABLEì„ ìƒì„±í•˜ì‹œë©´ ë©ë‹ˆë‹¤. ì €ëŠ” ê°„ë‹¨í•˜ê²Œ í…Œì´ë¸”ì„ í•˜ë‚˜ ë§Œë“¤ê³  ë°ì´í„°ë¥¼ ë„£ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">CREATE</span> <span class=\"token constant\">TABLE</span> <span class=\"token function\">regions</span>\n  <span class=\"token punctuation\">(</span>\n    region_id <span class=\"token constant\">NUMBER</span> <span class=\"token constant\">GENERATED</span> <span class=\"token constant\">BY</span> <span class=\"token constant\">DEFAULT</span> <span class=\"token constant\">AS</span> <span class=\"token constant\">IDENTITY</span>\n    <span class=\"token constant\">START</span> <span class=\"token constant\">WITH</span> <span class=\"token number\">5</span> <span class=\"token constant\">PRIMARY</span> <span class=\"token constant\">KEY</span><span class=\"token punctuation\">,</span>\n    region_name <span class=\"token constant\">VARCHAR2</span><span class=\"token punctuation\">(</span> <span class=\"token number\">50</span> <span class=\"token punctuation\">)</span> <span class=\"token constant\">NOT</span> <span class=\"token constant\">NULL</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token constant\">REM</span> <span class=\"token constant\">INSERTING</span> into <span class=\"token constant\">REGIONS</span>\n<span class=\"token constant\">SET</span> <span class=\"token constant\">DEFINE</span> <span class=\"token constant\">OFF</span><span class=\"token punctuation\">;</span>\nInsert into <span class=\"token constant\">REGIONS</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">REGION_ID</span><span class=\"token punctuation\">,</span><span class=\"token constant\">REGION_NAME</span><span class=\"token punctuation\">)</span> <span class=\"token function\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Europe'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nInsert into <span class=\"token constant\">REGIONS</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">REGION_ID</span><span class=\"token punctuation\">,</span><span class=\"token constant\">REGION_NAME</span><span class=\"token punctuation\">)</span> <span class=\"token function\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Americas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nInsert into <span class=\"token constant\">REGIONS</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">REGION_ID</span><span class=\"token punctuation\">,</span><span class=\"token constant\">REGION_NAME</span><span class=\"token punctuation\">)</span> <span class=\"token function\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Asia'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nInsert into <span class=\"token constant\">REGIONS</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">REGION_ID</span><span class=\"token punctuation\">,</span><span class=\"token constant\">REGION_NAME</span><span class=\"token punctuation\">)</span> <span class=\"token function\">values</span> <span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Middle East and Africa'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<br/>\n<p>ì ì´ì œ ë¡œê·¸ê°€ ìŒ“ì˜€ëŠ”ì§€ í™•ì¸ì„ í•´ë³´ë©´ ARCH íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">[</span>root@oracle19c<span class=\"token operator\">-</span>wonseok<span class=\"token operator\">-</span><span class=\"token number\">01</span> <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># ls <span class=\"token operator\">-</span>alrt <span class=\"token operator\">/</span>u01<span class=\"token operator\">/</span>app<span class=\"token operator\">/</span>oracle<span class=\"token operator\">/</span>product<span class=\"token operator\">/</span><span class=\"token number\">19.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span>dbhome_1<span class=\"token operator\">/</span>dbs<span class=\"token operator\">/</span>\ntotal <span class=\"token number\">24</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall <span class=\"token number\">3079</span> May <span class=\"token number\">14</span>  <span class=\"token number\">2015</span> init<span class=\"token punctuation\">.</span>ora\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall   <span class=\"token number\">24</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">23</span> lkWONSEOKDB\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall   <span class=\"token number\">24</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">24</span> lkWONSEOKD\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall <span class=\"token number\">2048</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">25</span> orapwwonseokdb\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall  <span class=\"token number\">972</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">07</span><span class=\"token operator\">:</span><span class=\"token number\">13</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall  <span class=\"token number\">156</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">07</span><span class=\"token operator\">:</span><span class=\"token number\">16</span> <span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall <span class=\"token number\">3584</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">07</span><span class=\"token operator\">:</span><span class=\"token number\">17</span> spfilewonseokdb<span class=\"token punctuation\">.</span>ora\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>rw<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall <span class=\"token number\">1544</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">07</span><span class=\"token operator\">:</span><span class=\"token number\">17</span> hc_wonseokdb<span class=\"token punctuation\">.</span>dat</code></pre></div>\n<br/>\n<br/>\n<p>ì™œëƒí•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ LogMinerëŠ” ë¦¬ë‘ë¡œê·¸ê°€ ê°€ë“ì°¨ì§€ ì•ŠëŠ” ì´ìƒì€ ì•„ì¹´ì´ë¸Œ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<br>\nê·¸ëŸ¼ ì•„ì¹´ì´ë¸Œ ë¡œê·¸ë¥¼ ìŒ“ê¸° ìœ„í•´ì„œëŠ” ì•„ì¹´ì´ë¸Œ ë¡œê·¸ë¡œ ìŒ“ë„ë¡ ë¡œê·¸ ìŠ¤ìœ„ì¹­ì„ ì‹œì¼œì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">SQL</span><span class=\"token operator\">></span> <span class=\"token constant\">ALTER</span> <span class=\"token constant\">SYSTEM</span> <span class=\"token constant\">SWITCH</span> <span class=\"token constant\">LOGFILE</span><span class=\"token punctuation\">;</span>\n\nSystem altered<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<br/>\n<p>ì´ì œ ë¡œê·¸íŒŒì¼ì˜ ê²½ë¡œë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ë©´, ì •ìƒì ìœ¼ë¡œ ARCHë¡œê·¸ê°€ ìŒ“ì—¬ ìˆëŠ”ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">[</span>root@oracle19c<span class=\"token operator\">-</span>wonseok<span class=\"token operator\">-</span><span class=\"token number\">01</span> <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># ls <span class=\"token operator\">-</span>alrt <span class=\"token operator\">/</span>u01<span class=\"token operator\">/</span>app<span class=\"token operator\">/</span>oracle<span class=\"token operator\">/</span>product<span class=\"token operator\">/</span><span class=\"token number\">19.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span>dbhome_1<span class=\"token operator\">/</span>dbs<span class=\"token operator\">/</span>\ntotal <span class=\"token number\">10608</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall     <span class=\"token number\">3079</span> May <span class=\"token number\">14</span>  <span class=\"token number\">2015</span> init<span class=\"token punctuation\">.</span>ora\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall       <span class=\"token number\">24</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">23</span> lkWONSEOKDB\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall       <span class=\"token number\">24</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">24</span> lkWONSEOKD\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall     <span class=\"token number\">2048</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">25</span> orapwwonseokdb\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall      <span class=\"token number\">972</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">07</span><span class=\"token operator\">:</span><span class=\"token number\">13</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall     <span class=\"token number\">3584</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">07</span><span class=\"token operator\">:</span><span class=\"token number\">17</span> spfilewonseokdb<span class=\"token punctuation\">.</span>ora\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>rw<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall     <span class=\"token number\">1544</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">07</span><span class=\"token operator\">:</span><span class=\"token number\">17</span> hc_wonseokdb<span class=\"token punctuation\">.</span>dat\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall      <span class=\"token number\">200</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">07</span><span class=\"token operator\">:</span><span class=\"token number\">29</span> <span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> oracle oinstall <span class=\"token number\">10835456</span> Apr  <span class=\"token number\">1</span> <span class=\"token number\">07</span><span class=\"token operator\">:</span><span class=\"token number\">29</span> arch1_6_1100845537<span class=\"token punctuation\">.</span>dbf <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span></code></pre></div>\n<h1 id=\"ì‘ì„±ì¤‘\" style=\"position:relative;\"><a href=\"#%EC%9E%91%EC%84%B1%EC%A4%91\" aria-label=\"ì‘ì„±ì¤‘ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‘ì„±ì¤‘â€¦</h1>\n<hr>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-oracle-install\">âœ” ORACLE Install</a></li>\n<li><a href=\"#-database-%EC%83%9D%EC%84%B1\">âœŒ DataBase ìƒì„±</a></li>\n</ul>\n</div>","frontmatter":{"date":"April 01, 2022","title":"[AZURE] Oracle 19c ì„¤ì¹˜, LogMiner, CDC ì„¤ì •í•˜ê¸° From Azure VM","categories":"CLOUD","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/azure-oracle19/"}},"prev":{"id":"8f39d1ff-cc4e-5501-8263-c1575ea2622e","html":"<h2 id=\"-about-this-post\" style=\"position:relative;\"><a href=\"#-about-this-post\" aria-label=\" about this post permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ˜ About This Post</h2>\n<p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Pythonì„ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ë¬¸ìì—´ì„ ë§Œë“œëŠ” Producerë¥¼ ìƒì„±í•œ ë’¤ì—<br>\nKafka-Connectorë¥¼ ì´ìš©í•´ì„œ ê° Cloudì˜ Steraming Tools ë“¤ì„ Endpoint(Broker)ë¡œ Messageë¥¼ ìŒ“ì•„ë³´ê² ìŠµë‹ˆë‹¤.  </p>\n<hr>\n<h2 id=\"-kafka-producer-application\" style=\"position:relative;\"><a href=\"#-kafka-producer-application\" aria-label=\" kafka producer application permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” Kafka Producer Application</h2>\n<p>KafkaëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Clinet APIë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤,<br>\në•Œë¬¸ì— ì´ë¥¼ ì‚¬ìš©í•´ì„œ Producer, Consumerì˜ Application ê°œë°œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>\nthird party Clinetë¥¼ ì‚¬ìš© í•  ìˆ˜ ìˆëŠ”ë° java, python, go ë“±ì´ ìˆìŠµë‹ˆë‹¤.<br>\nê°€ì¥ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” python-kafka Clinetê°€ ìˆì§€ë§Œ ì´ë²ˆì—ëŠ” ìƒˆë¡œìš´ ì‹¤ìŠµ ê²¸<br>\nìš”ì¦˜ ìƒˆë¡­ê²Œ ë– ì˜¤ë¥´ê³  ìˆëŠ” python-confluent-kafkaë¥¼ ì‚¬ìš©í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.  </p>\n<br/>\n<ul>\n<li>\n<p>Install Confluent-kafka (Conda í™˜ê²½ì—ì„œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ conda install <span class=\"token operator\">-</span>c conda<span class=\"token operator\">-</span>forge python<span class=\"token operator\">-</span>confluent<span class=\"token operator\">-</span>kafka</code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-azure-eventhub-connection\" style=\"position:relative;\"><a href=\"#-azure-eventhub-connection\" aria-label=\" azure eventhub connection permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ˜ Azure EventHub Connection</h2>\n<p>ìš°ì„  ì²«ë²ˆì§¸ ìˆœì„œë¡œëŠ” ê°€ì¥ Kafka Connectorì— ëŒ€í•œ í˜¸í™˜ì´ ì˜ ìš´ì˜ë˜ê³  ìˆëŠ” Azure EventHub ë¶€í„° ì§„í–‰í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.<br>\nAzureëŠ” ì—„ì²­ ê°„ë‹¨í•˜ê²Œ Producerë¥¼ ë§Œë“¤ ë•Œ Configì— bootstrap ìª½ì˜ ì„¤ì •ë§Œ EventHubì˜ Endpoint ìª½ìœ¼ë¡œë§Œ ì„¤ì •í•´ì£¼ë©´ ë©ë‹ˆë‹¤. <a href=\"https://github.com/Azure/azure-event-hubs-for-kafka/tree/master/quickstart/python\">ì°¸ê³  Github</a></p>\n<br/>\n<ul>\n<li>\n<p>Create Azure EventHub Name SPACE &#x26; Endpoint </p>\n<p><a href=\"https://docs.microsoft.com/ko-kr/azure/event-hubs/event-hubs-create\">ê³µì‹ë¬¸ì„œ</a></p>\n<br/>\n</li>\n<li>\n<p>ìœ„ì˜ ê³µì‹ë¬¸ì„œ ìˆœì„œëŒ€ë¡œ NameSpaceë¥¼ ì •ìƒì ìœ¼ë¡œ ìƒì„±í–ˆë‹¤ë©´, FQDN Endpointë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/167967135-ca1c2c53-68ad-435f-9179-a7b423af0c82.png\" alt=\"image\">\n[Event Hub Namespace] - [ê³µìœ  ì—‘ì„¸ìŠ¤ ì •ì±…] - [ì¶”ê°€]</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´í›„ì— ìƒì„±ëœ SAS Keyì˜ ì—°ê²° ë¬¸ìì—´ì„ í™•ì¸ ë° ë³µì‚¬í•´ë‘ë©´ ë©ë‹ˆë‹¤.  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/167967340-1614f477-1bee-4a9f-86ae-ecf7f9e1a4b8.png\" alt=\"image\">\n[Kafka Connectorì—ì„œ ì—°ê²°ë  ë•Œ saal Passwoed Endpointë¡œ ì‚¬ìš© ë©ë‹ˆë‹¤.]</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"producer-application-code-test\" style=\"position:relative;\"><a href=\"#producer-application-code-test\" aria-label=\"producer application code test permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Producer Application Code Test</h3>\n<ul>\n<li>\n<p>Used Producer Source CODE [Message Publish]</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">from confluent_kafka <span class=\"token keyword\">import</span> Producer\n<span class=\"token keyword\">import</span> sys\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token operator\">:</span>\n  <span class=\"token keyword\">if</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token number\">2</span><span class=\"token operator\">:</span>\n      sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Usage: %s &lt;topic>\\n'</span> <span class=\"token operator\">%</span> sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      sys<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n  topic <span class=\"token operator\">=</span> sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n  conf <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'bootstrap.servers'</span><span class=\"token operator\">:</span> <span class=\"token string\">'&lt;EventHub Namespace Name>.servicebus.windows.net:9093'</span><span class=\"token punctuation\">,</span> # ì—¬ê¸°ì— ìƒì„±í•œ EventHubì˜ NameSpaceìœ¼ë¡œ ë³€í™˜í•˜ì‹œë©´ ë©ë‹ˆë‹¤<span class=\"token punctuation\">.</span>\n      <span class=\"token string\">'security.protocol'</span><span class=\"token operator\">:</span> <span class=\"token string\">'SASL_SSL'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'sasl.mechanism'</span><span class=\"token operator\">:</span> <span class=\"token string\">'PLAIN'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'sasl.username'</span><span class=\"token operator\">:</span> <span class=\"token string\">'$ConnectionString'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'sasl.password'</span><span class=\"token operator\">:</span> <span class=\"token string\">'&lt;SAS Connection Endpoint URL>'</span><span class=\"token punctuation\">,</span> # ì—¬ê¸°ì— ë°”ë¡œ ìœ„ì—ì„œ ë°œê¸‰ë°›ì€ <span class=\"token constant\">SAS</span> EndPointë¥¼ ì…ë ¥í•©ë‹ˆë‹¤<span class=\"token punctuation\">.</span>\n      <span class=\"token string\">'client.id'</span><span class=\"token operator\">:</span> <span class=\"token string\">'nasa1515-producer'</span>\n  <span class=\"token punctuation\">}</span>\n  # Create Producer instance\n  p <span class=\"token operator\">=</span> <span class=\"token function\">Producer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">**</span>conf<span class=\"token punctuation\">)</span>\n\n\n  # fail check def\n  def <span class=\"token function\">delivery_callback</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">if</span> err<span class=\"token operator\">:</span>\n          sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%% Message failed delivery: %s\\n'</span> <span class=\"token operator\">%</span> err<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">else</span><span class=\"token operator\">:</span>\n          sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%% Message delivered to %s [%d] @ %o\\n'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span><span class=\"token function\">topic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">.</span><span class=\"token function\">partition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">.</span><span class=\"token function\">offset</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n  # Write <span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">100</span> to topic\n  <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>   # ì €ëŠ” Rangeë¡œ <span class=\"token number\">0</span><span class=\"token operator\">~</span><span class=\"token number\">1000</span> ê¹Œì§€ì˜ ìˆ«ìë¡œ ë¬¸ìì—´ì„ ìƒì„±í•´ì„œ ê²Œì‹œ í–ˆìŠµë‹ˆë‹¤<span class=\"token punctuation\">.</span>\n      <span class=\"token keyword\">try</span><span class=\"token operator\">:</span>\n          p<span class=\"token punctuation\">.</span><span class=\"token function\">produce</span><span class=\"token punctuation\">(</span>topic<span class=\"token punctuation\">,</span> <span class=\"token string\">'Kafka_data_nasa1515-'</span> <span class=\"token operator\">+</span> <span class=\"token function\">str</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> callback<span class=\"token operator\">=</span>delivery_callback<span class=\"token punctuation\">)</span>\n      except BufferError <span class=\"token keyword\">as</span> e<span class=\"token operator\">:</span>\n          sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%% Local producer queue is full (%d messages awaiting delivery): try again\\n'</span> <span class=\"token operator\">%</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      p<span class=\"token punctuation\">.</span><span class=\"token function\">poll</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n  # Wait until all messages have been delivered\n  sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%% Waiting for %d deliveries\\n'</span> <span class=\"token operator\">%</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  p<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Message Publish Code Test</p>\n<p>ìœ„ Python Scriptì˜ ì‘ë™ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ python3 producer<span class=\"token punctuation\">.</span>py <span class=\"token operator\">&lt;</span>Topic Name<span class=\"token operator\">></span>\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\npython3 <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>producer<span class=\"token operator\">/</span>Azure<span class=\"token operator\">/</span>producer<span class=\"token punctuation\">.</span>py nasatopic <span class=\"token operator\">-</span><span class=\"token operator\">></span> ìƒì„± í•  Topic Name</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Code Result [Success]</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">(</span>kafka<span class=\"token punctuation\">)</span> nasa1515@<span class=\"token constant\">L</span><span class=\"token operator\">-</span>wslee<span class=\"token operator\">:</span><span class=\"token operator\">~</span>$ python3 <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>producer<span class=\"token operator\">/</span>Azure<span class=\"token operator\">/</span>producer<span class=\"token punctuation\">.</span>py nasatopic\n<span class=\"token operator\">%</span> Waiting <span class=\"token keyword\">for</span> <span class=\"token number\">1000</span> deliveries\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">0</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">1</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">2</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">3</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">4</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">5</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">6</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">7</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">10</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">11</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">12</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">13</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">14</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">15</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">16</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">17</span>\n<span class=\"token operator\">%</span> Message delivered to nasatopic <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> @ <span class=\"token number\">20</span>\n<span class=\"token operator\">...</span><span class=\"token punctuation\">.</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>EventHub Topic[Enterty] Check</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/167968241-150c6c2c-c781-4742-9185-d2f8b399dd29.png\" alt=\"image\">\n[ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ ëª…ì‹œí•œ Topic Nameìœ¼ë¡œ ìë™ ìƒì„±ë©ë‹ˆë‹¤.]</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>EventHub Traffic Log Check</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/167968491-e7a417c0-aa18-4095-838b-a8d24b315b48.png\" alt=\"image\">\n[Source Code ë™ì‘ ì‹œì ë¶€í„° EventHubì— Trafficì´ ë°œìƒí•˜ê³ , Messageë„ ì •í™•íˆ 1Kê°€ ìŒ“ì—¬ìˆìŠµë‹ˆë‹¤.]</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"consumer-application-code-test\" style=\"position:relative;\"><a href=\"#consumer-application-code-test\" aria-label=\"consumer application code test permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Consumer Application CODE Test</h3>\n<br/>\n<ul>\n<li>\n<p>Used Consumer Source CODE [Message Consume]</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">from confluent_kafka <span class=\"token keyword\">import</span> Consumer<span class=\"token punctuation\">,</span> KafkaException<span class=\"token punctuation\">,</span> KafkaError\n<span class=\"token keyword\">import</span> sys\n<span class=\"token keyword\">import</span> getopt\n<span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> logging\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pandas\nfrom pprint <span class=\"token keyword\">import</span> pformat\n\n\ndef <span class=\"token function\">stats_cb</span><span class=\"token punctuation\">(</span>stats_json_str<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n  stats_json <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span><span class=\"token function\">loads</span><span class=\"token punctuation\">(</span>stats_json_str<span class=\"token punctuation\">)</span>\n  <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\nKAFKA Stats: {}\\n'</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token function\">pformat</span><span class=\"token punctuation\">(</span>stats_json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n\ndef <span class=\"token function\">print_usage_and_exit</span><span class=\"token punctuation\">(</span>program_name<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n  sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Usage: %s [options..] &lt;consumer-group> &lt;topic1> &lt;topic2> ..\\n'</span> <span class=\"token operator\">%</span> program_name<span class=\"token punctuation\">)</span>\n  options <span class=\"token operator\">=</span> <span class=\"token string\">''</span>'\nOptions<span class=\"token operator\">:</span>\n<span class=\"token operator\">-</span><span class=\"token constant\">T</span> <span class=\"token operator\">&lt;</span>intvl<span class=\"token operator\">></span>   Enable client statistics at specified <span class=\"token function\">interval</span> <span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span>\n<span class=\"token string\">''</span>'\n  sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span>\n  sys<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token operator\">:</span>\n  optlist<span class=\"token punctuation\">,</span> argv <span class=\"token operator\">=</span> getopt<span class=\"token punctuation\">.</span><span class=\"token function\">getopt</span><span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'T:'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>argv<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span><span class=\"token operator\">:</span>\n      <span class=\"token function\">print_usage_and_exit</span><span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>argv<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  group <span class=\"token operator\">=</span> argv<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n  topics <span class=\"token operator\">=</span> argv<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token punctuation\">]</span>\n  conf <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'bootstrap.servers'</span><span class=\"token operator\">:</span> <span class=\"token string\">'&lt;Your NameSpace Name>.servicebus.windows.net:9093'</span><span class=\"token punctuation\">,</span> # NameSpace Name ì…ë ¥í•´ì¤ë‹ˆë‹¤<span class=\"token punctuation\">.</span>\n      <span class=\"token string\">'security.protocol'</span><span class=\"token operator\">:</span> <span class=\"token string\">'SASL_SSL'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'sasl.mechanism'</span><span class=\"token operator\">:</span> <span class=\"token string\">'PLAIN'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'sasl.username'</span><span class=\"token operator\">:</span> <span class=\"token string\">'$ConnectionString'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'sasl.password'</span><span class=\"token operator\">:</span> <span class=\"token string\">'&lt;SAS Token Endpoint URL>'</span><span class=\"token punctuation\">,</span> # Endpoint Url ì…ë ¥\n      <span class=\"token string\">'group.id'</span><span class=\"token operator\">:</span> group<span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'client.id'</span><span class=\"token operator\">:</span> <span class=\"token string\">'&lt;Cumstom>'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'request.timeout.ms'</span><span class=\"token operator\">:</span> <span class=\"token number\">60000</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'session.timeout.ms'</span><span class=\"token operator\">:</span> <span class=\"token number\">60000</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'default.topic.config'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'auto.offset.reset'</span><span class=\"token operator\">:</span> <span class=\"token string\">'smallest'</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  # Check to see <span class=\"token keyword\">if</span> <span class=\"token operator\">-</span><span class=\"token constant\">T</span> option exists\n  <span class=\"token keyword\">for</span> opt <span class=\"token keyword\">in</span> optlist<span class=\"token operator\">:</span>\n      <span class=\"token keyword\">if</span> opt<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token string\">'-T'</span><span class=\"token operator\">:</span>\n          <span class=\"token keyword\">continue</span>\n      <span class=\"token keyword\">try</span><span class=\"token operator\">:</span>\n          intval <span class=\"token operator\">=</span> <span class=\"token function\">int</span><span class=\"token punctuation\">(</span>opt<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      except ValueError<span class=\"token operator\">:</span>\n          sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Invalid option value for -T: %s\\n\"</span> <span class=\"token operator\">%</span> opt<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n          sys<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token keyword\">if</span> intval <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token operator\">:</span>\n          sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-T option value needs to be larger than zero: %s\\n\"</span> <span class=\"token operator\">%</span> opt<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n          sys<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n      conf<span class=\"token punctuation\">[</span><span class=\"token string\">'stats_cb'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> stats_cb\n      conf<span class=\"token punctuation\">[</span><span class=\"token string\">'statistics.interval.ms'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">int</span><span class=\"token punctuation\">(</span>opt<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  # Create logger <span class=\"token keyword\">for</span> <span class=\"token function\">consumer</span> <span class=\"token punctuation\">(</span>logs will be emitted when <span class=\"token function\">poll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> is called<span class=\"token punctuation\">)</span>\n  logger <span class=\"token operator\">=</span> logging<span class=\"token punctuation\">.</span><span class=\"token function\">getLogger</span><span class=\"token punctuation\">(</span><span class=\"token string\">'consumer'</span><span class=\"token punctuation\">)</span>\n  logger<span class=\"token punctuation\">.</span><span class=\"token function\">setLevel</span><span class=\"token punctuation\">(</span>logging<span class=\"token punctuation\">.</span><span class=\"token constant\">DEBUG</span><span class=\"token punctuation\">)</span>\n  handler <span class=\"token operator\">=</span> logging<span class=\"token punctuation\">.</span><span class=\"token function\">StreamHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  handler<span class=\"token punctuation\">.</span><span class=\"token function\">setFormatter</span><span class=\"token punctuation\">(</span>logging<span class=\"token punctuation\">.</span><span class=\"token function\">Formatter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%(asctime)-15s %(levelname)-8s %(message)s'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  logger<span class=\"token punctuation\">.</span><span class=\"token function\">addHandler</span><span class=\"token punctuation\">(</span>handler<span class=\"token punctuation\">)</span>\n\n  # Create Consumer instance\n  # Hint<span class=\"token operator\">:</span> <span class=\"token keyword\">try</span> debug<span class=\"token operator\">=</span><span class=\"token string\">'fetch'</span> to generate some log messages\n  c <span class=\"token operator\">=</span> <span class=\"token function\">Consumer</span><span class=\"token punctuation\">(</span>conf<span class=\"token punctuation\">,</span> logger<span class=\"token operator\">=</span>logger<span class=\"token punctuation\">)</span>\n\n  def <span class=\"token function\">print_assignment</span><span class=\"token punctuation\">(</span>consumer<span class=\"token punctuation\">,</span> partitions<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n      <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Assignment:'</span><span class=\"token punctuation\">,</span> partitions<span class=\"token punctuation\">)</span>\n\n  # Subscribe to topics\n  c<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>topics<span class=\"token punctuation\">,</span> on_assign<span class=\"token operator\">=</span>print_assignment<span class=\"token punctuation\">)</span>\n\n  # Read messages from Kafka<span class=\"token punctuation\">,</span> print to stdout\n  <span class=\"token keyword\">try</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">while</span> True<span class=\"token operator\">:</span>\n          msg <span class=\"token operator\">=</span> c<span class=\"token punctuation\">.</span><span class=\"token function\">poll</span><span class=\"token punctuation\">(</span>timeout<span class=\"token operator\">=</span><span class=\"token number\">100.0</span><span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">if</span> msg is None<span class=\"token operator\">:</span>\n              <span class=\"token keyword\">continue</span>\n          <span class=\"token keyword\">if</span> msg<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n              # Error or event\n              <span class=\"token keyword\">if</span> msg<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">code</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> KafkaError<span class=\"token punctuation\">.</span>_PARTITION_EOF<span class=\"token operator\">:</span>\n                  # End <span class=\"token keyword\">of</span> partition event\n                  sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%% %s [%d] reached end at offset %d\\n'</span> <span class=\"token operator\">%</span>\n                                   <span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span><span class=\"token function\">topic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">.</span><span class=\"token function\">partition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">.</span><span class=\"token function\">offset</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n              <span class=\"token keyword\">else</span><span class=\"token operator\">:</span>\n                  # Error\n                  raise <span class=\"token function\">KafkaException</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          <span class=\"token keyword\">else</span><span class=\"token operator\">:</span>\n              # Proper message\n              <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n  except KeyboardInterrupt<span class=\"token operator\">:</span>\n      sys<span class=\"token punctuation\">.</span>stderr<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token string\">'%% Aborted by user\\n'</span><span class=\"token punctuation\">)</span>\n\n  finally<span class=\"token operator\">:</span>\n      # Close down consumer to commit final offsets<span class=\"token punctuation\">.</span>\n      c<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Message Consumer Code Test</p>\n<p>ìœ„ Python Scriptì˜ ì‘ë™ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">$ python3 producer<span class=\"token punctuation\">.</span>py <span class=\"token operator\">&lt;</span>Comsumer_GROUP_ID<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token constant\">TOPIC_NAME_1</span><span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span><span class=\"token constant\">TOPIC_NAME_2</span><span class=\"token operator\">></span> <span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span>\npython3 <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>nasa1515<span class=\"token operator\">/</span>docker<span class=\"token operator\">/</span>producer<span class=\"token operator\">/</span>Azure<span class=\"token operator\">/</span>Consum<span class=\"token punctuation\">.</span>py $Default nasatopic nasatopic</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Code Result [Success]</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token number\">2022</span><span class=\"token operator\">-</span><span class=\"token number\">05</span><span class=\"token operator\">-</span><span class=\"token number\">12</span> <span class=\"token number\">10</span><span class=\"token operator\">:</span><span class=\"token number\">11</span><span class=\"token operator\">:</span><span class=\"token number\">59</span><span class=\"token punctuation\">,</span><span class=\"token number\">390</span> <span class=\"token constant\">WARNING</span>  <span class=\"token constant\">CONFWARN</span> <span class=\"token punctuation\">[</span>nasa1515<span class=\"token operator\">-</span>consumer#consumer<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>thrd<span class=\"token operator\">:</span>app<span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> Configuration property request<span class=\"token punctuation\">.</span>timeout<span class=\"token punctuation\">.</span>ms is a producer property and will be ignored by <span class=\"token keyword\">this</span> consumer instance\nAssignment<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>TopicPartition<span class=\"token punctuation\">{</span>topic<span class=\"token operator\">=</span>nasatopic<span class=\"token punctuation\">,</span>partition<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>offset<span class=\"token operator\">=</span><span class=\"token operator\">-</span><span class=\"token number\">1001</span><span class=\"token punctuation\">,</span>error<span class=\"token operator\">=</span>None<span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-0'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-1'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-2'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-3'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-4'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-5'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-6'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-7'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-8'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-9'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-10'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-11'</span>\nb<span class=\"token string\">'Kafka_data_nasa1515-12'</span>\n<span class=\"token operator\">...</span>\n<span class=\"token operator\">...</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>EventHub Outbound Traffic Check</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/167972747-18419a68-3a28-42c5-a737-5f52e447a97d.png\" alt=\"image\">\n[Consumer Source Code ë™ì‘ ì‹œì ë¶€í„° EventHubì— OutBound Trafficì´ ë°œìƒí•˜ê³ , Oout Messageë„ ì •í™•íˆ 1Kê°€ ìŒ“ì—¬ìˆìŠµë‹ˆë‹¤.]</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-gcp-pubsub-connection\" style=\"position:relative;\"><a href=\"#-gcp-pubsub-connection\" aria-label=\" gcp pubsub connection permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ˜ GCP Pub/Sub Connection</h2>\n<h3 id=\"producer-application-code-test-1\" style=\"position:relative;\"><a href=\"#producer-application-code-test-1\" aria-label=\"producer application code test 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Producer Application Code Test</h3>\n<ul>\n<li>\n<p>Used Producer Source CODE [Message Publish]</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> json\nfrom google<span class=\"token punctuation\">.</span>auth <span class=\"token keyword\">import</span> jwt\nfrom concurrent <span class=\"token keyword\">import</span> futures\nfrom google<span class=\"token punctuation\">.</span>cloud <span class=\"token keyword\">import</span> pubsub_v1\n\nservice_account_info <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/home/nasa1515/docker/producer/GCP/data-cloocus-ffd800735dd1.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ncredentials_pub <span class=\"token operator\">=</span> <span class=\"token string\">\"https://pubsub.googleapis.com/google.pubsub.v1.Publisher\"</span>\n\ncredentials <span class=\"token operator\">=</span> jwt<span class=\"token punctuation\">.</span>Credentials<span class=\"token punctuation\">.</span><span class=\"token function\">from_service_account_info</span><span class=\"token punctuation\">(</span>\n  service_account_info<span class=\"token punctuation\">,</span> audience<span class=\"token operator\">=</span>credentials_pub\n<span class=\"token punctuation\">)</span>\n\npublisher <span class=\"token operator\">=</span> pubsub_v1<span class=\"token punctuation\">.</span><span class=\"token function\">PublisherClient</span><span class=\"token punctuation\">(</span>credentials<span class=\"token operator\">=</span>credentials<span class=\"token punctuation\">)</span>\n\n\nproject_id <span class=\"token operator\">=</span> <span class=\"token string\">\"data-cloocus\"</span>\ntopic_id <span class=\"token operator\">=</span> <span class=\"token string\">\"pubsub_nasa1515\"</span>\n\ntopic_path <span class=\"token operator\">=</span> publisher<span class=\"token punctuation\">.</span><span class=\"token function\">topic_path</span><span class=\"token punctuation\">(</span>project_id<span class=\"token punctuation\">,</span> topic_id<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> n <span class=\"token keyword\">in</span> <span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n  data_str <span class=\"token operator\">=</span> f<span class=\"token string\">\"nasa1515_Pubsub_Massage : {n}\"</span>\n  data <span class=\"token operator\">=</span> data_str<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span>\n  future <span class=\"token operator\">=</span> publisher<span class=\"token punctuation\">.</span><span class=\"token function\">publish</span><span class=\"token punctuation\">(</span>topic_path<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span>\n  <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>future<span class=\"token punctuation\">.</span><span class=\"token function\">result</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">print</span><span class=\"token punctuation\">(</span>f<span class=\"token string\">\"Published messages to {topic_path}.\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<h3 id=\"consumer-application-code-test-1\" style=\"position:relative;\"><a href=\"#consumer-application-code-test-1\" aria-label=\"consumer application code test 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Consumer Application CODE Test</h3>\n<br/>\n<ul>\n<li>\n<p>Used Consumer Source CODE [Message Consume]</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> json\nfrom google<span class=\"token punctuation\">.</span>auth <span class=\"token keyword\">import</span> jwt\nfrom google<span class=\"token punctuation\">.</span>cloud <span class=\"token keyword\">import</span> pubsub_v1\n\n\nservice_account_info <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/home/nasa1515/docker/producer/GCP/data-cloocus-ffd800735dd1.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ncredentials_sub <span class=\"token operator\">=</span> <span class=\"token string\">\"https://pubsub.googleapis.com/google.pubsub.v1.Subscriber\"</span>\n\ncredentials <span class=\"token operator\">=</span> jwt<span class=\"token punctuation\">.</span>Credentials<span class=\"token punctuation\">.</span><span class=\"token function\">from_service_account_info</span><span class=\"token punctuation\">(</span>\n  service_account_info<span class=\"token punctuation\">,</span> audience<span class=\"token operator\">=</span>credentials_sub\n<span class=\"token punctuation\">)</span>\n\nsubscriber <span class=\"token operator\">=</span> pubsub_v1<span class=\"token punctuation\">.</span><span class=\"token function\">SubscriberClient</span><span class=\"token punctuation\">(</span>credentials<span class=\"token operator\">=</span>credentials<span class=\"token punctuation\">)</span>\n\n\nproject_id <span class=\"token operator\">=</span> <span class=\"token string\">\"data-cloocus\"</span>\ntopic_id <span class=\"token operator\">=</span> <span class=\"token string\">\"pubsub_nasa1515\"</span>\nsubscription <span class=\"token operator\">=</span> <span class=\"token string\">\"pubsub_nasa1515-sub\"</span>\ntopic_name <span class=\"token operator\">=</span> f<span class=\"token string\">'projects/{project_id}/topics/{topic_id}'</span>\nsubscription_name <span class=\"token operator\">=</span> f<span class=\"token string\">'projects/{project_id}/subscriptions/{subscription}'</span>\n\n\ndef <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n  <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n  message<span class=\"token punctuation\">.</span><span class=\"token function\">ack</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">with</span> pubsub_v1<span class=\"token punctuation\">.</span><span class=\"token function\">SubscriberClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> subscriber<span class=\"token operator\">:</span>\n  <span class=\"token keyword\">try</span><span class=\"token operator\">:</span>\n      response <span class=\"token operator\">=</span> subscriber<span class=\"token punctuation\">.</span><span class=\"token function\">get_subscription</span><span class=\"token punctuation\">(</span>subscription<span class=\"token operator\">=</span>subscription_name<span class=\"token punctuation\">)</span>\n      <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n  except<span class=\"token operator\">:</span>\n      subscriber<span class=\"token punctuation\">.</span><span class=\"token function\">create_subscription</span><span class=\"token punctuation\">(</span>\n      name<span class=\"token operator\">=</span>subscription_name<span class=\"token punctuation\">,</span> topic<span class=\"token operator\">=</span>topic_name<span class=\"token punctuation\">)</span>\n      future <span class=\"token operator\">=</span> subscriber<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>subscription_name<span class=\"token punctuation\">,</span> callback<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">else</span><span class=\"token operator\">:</span>\n      future <span class=\"token operator\">=</span> subscriber<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>subscription_name<span class=\"token punctuation\">,</span> callback<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">try</span><span class=\"token operator\">:</span>\n          future<span class=\"token punctuation\">.</span><span class=\"token function\">result</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      except KeyboardInterrupt<span class=\"token operator\">:</span>\n          future<span class=\"token punctuation\">.</span><span class=\"token function\">cancel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<hr>\n<h2 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h2>\n<p>ì‚¬ì‹¤ ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œ êµ¬ì¶•í•œ Kafka Broker Clusterì˜ ëª©ì ì€<br>\nPublic Cloud ë³„ë¡œ ì¡´ì¬í•˜ëŠ” Streaming Toolsì„ í™•ì¸í•´ë³´ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.<br>\nìƒê°ë³´ë‹¤ êµ¬ì¶• í¬ìŠ¤íŠ¸ê°€ ê¸¸ì–´ì ¸ì„œ ë¶€ë“ì´í•˜ê²Œ í¬ìŠ¤íŠ¸ë¥¼ ì—¬ëŸ¬ê°œë¡œ ë‚˜ëˆ ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\në‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Ptyhonì„ ì‚¬ìš©í•´ Kafka Producer Applicationì„ ìƒì„±í•˜ê³ <br>\nEvent Messageë¥¼ Cloudë¡œ ë³´ë‚´ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.  </p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-about-this-post\">ğŸ˜ About This Post</a></li>\n<li><a href=\"#-kafka-producer-application\">âœ” Kafka Producer Application</a></li>\n<li>\n<p><a href=\"#-azure-eventhub-connection\">ğŸ˜ Azure EventHub Connection</a></p>\n<ul>\n<li><a href=\"#producer-application-code-test\">Producer Application Code Test</a></li>\n<li><a href=\"#consumer-application-code-test\">Consumer Application CODE Test</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-gcp-pubsub-connection\">ğŸ˜ GCP Pub/Sub Connection</a></p>\n<ul>\n<li><a href=\"#producer-application-code-test-1\">Producer Application Code Test</a></li>\n<li><a href=\"#consumer-application-code-test-1\">Consumer Application CODE Test</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</div>","frontmatter":{"date":"May 11, 2022","title":"[DATA] - Kafka:Confluent to Cloud With Python","categories":"DATA CLOUD","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/data-kafka-python/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/data-kafka-wsl/","nextSlug":"/azure-oracle19/","prevSlug":"/data-kafka-python/"}},"staticQueryHashes":["1073350324","2938748437"]}