{"componentChunkName":"component---src-templates-blog-template-js","path":"/linux-package/","result":{"data":{"cur":{"id":"958f5fd5-f2a2-518e-85ce-899c1a232986","html":"<p>머리말  </p>\n<p>저의 경우에는 LINUX라고는 CENTOS 와 REDHAT의 경험밖에 없다보니 데비안, 우분투, 등등의 여러 리눅스에서 사용하는 패키지 관리자에 대한 배경지식이 없어서 이 포스트 작성이 큰 도움이 되었습니다.  </p>\n<hr>\n<h2 id=\"-패키지-관리자란\" style=\"position:relative;\"><a href=\"#-%ED%8C%A8%ED%82%A4%EC%A7%80-%EA%B4%80%EB%A6%AC%EC%9E%90%EB%9E%80\" aria-label=\" 패키지 관리자란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ 패키지 관리자란?</h2>\n<p>윈도우로 서버를 운영하면 IIS의 가장 장점은 바로 웹 플랫폼 설치관리자 입니다.<br>\n그 이유중에 하나는 복잡한 설치과정을 간단하게 클릭 몇번만으로 설치 및 설정까지 자동으로 해주기 때문에 편리하다고 하였는데<br>\n사실 리눅스에도 이와 비슷한 기능을 가지고 있는 패키지 저장소가 있습니디.  </p>\n<p>리눅스에서의 패키지 관리 시스템은 터미널 명령어로 진행해야 하기 때문에 GUI 방식인<br>\n웹 플랫폼 설치관리자보다 불편했고 처음 사용하는 사용자 입장에서 불편하고 숙달하기 어려웠습니다.  </p>\n<p>대신 장점이라면, 웹 플랫폼 설치 관리자는 IIS 및 서버 구축에만 카테고리들이<br>\n준비되어 있는 반면, 리눅스 저장소에는 서버 관련 항목뿐 아니라,<br>\n각종 유지 및 시스템 전반에 걸쳐서 필요한 프로그램들을 준비해 놓고 있습니다.  </p>\n<br/>\n<h2 id=\"-rpm과-yum\" style=\"position:relative;\"><a href=\"#-rpm%EA%B3%BC-yum\" aria-label=\" rpm과 yum permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👍 RPM과 YUM</h2>\n<p>RPM,YUM은 리눅스 패키지 인스톨 프로그램이자 인스톨 파일이라고 생각하면 됩니다.</p>\n<h3 id=\"rpmredhat-package-manager\" style=\"position:relative;\"><a href=\"#rpmredhat-package-manager\" aria-label=\"rpmredhat package manager permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RPM(Redhat Package Manager)</h3>\n<p>패키지 관리자로, Windows의 setup.exe와 비슷한 설치파일 입니다.<br>\n이러한 설치 파일의 확장자명은 .rpm이며, 이를 패키지라고 부릅니다.<br>\nRPM은 Redhat계열인 CentOS, Redhat, Fedora 에서 호환됩니다. </p>\n<ul>\n<li>\n<p>장점  </p>\n<ul>\n<li>바이너리 파일로 구성되어 컴파일이 필요없음  </li>\n<li>패키지 설치상태 및 정보 제공.  </li>\n<li>기존파일 삭제없이 바로 업그레이드 가능</li>\n</ul>\n</li>\n<li>\n<p>단점  </p>\n<ul>\n<li>패키지 의존성에 따라 관련 패키지가 먼저 설치되어있지 않으면 설치가 안된다.<br>\n즉, 패키지 설치를 위해서 그 패키지의 필요요소를 사전에 전부 다운로드 해야 한다. (패키지 디펜던시).</li>\n<li>그런데 RPM에서는 YUM과 달리 이러한 의존관계를 같이 다운받아주지 않는다는 단점이 있다.<br>\n국내 배포된 리눅스들이 레드햇을 기반으로 하고 있어 사용 범위가 넓다.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<h3 id=\"rpm의-파일-구조\" style=\"position:relative;\"><a href=\"#rpm%EC%9D%98-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%A1%B0\" aria-label=\"rpm의 파일 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RPM의 파일 구조</h3>\n<p>[패키지이름-버전-릴리즈번호.소스여부.시스템.확장자]  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">Ex<span class=\"token punctuation\">)</span> gcc<span class=\"token operator\">-</span><span class=\"token number\">2.96</span><span class=\"token operator\">-</span><span class=\"token number\">98</span><span class=\"token punctuation\">.</span>i386<span class=\"token punctuation\">.</span>rpm\n\n<span class=\"token operator\">*</span> gcc <span class=\"token punctuation\">:</span> 패키지 이름\n\n<span class=\"token operator\">*</span> <span class=\"token number\">2.96</span> <span class=\"token punctuation\">:</span> 패키지 버전\n\n<span class=\"token operator\">*</span> <span class=\"token number\">98</span> <span class=\"token punctuation\">:</span> 패키지의 릴리즈 번호  \n    패키지가 몇 번째로 만들어진 것인지를 나타낸다<span class=\"token punctuation\">.</span>  \n    똑같은 프로그램으로 다시 패키지 하여도 릴리즈는 올라간다<span class=\"token punctuation\">.</span>  \n\n<span class=\"token operator\">*</span> i386 <span class=\"token operator\">-</span> 시스템<span class=\"token punctuation\">,</span> 어떤 시스템에서 쓰이는 것인지를 나타내는 것이다<span class=\"token punctuation\">.</span>  \n    'i386'<span class=\"token punctuation\">,</span> 'i686'등은 인텔계열의 시스템에서  \n    'sparc' SUN의 스팍 시스템용이고  \n    'alpha' 라면 알파 시스템용이다<span class=\"token punctuation\">.</span>  \n\n\n<span class=\"token operator\">*</span>  혹 네 번째 필드에 src라고 적혀있으면 그것은 소스 RPM이다<span class=\"token punctuation\">.</span>  \n    바이너리 패키지를 만들기 위해서 필요하다<span class=\"token punctuation\">.</span>  \n    일반적으로 많이 사용하는 편은 아니다<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<h3 id=\"rpm의-사용법\" style=\"position:relative;\"><a href=\"#rpm%EC%9D%98-%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"rpm의 사용법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RPM의 사용법</h3>\n<ul>\n<li>\n<p>설치 :  rpm -Uvh [*.rpm]</p>\n<p>  U: 파일을 설치하되, 설치되어 있는 파일은 업그레이드<br>\nv : 설치과정을 확인<br>\nh : 설치 진행과정을 ”#” 마크로 화면에 출력  </p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>삭제  : rpm -e [패키지 이름]</p>\n  <br/>\n</li>\n<li>\n<p>설치되어 있는 패키지 정보 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">설치된 패키지 확인 <span class=\"token punctuation\">:</span> rpm <span class=\"token operator\">-</span>qa <span class=\"token punctuation\">[</span>패키지 이름<span class=\"token punctuation\">]</span>\n\n설치된 패키지의 상세 정보 확인 <span class=\"token punctuation\">:</span> rpm <span class=\"token operator\">-</span>qi <span class=\"token punctuation\">[</span>패키지 이름<span class=\"token punctuation\">]</span>\n\n설치된 패키지에 포함된 파일 목록 확인 <span class=\"token punctuation\">:</span> rpm <span class=\"token operator\">-</span>ql <span class=\"token punctuation\">[</span>패키지 이름<span class=\"token punctuation\">]</span>\n\n설치된 파일이 어느 패키지에 포함되어 있는지 확인 <span class=\"token punctuation\">:</span> rpm <span class=\"token operator\">-</span>qf <span class=\"token punctuation\">[</span>절대경로<span class=\"token operator\">+</span>파일<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>설치되어 있지 않은 패키지 정보 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">패키지에 포함되는 파일 목록 확인 <span class=\"token punctuation\">:</span> rpm <span class=\"token operator\">-</span>qlp <span class=\"token punctuation\">[</span>패키지 이름<span class=\"token punctuation\">]</span>\n\n설치할 패키지의 상세 정보 확인 <span class=\"token punctuation\">:</span> rpm <span class=\"token operator\">-</span>qip <span class=\"token punctuation\">[</span>패키지 이름<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"-yumyellodog-updater-modified\" style=\"position:relative;\"><a href=\"#-yumyellodog-updater-modified\" aria-label=\" yumyellodog updater modified permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✨ YUM(Yellodog Updater Modified)</h3>\n<ul>\n<li>rpm과 다르게, 필요한 패키지만 설치 하면, 의존성이 있는 다른 패키지 또한 함께 설치해주는 툴이다.  </li>\n<li>YUM은 외부 레파지토리 서버랑 통신이 가능해야 한다. 즉, 네트워크가 단절되면 yum 명령어 사용이 불가능하다.</li>\n<li>repo 파일의 경우 /etc/yum.repo/ 디렉토리 안에 x.repo 파일로 저장되어있다.</li>\n</ul>\n<br/>\n<h3 id=\"yum의-사용법\" style=\"position:relative;\"><a href=\"#yum%EC%9D%98-%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"yum의 사용법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>YUM의 사용법</h3>\n<ul>\n<li>\n<p>기본 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum install <span class=\"token punctuation\">[</span>패키지 이름<span class=\"token punctuation\">]</span>\n주로 yum <span class=\"token operator\">-</span>y install <span class=\"token punctuation\">[</span>패키지 이름<span class=\"token punctuation\">]</span> 으로 사용\n<span class=\"token operator\">-</span>y <span class=\"token punctuation\">:</span> 설치유무를 모두 yes로 응답</code></pre></div>\n</li>\n<li>\n<p>RPM 설치</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum install <span class=\"token punctuation\">[</span><span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>rpm 파일 이름<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>업데이트 가능 목록 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum check<span class=\"token operator\">-</span>update</code></pre></div>\n</li>\n<li>\n<p>업데이트 </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum update <span class=\"token punctuation\">[</span>패키지 이름<span class=\"token punctuation\">]</span> <span class=\"token comment\">// 패키지 이름을 입력하지 않으면 전부 업데이트</span></code></pre></div>\n</li>\n<li>\n<p>삭제하기</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum <span class=\"token keyword\">remove</span> <span class=\"token punctuation\">[</span>패키지 이름<span class=\"token punctuation\">]</span>\nremoveauto <span class=\"token punctuation\">:</span> 사용하지않는 의존성파일까지 모두 삭제\n<span class=\"token operator\">-</span>y <span class=\"token punctuation\">:</span> 삭제유무를 모두 yes로 응답</code></pre></div>\n</li>\n<li>\n<p>패키지 그룹 설치 </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum groupinstall <span class=\"token string\">\"[패키지 그룹 이름]\"</span></code></pre></div>\n</li>\n<li>\n<p>특정 파일이 속한 패키지 이름 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum provides <span class=\"token punctuation\">[</span>파일 이름<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p>GPG 키 검사 생략 </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum install <span class=\"token operator\">--</span>nogpgcheck <span class=\"token punctuation\">[</span><span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>rpm<span class=\"token punctuation\">]</span>\n인증되지 않은 rpm 파일을 yum으로 설치시<span class=\"token punctuation\">,</span>\n설치가 불가능하다<span class=\"token punctuation\">.</span> 그럴 때 인증을 생략하는 방식이다<span class=\"token punctuation\">.</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-웹-다운로드-명령어\" style=\"position:relative;\"><a href=\"#-%EC%9B%B9-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\" 웹 다운로드 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👌 웹 다운로드 명령어</h2>\n<h3 id=\"wget\" style=\"position:relative;\"><a href=\"#wget\" aria-label=\"wget permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>wget</h3>\n<p>  ‘Web Get’의 약어로 웹 상의 파일을 다운로드 받을 때 사용하는 명령어, wget은 <code class=\"language-text\">비상호작용 네트워크 다운로더</code> 이다.<br>\n즉, 네트워크 상에서 데이터를 다운로드하는 기능을 수행한다<br>\nHTTP, HTTPS, FTP 프로토콜을 지원하며, HTTP proxy에서 데이터를 가져올 수도 있다  </p>\n<p>  wget이 상호작용을 필요로 하지 않는다(non-interactive)는 것은<br>\n사용자가 로그인하지 않은 상태 동안에도 백그라운드 상태에서 동작할 수 있음을  의미한다.</p>\n<br/>\n<ul>\n<li>사용법</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ wget <span class=\"token punctuation\">[</span>옵션<span class=\"token punctuation\">]</span><span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">URL</span></span><span class=\"token punctuation\">]</span><span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n옵션 #\n<span class=\"token operator\">-</span>O filename DOWNLOAD<span class=\"token operator\">-</span>URL <span class=\"token punctuation\">:</span> wget을 통해 다운로드 할 경우 저장되는 파일명은 URL의 마지막 <span class=\"token string character\">'/'</span> 뒤에 오는 단어를 파일명으로 저장한다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">--</span>limit<span class=\"token operator\">-</span>rate<span class=\"token operator\">=</span>N DOWNLOAD<span class=\"token operator\">-</span>URL <span class=\"token punctuation\">:</span> wget은 기본 값으로 최대 대역폭을 사용한다<span class=\"token punctuation\">.</span> 필요할 경우 '<span class=\"token operator\">--</span>limit<span class=\"token operator\">-</span>rate' 옵션을 이용하여 다운로드 속도를 조절할 수 있다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>b DOWNLOAD<span class=\"token operator\">-</span>URL <span class=\"token punctuation\">:</span> 다운로드 작업을 백그라운드에서 실행한다<span class=\"token punctuation\">.</span> 로그는 wget<span class=\"token operator\">-</span>log에 기록된다<span class=\"token punctuation\">.</span> 로그를 실시간으로 확인하려면 tail <span class=\"token operator\">-</span>f wget<span class=\"token operator\">-</span>log를 이용하여 볼 수 있다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">--</span>user<span class=\"token operator\">-</span>agent<span class=\"token operator\">=</span><span class=\"token string\">\"User-info\"</span> DOWNLOAD<span class=\"token operator\">-</span>URL <span class=\"token punctuation\">:</span> 웹브라우저를 이용하지 않을 경우 일부 사이트에서는 다운로드를 제한하는데<span class=\"token punctuation\">,</span> 이 경우 '<span class=\"token operator\">--</span>user<span class=\"token operator\">-</span>agent' 옵션을 이용하여 사이트에 정보를전송한다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>V<span class=\"token punctuation\">,</span> <span class=\"token operator\">--</span>version <span class=\"token punctuation\">:</span> Wget의 버전을 보여준다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>h<span class=\"token punctuation\">,</span> <span class=\"token operator\">--</span>help <span class=\"token punctuation\">:</span> Wgwt의 명령 옵션의 전부에 대한 도움말을 출력한다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>b<span class=\"token punctuation\">,</span> <span class=\"token operator\">--</span>background <span class=\"token punctuation\">:</span> 시작한 후 즉시 백그라운드에서 작동한다<span class=\"token punctuation\">.</span> 결과 파일이 없음이 –o를 통해 지정되었다면<span class=\"token punctuation\">,</span> 결과는 wget<span class=\"token operator\">-</span>log로 다시 보내진다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span><span class=\"token class-name\">e</span> command<span class=\"token punctuation\">,</span> <span class=\"token operator\">--</span><span class=\"token class-name\">execute</span> command <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>wgetrc를 읽어서 명령을 실행한다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>d<span class=\"token punctuation\">,</span> <span class=\"token operator\">--</span>debug <span class=\"token punctuation\">:</span> 디버그 내용을 출력한다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span><span class=\"token class-name\">i</span> file<span class=\"token punctuation\">,</span> <span class=\"token operator\">--</span>input<span class=\"token operator\">-</span>file<span class=\"token operator\">=</span>file <span class=\"token punctuation\">:</span> 다운받을 URL 주소를 로컬이나 파일에서 찾는다<span class=\"token punctuation\">.</span> \n만약 file에 ‘<span class=\"token operator\">-</span>’를 입력하면 표준 입력으로 URL를 받는다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>F<span class=\"token punctuation\">,</span> <span class=\"token operator\">--</span>force<span class=\"token operator\">-</span>html <span class=\"token punctuation\">:</span> 파일에서 input을 읽어올 때<span class=\"token punctuation\">,</span> HTML 파일로 처리한다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>i FILE<span class=\"token operator\">-</span>WHICH<span class=\"token operator\">-</span>HAS<span class=\"token operator\">-</span>URLS <span class=\"token punctuation\">:</span> 한 번에 여러개의 파일을 다운로드 한다<span class=\"token punctuation\">.</span> URL은 개행으로 구분되어 입력된 파일을 통해 입력한다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">--</span>reject<span class=\"token operator\">=</span>FILE<span class=\"token operator\">-</span>EXTENSION DOWNLOAD<span class=\"token operator\">-</span>URL <span class=\"token punctuation\">:</span> 특정 파일 확장자를 제외하고 다운로드 한다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span>r <span class=\"token operator\">-</span>A<span class=\"token punctuation\">.</span>FILE<span class=\"token operator\">-</span>EXTENSION DOWNLOAD<span class=\"token operator\">-</span>URL <span class=\"token punctuation\">:</span> 특정 파일 확장자만 다운로드 한다<span class=\"token punctuation\">.</span> '<span class=\"token operator\">-</span>r'은 재귀적 탐색을<span class=\"token punctuation\">,</span> '<span class=\"token operator\">-</span>A'는 accept할 파일 타입을 지정한다<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<h3 id=\"예제\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%A0%9C\" aria-label=\"예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예제</h3>\n<ul>\n<li>단일 파일 받기  </li>\n</ul>\n<p>다음의 예는 인터넷에서 단일 파일을 받아 현재 디렉토리에 저장하는 방법입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ wget DOWNLOAD<span class=\"token operator\">-</span>URL\n\n다운로드 하는 동안 진행 경과와 함께 다음의 정보를 보여줍니다\n현재 몇 퍼센트 받았는지에 대한 정보 <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">%</span><span class=\"token punctuation\">)</span>\n현재까지 다운로드 받은 바이트 수 <span class=\"token punctuation\">(</span><span class=\"token number\">112</span><span class=\"token punctuation\">,</span><span class=\"token number\">550</span><span class=\"token punctuation\">)</span>\n현재 다운로드 속도 <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">.</span>64KB<span class=\"token operator\">/</span>s<span class=\"token punctuation\">)</span>\n다운로드 완료까지 남은 시간 <span class=\"token punctuation\">(</span>35s\n$ <span class=\"token class-name\">wget</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>www<span class=\"token punctuation\">.</span>openss7<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>repos<span class=\"token operator\">/</span>tarballs<span class=\"token operator\">/</span>strx25<span class=\"token operator\">-</span><span class=\"token number\">0.9</span><span class=\"token number\">.2</span><span class=\"token number\">.1</span><span class=\"token punctuation\">.</span>tar<span class=\"token punctuation\">.</span>bz2\nHTTP <span class=\"token class-name\">request</span> sent<span class=\"token punctuation\">,</span> awaiting response<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span> <span class=\"token number\">200</span> <span class=\"token class-name\">OK</span>\nLength<span class=\"token punctuation\">:</span> <span class=\"token number\">3852374</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3.7M</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>application<span class=\"token operator\">/</span>x<span class=\"token operator\">-</span>bzip2<span class=\"token punctuation\">]</span>\n<span class=\"token class-name\">Saving</span> to<span class=\"token punctuation\">:</span> ‘strx25<span class=\"token operator\">-</span><span class=\"token number\">0.9</span><span class=\"token number\">.2</span><span class=\"token number\">.1</span><span class=\"token punctuation\">.</span>tar<span class=\"token punctuation\">.</span>bz2\n<span class=\"token number\">2</span><span class=\"token operator\">%</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">=></span>                             <span class=\"token punctuation\">]</span> <span class=\"token number\">112</span><span class=\"token punctuation\">,</span><span class=\"token number\">550</span>     <span class=\"token number\">3</span><span class=\"token punctuation\">.</span>64KB<span class=\"token operator\">/</span>s   <span class=\"token keyword\">in</span> 35s</code></pre></div>\n<br/>\n<ul>\n<li>다른이름으로 저장하기  </li>\n</ul>\n<p>파일을 저장할 때 wget은 기본적으로 다운로드 경로의 마지막 슬래쉬(’/’) 다음에 오는 단어를 파일이름으로 사용합니다.<br>\n그런데 이 방법으로는 올바른 파일이름이 아닌 이상한 이름을 뽑아내는 경우도 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ <span class=\"token class-name\">wget</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>www<span class=\"token punctuation\">.</span>vim<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>scripts<span class=\"token operator\">/</span>download_script<span class=\"token punctuation\">.</span>php<span class=\"token punctuation\">?</span>src_id<span class=\"token operator\">=</span><span class=\"token number\">7701</span>\n위의 경우 다운받은 파일 이름은 'download_script<span class=\"token punctuation\">.</span>php<span class=\"token punctuation\">?</span>src_id<span class=\"token operator\">=</span><span class=\"token number\">7701</span>'이 됩니다<span class=\"token punctuation\">.</span> 이런 상황을 해결하기 위해 '<span class=\"token operator\">-</span>O' 옵션을 사용합니다<span class=\"token punctuation\">.</span> \n$ wget <span class=\"token operator\">-</span>O <span class=\"token class-name\">taglist<span class=\"token punctuation\">.</span>zip</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>www<span class=\"token punctuation\">.</span>vim<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>scripts<span class=\"token operator\">/</span>download_script<span class=\"token punctuation\">.</span>php<span class=\"token punctuation\">?</span>src_id<span class=\"token operator\">=</span><span class=\"token number\">7701</span></code></pre></div>\n<hr>\n<h3 id=\"curl\" style=\"position:relative;\"><a href=\"#curl\" aria-label=\"curl permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>curl</h3>\n<p>서버와 통신할 수 있는 커맨드 명령어 툴입니다. 웹개발에 매우 많이 사용되고 있는 무료 오픈소스입니다.<br>\ncurl의 특징으로는 다음과 같은 수 많은 프로토콜을 지원한다는 장점이 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">프로토콜\nDICT<span class=\"token punctuation\">,</span> FILE<span class=\"token punctuation\">,</span> FTP<span class=\"token punctuation\">,</span> FTPS<span class=\"token punctuation\">,</span> Gopher<span class=\"token punctuation\">,</span> HTTP<span class=\"token punctuation\">,</span> HTTPS<span class=\"token punctuation\">,</span> IMAP<span class=\"token punctuation\">,</span> IMAPS<span class=\"token punctuation\">,</span> LDAP<span class=\"token punctuation\">,</span> LDAPS<span class=\"token punctuation\">,</span> POP3<span class=\"token punctuation\">,</span> POP3S<span class=\"token punctuation\">,</span> RTMP<span class=\"token punctuation\">,</span> RTSP<span class=\"token punctuation\">,</span> SCP<span class=\"token punctuation\">,</span> SFTP<span class=\"token punctuation\">,</span> SMB<span class=\"token punctuation\">,</span> SMBS<span class=\"token punctuation\">,</span> SMTP<span class=\"token punctuation\">,</span> SMTPS<span class=\"token punctuation\">,</span> Telnet<span class=\"token punctuation\">,</span> TFTP</code></pre></div>\n<br/>\n<ul>\n<li>옵션</li>\n</ul>\n<p>curl에 설정 가능한 옵션보기아래는 사용 가능한 다양한 옵션들입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">-</span>X <span class=\"token punctuation\">:</span> 사용할 방식 메소드 선택하기\n<span class=\"token operator\">-</span>d <span class=\"token punctuation\">:</span> 함께 전달할 파라미터값 설정하기\n<span class=\"token operator\">-</span>G <span class=\"token punctuation\">:</span> 전송할 사이트 url 및 ip 주소\n<span class=\"token operator\">-</span>H <span class=\"token punctuation\">:</span> 헤더 정보를 전달하기\n<span class=\"token operator\">-</span>i <span class=\"token punctuation\">:</span> 사이트의 Header 정보만 가져오기\n<span class=\"token operator\">-</span>I <span class=\"token punctuation\">:</span> 사이트의 Header와 바디 정보를 함께 가져오기\n<span class=\"token operator\">-</span>u <span class=\"token punctuation\">:</span> 사용자 정보</code></pre></div>\n<br/>\n<h3 id=\"예제-1\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%A0%9C-1\" aria-label=\"예제 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예제</h3>\n<ul>\n<li>header 값 설정하기, -H</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">-</span>H값을 사용히야 헤더에 전달할 값들을 설정합니다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span> Content<span class=\"token operator\">-</span>Type을 application<span class=\"token operator\">/</span>json으로 설정하기\ncurl <span class=\"token operator\">-</span>H <span class=\"token string\">\"Content-Type: application/json\"</span>\n<span class=\"token operator\">-</span> Content<span class=\"token operator\">-</span>Length를 <span class=\"token number\">0</span>으로 설정하기\ncurl <span class=\"token operator\">-</span>H <span class=\"token string\">\"Content-Length: 0\"</span></code></pre></div>\n<br/>\n<ul>\n<li>curl을 사용하여 파라미터를 전달하기 </li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">전달할 파라미터가 있는 경우의 방법입니다<span class=\"token punctuation\">.</span> 파라미터값을 전달하는 경우 아래와 같이 url 뒤에 붙이는 <span class=\"token keyword\">get</span> 방식이나 <span class=\"token operator\">-</span>d 옵션을 사용하여 전달할 수 있습니다<span class=\"token punctuation\">.</span>\ncurl <span class=\"token operator\">-</span><span class=\"token class-name\">G</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>webisfree<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>action<span class=\"token operator\">/</span><span class=\"token punctuation\">?</span>test<span class=\"token operator\">=</span>ok\n또 다른 방법으로 <span class=\"token operator\">-</span>d 옵션을 사용하면 아래처럼 전달합니다<span class=\"token punctuation\">.</span> 만약 전달할 값이 아래와 같다면 다음과 같이 수행합니다<span class=\"token punctuation\">.</span>\n@ Method <span class=\"token operator\">/</span> 전달할 값\nPOST <span class=\"token operator\">/</span> test<span class=\"token operator\">=</span>ok\ncurl <span class=\"token operator\">-</span>X PUT <span class=\"token operator\">-</span><span class=\"token class-name\">G</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>webisfree<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>action <span class=\"token operator\">-</span><span class=\"token class-name\">d</span> test<span class=\"token operator\">=</span>ok</code></pre></div>\n<br/>\n<ul>\n<li>POST 메소드를 사용한 예제</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">기본값으로 메소드는 POST이므로 <span class=\"token operator\">-</span>X 설정이 없이 사용할 수 있습니다<span class=\"token punctuation\">.</span>\n@ Method <span class=\"token operator\">/</span> 전달할 값\nPOST <span class=\"token operator\">/</span> test<span class=\"token operator\">=</span>ok<span class=\"token punctuation\">,</span> test2<span class=\"token operator\">=</span>ok\n<span class=\"token class-name\">curl</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>webisfree<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>action <span class=\"token operator\">-</span><span class=\"token class-name\">d</span> test<span class=\"token operator\">=</span>ok <span class=\"token operator\">-</span><span class=\"token class-name\">d</span> test2<span class=\"token operator\">=</span>ok\n아래와 같이 따옴표를 사용하여 하나로 묶어 사용할 수도 있습니다<span class=\"token punctuation\">.</span>\n<span class=\"token class-name\">curl</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>webisfree<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>action <span class=\"token operator\">-</span>d 'test<span class=\"token operator\">=</span>ok<span class=\"token operator\">&amp;</span>test2<span class=\"token operator\">=</span>ok'\n<span class=\"token operator\">!</span> DELETE 메소드를 사용한 예제아래는 DELETE 메소드로 요청하는 방법입니다<span class=\"token punctuation\">.</span>\ncurl <span class=\"token operator\">-</span>X <span class=\"token string\">\"DELETE\"</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>webisfree<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>action<span class=\"token operator\">/</span>\n예를들어 아래처럼 사용할 수 있습니다<span class=\"token punctuation\">.</span>\ncurl <span class=\"token operator\">-</span>X DELETE <span class=\"token operator\">-</span>H <span class=\"token string\">\"Accept: application/xml\"</span> <span class=\"token operator\">-</span>H <span class=\"token string\">\"Content-type: application/xml\"</span> <span class=\"token operator\">-</span>u <span class=\"token punctuation\">[</span>USER<span class=\"token punctuation\">:</span>PASS<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span>X\n<span class=\"token operator\">-</span>u를 사용하여 계정 정보를 입력시 아이디만 넘길 수 있습니다<span class=\"token punctuation\">.</span> 이 경우 패스워드 입력창이 나타나며 여기에 패스워드를 입력하면 됩니다<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<ul>\n<li>url이 긴 경우 역슬러쉬 사용하기 </li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">리눅스 쉘 환경에서 입력시 명령어 줄이 긴 경우 다음 줄에 나타나기 위해서 역슬러쉬 \\ 기호를 많이 사용합니다<span class=\"token punctuation\">.</span> 아래 예제를 봐주세요<span class=\"token punctuation\">.</span>\ncurl <span class=\"token operator\">-</span><span class=\"token class-name\">G</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>webisfree<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>action \\\n<span class=\"token operator\">-</span>X DELETE \\\n<span class=\"token operator\">-</span><span class=\"token class-name\">d</span> id<span class=\"token operator\">=</span><span class=\"token number\">123</span>\n이처럼 사용할 수 있죠<span class=\"token punctuation\">.</span>\ncs\n\n<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n<span class=\"token operator\">*</span> 여러개의 파라미터를 전달하는 경우\n\n```cs\n하나가 아닌 데이터 값이 여러개인 경우 어떻게 할까요<span class=\"token punctuation\">?</span> 이 경우 두 가지 방법으로 사용할 수 있습니다<span class=\"token punctuation\">.</span> \n<span class=\"token operator\">-</span><span class=\"token class-name\">d</span> id<span class=\"token operator\">=</span><span class=\"token number\">123</span> <span class=\"token operator\">-</span><span class=\"token class-name\">d</span> name<span class=\"token operator\">=</span>webisfree <span class=\"token operator\">-</span><span class=\"token class-name\">d</span> number<span class=\"token operator\">=</span><span class=\"token number\">1004</span>\n<span class=\"token operator\">--</span>data <span class=\"token string\">\"id=123&amp;name=webisfree&amp;number=1004\"</span></code></pre></div>\n <br/>\n<hr>\n<h2 id=\"-wget-vs-curl\" style=\"position:relative;\"><a href=\"#-wget-vs-curl\" aria-label=\" wget vs curl permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🐱‍🏍 wget vs. CURL</h2>\n<p>  wget 과 curl 은 둘 다 웹 서버로부터 컨텐츠를 가져오는 Linux 커맨드입니다.<br>\nwget 과 curl 은 거의 유사하지만 조금 다른 부분이 있습니다.  </p>\n<p>  우선 둘의 공통된 내용은 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">-</span> HTTP<span class=\"token punctuation\">,</span> HTTPS<span class=\"token punctuation\">,</span> FTP 프로토콜을 통해 컨텐츠를 다운로드 하는 커맨트 라인 툴입니다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span> HTTP POST request 를 지원합니다<span class=\"token punctuation\">.</span> <span class=\"token punctuation\">(</span>즉<span class=\"token punctuation\">,</span> 웹사이트로 데이터를 전송할 수 있습니다<span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">-</span> HTTP 쿠키를 지원합니다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span> 스크립트처럼 사용자 인터렉션없이 수행될 수 있도록 설계되었습니다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span> 오픈소스이며 무료입니다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span> <span class=\"token number\">90</span>년대에 시작한 프로젝트입니다<span class=\"token punctuation\">.</span> <span class=\"token punctuation\">(</span>wget 은 <span class=\"token number\">1995</span>년<span class=\"token punctuation\">,</span> curl 은 <span class=\"token number\">1996</span>년에 시작했습니다<span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">-</span> metalink 를 지원합니다<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<p>  wget 과 curl 은 아래와 같은 다른 점이 있습니다.  </p>\n<ul>\n<li>\n<p>wget</p>\n<p>  간단하고 직관적입니다. 별도의 라이브러리를 지원하지 않습니다. 재귀적으로 다운로드합니다.<br>\n(즉, 페이지에 있는 모든 내용이나 FTP 디렉터리에 있는 모든 파일들을 한 번에 그대로 복사해 옵니다.)<br>\ncurl 에 비하여 더 오래되었습니다. GNU 프로젝트입니다.</p>\n</li>\n<li>\n<p>curl</p>\n<p>  libcurl 라이브러리로 더 강력한 기능들을 추가/사용할 수 있습니다.<br>\nstdin 또는 stdout 의 pipe 를 이용하는 전통적인 unix 스타일의 방식도 지원합니다.<br>\nLDAP 이나 Samba 공유도 지원합니다.<br>\n양방향입니다. (wget 은 일반 HTTP POST request 만 지원합니다.)<br>\nSSL 을 지원합니다.<br>\ngzip 압축 및 해지를 지원합니다.<br>\nMIT 라이센스입니다.  </p>\n</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%ED%8C%A8%ED%82%A4%EC%A7%80-%EA%B4%80%EB%A6%AC%EC%9E%90%EB%9E%80\">✔ 패키지 관리자란?</a></li>\n<li>\n<p><a href=\"#-rpm%EA%B3%BC-yum\">👍 RPM과 YUM</a></p>\n<ul>\n<li><a href=\"#rpmredhat-package-manager\">RPM(Redhat Package Manager)</a></li>\n<li><a href=\"#rpm%EC%9D%98-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%A1%B0\">RPM의 파일 구조</a></li>\n<li><a href=\"#rpm%EC%9D%98-%EC%82%AC%EC%9A%A9%EB%B2%95\">RPM의 사용법</a></li>\n<li><a href=\"#-yumyellodog-updater-modified\">✨ YUM(Yellodog Updater Modified)</a></li>\n<li><a href=\"#yum%EC%9D%98-%EC%82%AC%EC%9A%A9%EB%B2%95\">YUM의 사용법</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%9B%B9-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C-%EB%AA%85%EB%A0%B9%EC%96%B4\">👌 웹 다운로드 명령어</a></p>\n<ul>\n<li><a href=\"#wget\">wget</a></li>\n<li><a href=\"#%EC%98%88%EC%A0%9C\">예제</a></li>\n<li><a href=\"#curl\">curl</a></li>\n<li><a href=\"#%EC%98%88%EC%A0%9C-1\">예제</a></li>\n</ul>\n</li>\n<li><a href=\"#-wget-vs-curl\">🐱‍🏍 wget vs. CURL</a></li>\n</ul>\n</div>","excerpt":"머리말   저의 경우에는 LINUX라고는 CENTOS 와 REDHAT의 경험밖에 없다보니 데비안, 우분투, 등등의 여러 리눅스에서 사용하는 패키지 관리자에 대한 배경지식이 없어서 이 포스트 작성이 큰 도움이 되었습니다.   ✔ 패키지 관리자란? 윈도우로 서버를 운영하면 IIS의 가장 장점은 바로 웹 플랫폼 설치관리자 입니다. 그 이유중에 하나는 복잡한 설치과정을 간단하게 클릭 몇번만으로 설치 및 설정까지 자동으로 해주기 때문에 편리하다고 하였는데 사실 리눅스에도 이와 비슷한 기능을 가지고 있는 패키지 저장소가 있습니디.   리눅스에서의 패키지 관리 시스템은 터미널 명령어로 진행해야 하기 때문에 GUI 방식인 웹 플랫폼…","frontmatter":{"date":"June 23, 2021","title":"[LINUX] - 패키지 관리자 RPM, YUM","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-package/"}},"next":{"id":"bc98a4b2-be2d-5ad0-9cd8-3f6e865d6438","html":"<h2 id=\"-firewall-침입차단시스템-란\" style=\"position:relative;\"><a href=\"#-firewall-%EC%B9%A8%EC%9E%85%EC%B0%A8%EB%8B%A8%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%9E%80\" aria-label=\" firewall 침입차단시스템 란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ FIREWALL (침입차단시스템) 란?</h2>\n<p>리눅스 방화벽은 외부의 네트워크에서 내부의 시스템으로 접근하는 네트워크 패킷을 차단합니다.<br>\n리눅스 방화벽의 경우 Netfilter에 의해 적용되며 시스템 내부로 전달, 폐기를 결정하는 모듈입니다.</p>\n<ul>\n<li>\n<p>RHEL7부터는 방화벽을 관리하는 데몬이 firewalld로 변경되어 방화벽 설정은<br>\niptables 명령어 대신 아래 명령어를 사용해야 합니다.</p>\n<ul>\n<li>firewall-cmd (콘솔  </li>\n<li>firewall-config (X-Windows)  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>기존에 사용했던 <code class=\"language-text\">iptables</code>이 완전이 사라진 것은 아닙니다. firewalld이 iptables를 기반으로 동작하고 있을 뿐 입니다.<br>\n(firewalld은 iptables를 의존 패키지로 두고 있음)</li>\n</ul>\n<br/>\n<ul>\n<li>방화벽에는 <code class=\"language-text\">zone</code>(영역)이라는 것이 존재하는데 개방된 네트워크와 연결되어 있다면 public zone(공개 영역)의 룰이 적용되고,<br>\n개인 네트워크에 있다면 다른 zone의 룰을 적용할 수 있습니다. 네트워크 형태에 따라 적용하는 방화벽 룰을 다르게 할 수 있습니다.<br>\n(서버 용도로 리눅스를 사용한다면 개방된 네트워크 public zone만 필요)  </li>\n</ul>\n<br/>\n<ul>\n<li>iptables의 룰 변경시 서비스 중지 및 설정 변경을 하여야 했지만 firewall의 경우 KVM, openstack과 같은 가상화, 클라우드 환경하에서의 필터링 정책을 동적으로 추가 가능합니다.<br>\n(동적이기때문에 언제든지 설정을 변경할 수 있고 바로 실행되며 방화벽을 다시 로딩할 필요가 없으므로 기존 네트워크 연결에서 의도하지 않은 중단이 발생하지 않습니다.)  </li>\n</ul>\n<br/>\n<ul>\n<li>iptables의 경우 응용프로그램 자체에서 필터링 정책을 구성하는 경우 iptables 정책과 충돌되는 등의 문제가 발생하였으나<br>\nfirewalld는 DBUS API를 통한 정보 공유를 통해 정책 충돌 문제를 해결합니다.  </li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-firewall-구동방식\" style=\"position:relative;\"><a href=\"#-firewall-%EA%B5%AC%EB%8F%99%EB%B0%A9%EC%8B%9D\" aria-label=\" firewall 구동방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✨ firewall 구동방식</h2>\n<ul>\n<li>설정파일은 /etc/firewalld/zones/public.xml 파일로 xml 형식으로 존재합니다.<br>\n해당 파일에는 <code class=\"language-text\">firewall-cmd --permanent --zone=public</code> 명령으로 추가했던 룰들이 저장되어 있으며<br>\nzone의 설정 파일을 변경할 경우 방화벽을 reload 해야 반영이 됩니다.  </li>\n</ul>\n<br/>\n<ul>\n<li>firewall-cmd 에서 <code class=\"language-text\">--permanent</code> 옵션이 들어간다면 바로 반영이 되지않고 zone의 설정파일에서 룰에 대한 추가/수정만 이루어집니다.<br>\n따라서 —permanet 옵션을 넣었다면 방화벽을 reload 해야합니다 (설정파일에 추가된 룰은 영구반영)<br>\n만약 —permanet 옵션을 넣지않으면 일시적으로 즉시 반영되지만 재부팅을 할 경우 zone의 설정파일에 추가되지 않은 룰이므로 전부 삭제가 됩니다.  </li>\n<li>\n<p>특징  </p>\n<ol>\n<li>XML 파일 형태로 정책 보관 가능  </li>\n<li>Runtime(실행중) 및 Permanent(영구) 설정 가능</li>\n</ol>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-관련-보안-시스템\" style=\"position:relative;\"><a href=\"#-%EA%B4%80%EB%A0%A8-%EB%B3%B4%EC%95%88-%EC%8B%9C%EC%8A%A4%ED%85%9C\" aria-label=\" 관련 보안 시스템 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>😂 관련 보안 시스템</h2>\n<h3 id=\"침입차단시스템fw\" style=\"position:relative;\"><a href=\"#%EC%B9%A8%EC%9E%85%EC%B0%A8%EB%8B%A8%EC%8B%9C%EC%8A%A4%ED%85%9Cfw\" aria-label=\"침입차단시스템fw permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>침입차단시스템(FW)</h3>\n<ul>\n<li>packet filter : 패킷의 목적지 소스 등의 룰이 맞으면 통과. (3계층까지만 확인)</li>\n<li>application g/w :  모든 계층의 대한 패킷을 확인  (최상위 계층까지) (느리다 - proxy) - 가장 강력한 보안 </li>\n<li>stateful inspection : 방화벽을 통해 전달된 패킷의 응답패킷은 룰을 보지않고 허용한다. (룰이 많아지기 떄문)</li>\n</ul>\n<br/>\n<h3 id=\"침입탐지시스템ids\" style=\"position:relative;\"><a href=\"#%EC%B9%A8%EC%9E%85%ED%83%90%EC%A7%80%EC%8B%9C%EC%8A%A4%ED%85%9Cids\" aria-label=\"침입탐지시스템ids permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>침입탐지시스템(IDS)</h3>\n<p>이미 침입을 하고 동작을 했을 때 반응을 하는 문제점이 있음. (out of path)\n</p>\n<ul>\n<li>시그니쳐 방식 (패턴을 저장하고 패턴을 확인)</li>\n<li>anomaly 방식</li>\n</ul>\n<br/>\n<h3 id=\"침입방지시스템ips---동작-전에-탐지-즉시-반응--inline\" style=\"position:relative;\"><a href=\"#%EC%B9%A8%EC%9E%85%EB%B0%A9%EC%A7%80%EC%8B%9C%EC%8A%A4%ED%85%9Cips---%EB%8F%99%EC%9E%91-%EC%A0%84%EC%97%90-%ED%83%90%EC%A7%80-%EC%A6%89%EC%8B%9C-%EB%B0%98%EC%9D%91--inline\" aria-label=\"침입방지시스템ips   동작 전에 탐지 즉시 반응  inline permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>침입방지시스템(IPS) - 동작 전에 탐지 즉시 반응 , (inline)</h3>\n<ul>\n<li>bastion host : 공인/사설 망에 연결된 호스트 (즉 외부에서 봤을때 가려져있는 호스트들)  </li>\n<li>dual homed g/w : 외부/내부 2개로 나눠져 있는 방화벽의 경우 들어오는, 나가는 모두의 룰을 정해주는 방식  </li>\n<li>screend subnet : NIC 3개 이상,  외부, 내부, DMA(server farm) 으로 나눈다. 즉 사내/공개로 영역을 나눠 관리.</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/64260883/88243392-3c47fe80-cccb-11ea-87d3-34c9157876cf.png\" alt=\"스크린샷, 2020-07-23 09-59-24\"></p>\n<br/>\n<hr>\n<h2 id=\"-firewall-시스템-확인\" style=\"position:relative;\"><a href=\"#-firewall-%EC%8B%9C%EC%8A%A4%ED%85%9C-%ED%99%95%EC%9D%B8\" aria-label=\" firewall 시스템 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👏 FireWall 시스템 확인</h2>\n<h3 id=\"usrlibfirewalld--기본-구성-관련-파일\" style=\"position:relative;\"><a href=\"#usrlibfirewalld--%EA%B8%B0%EB%B3%B8-%EA%B5%AC%EC%84%B1-%EA%B4%80%EB%A0%A8-%ED%8C%8C%EC%9D%BC\" aria-label=\"usrlibfirewalld  기본 구성 관련 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/usr/lib/firewalld : 기본 구성 관련 파일</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@centos <span class=\"token operator\">/</span><span class=\"token punctuation\">]</span>$  ls <span class=\"token operator\">-</span>alrt <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>firewalld<span class=\"token operator\">/</span>\n합계 <span class=\"token number\">20</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span>  <span class=\"token number\">7</span> root root   <span class=\"token number\">81</span>  <span class=\"token number\">4</span>월  <span class=\"token number\">7</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">37</span> <span class=\"token punctuation\">.</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span>  <span class=\"token number\">2</span> root root  <span class=\"token number\">224</span>  <span class=\"token number\">6</span>월 <span class=\"token number\">29</span> <span class=\"token number\">09</span><span class=\"token punctuation\">:</span><span class=\"token number\">39</span> helpers\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span>  <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span>  <span class=\"token number\">6</span>월 <span class=\"token number\">29</span> <span class=\"token number\">09</span><span class=\"token punctuation\">:</span><span class=\"token number\">39</span> icmptypes\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span>  <span class=\"token number\">2</span> root root   <span class=\"token number\">20</span>  <span class=\"token number\">6</span>월 <span class=\"token number\">29</span> <span class=\"token number\">09</span><span class=\"token punctuation\">:</span><span class=\"token number\">39</span> ipsets\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span>  <span class=\"token number\">2</span> root root <span class=\"token number\">8192</span>  <span class=\"token number\">6</span>월 <span class=\"token number\">29</span> <span class=\"token number\">09</span><span class=\"token punctuation\">:</span><span class=\"token number\">39</span> services\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span>  <span class=\"token number\">2</span> root root  <span class=\"token number\">163</span>  <span class=\"token number\">6</span>월 <span class=\"token number\">29</span> <span class=\"token number\">09</span><span class=\"token punctuation\">:</span><span class=\"token number\">39</span> zones\ndr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">42</span> root root <span class=\"token number\">4096</span>  <span class=\"token number\">6</span>월 <span class=\"token number\">29</span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span><span class=\"token number\">23</span> <span class=\"token range operator\">..</span></code></pre></div>\n<h3 id=\"etcfirewalld--설정-파일-규칙-파일\" style=\"position:relative;\"><a href=\"#etcfirewalld--%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC-%EA%B7%9C%EC%B9%99-%ED%8C%8C%EC%9D%BC\" aria-label=\"etcfirewalld  설정 파일 규칙 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/etc/firewalld : 설정 파일, 규칙 파일</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@centos <span class=\"token operator\">/</span><span class=\"token punctuation\">]</span>$  ls <span class=\"token operator\">-</span>alrt <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>firewalld<span class=\"token operator\">/</span>\n합계 <span class=\"token number\">20</span>\ndrwxr<span class=\"token operator\">-</span>x<span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">2</span> root root   <span class=\"token number\">46</span>  <span class=\"token number\">4</span>월  <span class=\"token number\">7</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">37</span> zones\ndrwxr<span class=\"token operator\">-</span>x<span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">2</span> root root    <span class=\"token number\">6</span>  <span class=\"token number\">4</span>월  <span class=\"token number\">7</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">37</span> services\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">1</span> root root  <span class=\"token number\">272</span>  <span class=\"token number\">4</span>월  <span class=\"token number\">7</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">37</span> lockdown<span class=\"token operator\">-</span>whitelist<span class=\"token punctuation\">.</span>xml\ndrwxr<span class=\"token operator\">-</span>x<span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">2</span> root root    <span class=\"token number\">6</span>  <span class=\"token number\">4</span>월  <span class=\"token number\">7</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">37</span> ipsets\ndrwxr<span class=\"token operator\">-</span>x<span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">2</span> root root    <span class=\"token number\">6</span>  <span class=\"token number\">4</span>월  <span class=\"token number\">7</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">37</span> icmptypes\ndrwxr<span class=\"token operator\">-</span>x<span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">2</span> root root    <span class=\"token number\">6</span>  <span class=\"token number\">4</span>월  <span class=\"token number\">7</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">37</span> helpers\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">1</span> root root <span class=\"token number\">2706</span>  <span class=\"token number\">4</span>월  <span class=\"token number\">7</span> <span class=\"token number\">23</span><span class=\"token punctuation\">:</span><span class=\"token number\">37</span> firewalld<span class=\"token punctuation\">.</span>conf\ndrwxr<span class=\"token operator\">-</span>x<span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span>   <span class=\"token number\">7</span> root root  <span class=\"token number\">133</span>  <span class=\"token number\">6</span>월 <span class=\"token number\">29</span> <span class=\"token number\">09</span><span class=\"token punctuation\">:</span><span class=\"token number\">39</span> <span class=\"token punctuation\">.</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">147</span> root root <span class=\"token number\">8192</span>  <span class=\"token number\">7</span>월  <span class=\"token number\">7</span> <span class=\"token number\">18</span><span class=\"token punctuation\">:</span><span class=\"token number\">44</span> <span class=\"token range operator\">..</span></code></pre></div>\n<hr>\n<h2 id=\"-firewall-사용-방법\" style=\"position:relative;\"><a href=\"#-firewall-%EC%82%AC%EC%9A%A9-%EB%B0%A9%EB%B2%95\" aria-label=\" firewall 사용 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👍 FireWall 사용 방법</h2>\n<p>포스트에서는 자주 사용하는 명령 위주만 정리했다.  </p>\n<h3 id=\"포트\" style=\"position:relative;\"><a href=\"#%ED%8F%AC%ED%8A%B8\" aria-label=\"포트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>포트</h3>\n<ul>\n<li>포트추가</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># firewall-cmd --permanent --zone=public --add-port=포트</span>\nex<span class=\"token punctuation\">)</span> firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>permanent <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span><span class=\"token keyword\">add</span><span class=\"token operator\">-</span>port<span class=\"token operator\">=</span><span class=\"token number\">80</span><span class=\"token operator\">/</span>tcp\n<span class=\"token preprocessor property\"># firewall-cmd --reload   -- 정책 변경 후 reload 필수!!</span></code></pre></div>\n<br/>\n<ul>\n<li>포트 제거</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># firewall-cmd --permanent --zone=public --remove-port=포트</span>\nex<span class=\"token punctuation\">)</span> firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>permanent <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span><span class=\"token keyword\">remove</span><span class=\"token operator\">-</span>port<span class=\"token operator\">=</span><span class=\"token number\">80</span><span class=\"token operator\">/</span>tcp\n<span class=\"token preprocessor property\"># firewall-cmd --reload</span></code></pre></div>\n<br/>\n<h3 id=\"서비스\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4\" aria-label=\"서비스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서비스</h3>\n<p>서비스에서 사용하는 룰을 적용하려면 아래와 같이 서비스를 추가하면 된다.<br>\n단, 해당 서비스 xml 룰 파일이 <code class=\"language-text\">/usr/lib/firewalld/services</code> 에 있어야 한다.<br>\n그리고 <code class=\"language-text\">/usr/lib/firewalld/services</code> 디렉토리에 있는 서비스 파일들을 수정하려면  /etc/firewalld/services에 복사 후 수정해야 한다.<br>\n(/etc/firewalld/services에 있는 서비스 파일들이 우선 적용되기에 관리상 편리)    </p>\n<ul>\n<li>서비스 추가</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>permanent <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span><span class=\"token keyword\">add</span><span class=\"token operator\">-</span>service<span class=\"token operator\">=</span>서비스\nex<span class=\"token punctuation\">)</span> firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>permanent <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span><span class=\"token keyword\">add</span><span class=\"token operator\">-</span>service<span class=\"token operator\">=</span>http\n<span class=\"token preprocessor property\"># firewall-cmd --reload</span></code></pre></div>\n<ul>\n<li>서비스 제거</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>permanent <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span><span class=\"token keyword\">remove</span><span class=\"token operator\">-</span>service<span class=\"token operator\">=</span>서비스\nex<span class=\"token punctuation\">)</span> firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>permanent <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span><span class=\"token keyword\">remove</span><span class=\"token operator\">-</span>service<span class=\"token operator\">=</span>http\n<span class=\"token preprocessor property\"># firewall-cmd --reload</span></code></pre></div>\n<br/>\n<h3 id=\"임의의-룰-rich-rule\" style=\"position:relative;\"><a href=\"#%EC%9E%84%EC%9D%98%EC%9D%98-%EB%A3%B0-rich-rule\" aria-label=\"임의의 룰 rich rule permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>임의의 룰 (Rich rule)</h3>\n<p>포트, 서비스 룰 이외에 원하는 룰을 임의로 적용할 수 있다. 예를 들면 ip차단이다.</p>\n<ul>\n<li>룰 추가</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># firewall-cmd --permanent --zone=public --add-rich-rule=</span><span class=\"token string\">\"임의의 룰\"</span>\nex<span class=\"token punctuation\">)</span> firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>permanent <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span><span class=\"token keyword\">add</span><span class=\"token operator\">-</span>rich<span class=\"token operator\">-</span>rule<span class=\"token operator\">=</span><span class=\"token string\">\"rulefamily=ipv4 source address=192.168.0.4/24 service name=http accept\"</span>\n<span class=\"token preprocessor property\"># firewall-cmd --reload</span></code></pre></div>\n<ul>\n<li>룰 제거</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># firewall-cmd --permanent --zone=public --remove-rich-rule=</span><span class=\"token string\">\"임의의 룰\"</span>\nex<span class=\"token punctuation\">)</span> firewall<span class=\"token operator\">-</span>cmd <span class=\"token operator\">--</span>permanent <span class=\"token operator\">--</span>zone<span class=\"token operator\">=</span><span class=\"token keyword\">public</span> <span class=\"token operator\">--</span><span class=\"token keyword\">remove</span><span class=\"token operator\">-</span>rich<span class=\"token operator\">-</span>rule<span class=\"token operator\">=</span><span class=\"token string\">\"rulefamily=ipv4 source address=192.168.0.4/24 service name=http accept\"</span>\n<span class=\"token preprocessor property\"># firewall-cmd --reload</span></code></pre></div>\n<br/>\n<h4 id=\"응용-예시---http80번-포트-서비스에서-특정-ip-차단\" style=\"position:relative;\"><a href=\"#%EC%9D%91%EC%9A%A9-%EC%98%88%EC%8B%9C---http80%EB%B2%88-%ED%8F%AC%ED%8A%B8-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%97%90%EC%84%9C-%ED%8A%B9%EC%A0%95-ip-%EC%B0%A8%EB%8B%A8\" aria-label=\"응용 예시   http80번 포트 서비스에서 특정 ip 차단 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>응용 예시 - http(80번 포트) 서비스에서 특정 ip 차단</h4>\n<p>웹서버를 운영하다보면 특정ip(스팸같은)를 차단시키고 싶을 때가 있다.<br>\n그럴경우 아래와 같이 임의의 룰을 활용하면 된다.  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">차단시<span class=\"token punctuation\">)</span>\n<span class=\"token preprocessor property\"># firewall-cmd --permanent --zone=public --add-rich-rule=</span><span class=\"token string\">\"rule family=ipv4 source address=차단ip service name=http reject\"</span>\n차단해제시<span class=\"token punctuation\">)</span>\n<span class=\"token preprocessor property\"># firewall-cmd --permanent --zone=public --remove-rich-rule=</span><span class=\"token string\">\"rule family=ipv4 source address=차단ip service name=http reject\"</span>\n<span class=\"token preprocessor property\"># firewall-cmd --reload</span>\n위 명령을 실행하면 즉시 영구적으로 해당 ip를 웹사이트에 접속하지못하게 차단시킬 수 있다<span class=\"token punctuation\">.</span>\n이 방법은 웹서버 자체에서 ip를 차단시키는 것보다 효과적이다<span class=\"token punctuation\">.</span></code></pre></div>\n<br/>\n<h4 id=\"방화벽-기타-명령어\" style=\"position:relative;\"><a href=\"#%EB%B0%A9%ED%99%94%EB%B2%BD-%EA%B8%B0%ED%83%80-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"방화벽 기타 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>방화벽 기타 명령어</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">-</span> zone <span class=\"token operator\">-</span>\n<span class=\"token operator\">*</span> 사전 정의된 존 목록 출력\n<span class=\"token preprocessor property\"># firewall-cmd --get-zone</span>\n<span class=\"token operator\">*</span> 전체 존 목록을 상세하게 출력\n<span class=\"token preprocessor property\"># firewall-cmd --list-all-zone</span>\n<span class=\"token operator\">*</span> 기존 존 출력\n<span class=\"token preprocessor property\"># firewall-cmd --get-default-zon</span>\n<span class=\"token operator\">*</span> 활성화된 존 출력\n<span class=\"token preprocessor property\"># firewall-cmd --get-active-zon</span>\n<span class=\"token operator\">*</span> <span class=\"token keyword\">public</span> zone에 있는 서비스 목록\n<span class=\"token preprocessor property\"># firewall-cmd --zone=public --list-service</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">-</span> service \n<span class=\"token operator\">*</span> 현재 존재하는 서비스 목록\n<span class=\"token preprocessor property\"># firewall-cmd --get-servic</span>\n<span class=\"token operator\">*</span> permanent 로 등록된 서비스 목록\n<span class=\"token preprocessor property\"># firewall-cmd --permanent --list-al</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">-</span> port \n<span class=\"token operator\">*</span> 허용한 포트 목록\n<span class=\"token preprocessor property\"># firewall-cmd --list-ports</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n<span class=\"token operator\">-</span> other \n<span class=\"token operator\">*</span> 방화벽 상태 확인\n<span class=\"token preprocessor property\"># firewall-cmd --stat</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-firewall-%EC%B9%A8%EC%9E%85%EC%B0%A8%EB%8B%A8%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%9E%80\">✔ FIREWALL (침입차단시스템) 란?</a></li>\n<li><a href=\"#-firewall-%EA%B5%AC%EB%8F%99%EB%B0%A9%EC%8B%9D\">✨ firewall 구동방식</a></li>\n<li>\n<p><a href=\"#-%EA%B4%80%EB%A0%A8-%EB%B3%B4%EC%95%88-%EC%8B%9C%EC%8A%A4%ED%85%9C\">😂 관련 보안 시스템</a></p>\n<ul>\n<li><a href=\"#%EC%B9%A8%EC%9E%85%EC%B0%A8%EB%8B%A8%EC%8B%9C%EC%8A%A4%ED%85%9Cfw\">침입차단시스템(FW)</a></li>\n<li><a href=\"#%EC%B9%A8%EC%9E%85%ED%83%90%EC%A7%80%EC%8B%9C%EC%8A%A4%ED%85%9Cids\">침입탐지시스템(IDS)</a></li>\n<li><a href=\"#%EC%B9%A8%EC%9E%85%EB%B0%A9%EC%A7%80%EC%8B%9C%EC%8A%A4%ED%85%9Cips---%EB%8F%99%EC%9E%91-%EC%A0%84%EC%97%90-%ED%83%90%EC%A7%80-%EC%A6%89%EC%8B%9C-%EB%B0%98%EC%9D%91--inline\">침입방지시스템(IPS) - 동작 전에 탐지 즉시 반응 , (inline)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-firewall-%EC%8B%9C%EC%8A%A4%ED%85%9C-%ED%99%95%EC%9D%B8\">👏 FireWall 시스템 확인</a></p>\n<ul>\n<li><a href=\"#usrlibfirewalld--%EA%B8%B0%EB%B3%B8-%EA%B5%AC%EC%84%B1-%EA%B4%80%EB%A0%A8-%ED%8C%8C%EC%9D%BC\">/usr/lib/firewalld : 기본 구성 관련 파일</a></li>\n<li><a href=\"#etcfirewalld--%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC-%EA%B7%9C%EC%B9%99-%ED%8C%8C%EC%9D%BC\">/etc/firewalld : 설정 파일, 규칙 파일</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-firewall-%EC%82%AC%EC%9A%A9-%EB%B0%A9%EB%B2%95\">👍 FireWall 사용 방법</a></p>\n<ul>\n<li><a href=\"#%ED%8F%AC%ED%8A%B8\">포트</a></li>\n<li><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4\">서비스</a></li>\n<li>\n<p><a href=\"#%EC%9E%84%EC%9D%98%EC%9D%98-%EB%A3%B0-rich-rule\">임의의 룰 (Rich rule)</a></p>\n<ul>\n<li><a href=\"#%EC%9D%91%EC%9A%A9-%EC%98%88%EC%8B%9C---http80%EB%B2%88-%ED%8F%AC%ED%8A%B8-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%97%90%EC%84%9C-%ED%8A%B9%EC%A0%95-ip-%EC%B0%A8%EB%8B%A8\">응용 예시 - http(80번 포트) 서비스에서 특정 ip 차단</a></li>\n<li><a href=\"#%EB%B0%A9%ED%99%94%EB%B2%BD-%EA%B8%B0%ED%83%80-%EB%AA%85%EB%A0%B9%EC%96%B4\">방화벽 기타 명령어</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 23, 2021","title":"[LINUX] - Firewall","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-firewall/"}},"prev":{"id":"bd163128-e0c1-5954-9d41-6fe0196f9cb0","html":"<p>머리말  </p>\n<p>Centos Version이 7로 올라감에 따라 새롭게 기능이 추가된 것 중 하나 입니다.<br>\n실제로 바이너리 로그등을 확인하고, 분석하는데 불편함이 많았었는데 JOUNALCTL은 사용자의 편리함을 제공하는 것 같습니다.  </p>\n<hr>\n<h2 id=\"-syslog-란\" style=\"position:relative;\"><a href=\"#-syslog-%EB%9E%80\" aria-label=\" syslog 란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ SYSLOG 란?</h2>\n<p>기존의 SYSLOG에서는 운영로그, 설치로그, 보안로그 등을 (바이너리,텍스트) 파일의 형태로 남겼었습니다.<br>\n그렇지만 RSYSLOG는 journalD이 추가되며 원시적 로그 파일도 남기게 되면서<br>\n시스템 동작, 운영 로그들을 메모리에 Journal 로그(바이너리)로 생성합니다.  </p>\n<p>커널 및 응용 프로그램이 syslog API를 통해 로그 생성시 (r)syslogd 프로세스가 <code class=\"language-text\">(r)syslog.conf</code> 설정 파일을 참조하여<br>\n지정한 로그 파일을 콘솔 또는 외부 서버 등에 로그를 기록하게 됩니다.</p>\n<br/>\n<ul>\n<li>\n<p>로그 관리 데몬</p>\n<ul>\n<li>systemd-journald : 부팅이 시작 되는 순간부터 로그 수집</li>\n<li>이후 rsyslogd로 syslog를 전달하여 각 파일 별로 로그를 저장함</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>리눅스 로그파일 종류</p>\n<ul>\n<li>/var/log/messages : 리눅스 시스템의 전반적인 메세지를 저장</li>\n<li>/var/log/dmesg : 리눅스가 부팅될 때 출력되는 메세지를 저장<br>\n[dmesg 명령어로 확인 가능]</li>\n<li>/var/log/secure : 사용자들의 원격 접속 정보들 저장함</li>\n<li>그 외 로그파일 : /var/log/ 경로에 존재. </li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-rsyslogd\" style=\"position:relative;\"><a href=\"#-rsyslogd\" aria-label=\" rsyslogd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👌 rsyslogd</h2>\n<br/>\n<ul>\n<li>\n<p>syslog를 사용하여 로그를 저장하는 프로세스</p>\n<ul>\n<li>/etc/rsyslog.conf 파일을 사용하여 로그의 종류 및 우선순위 설정<br>\n수신한 로그를 /var/log로 전달함</li>\n<li>rsyslog.conf 변경 후 명령어<br>\nlogger –p authpriv.emerg “hello” 와 같은 형태로 확인 가능</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>설정 파일</p>\n<p>/etc/(r)syslog.conf 파일은 시스템 로그 데몬이 실행될 때 참조되는<br>\n로그 설정 파일로서 어떤 로그를 어디에 남길지 로그 저장 규칙이 정의되어 있다.  </p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>포맷</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">facility<span class=\"token punctuation\">.</span>priority<span class=\"token punctuation\">;</span> facility<span class=\"token punctuation\">.</span>priority<span class=\"token punctuation\">;</span> facility<span class=\"token punctuation\">.</span>priority<span class=\"token punctuation\">;</span> ··· ···   <span class=\"token function\">action</span><span class=\"token punctuation\">(</span>logfile<span class=\"token operator\">-</span>location<span class=\"token punctuation\">)</span>\n     A   <span class=\"token punctuation\">.</span>   B          A   <span class=\"token punctuation\">.</span>   B         A   <span class=\"token punctuation\">.</span>   B                     C</code></pre></div>\n<ul>\n<li>A : 서비스(데몬) 설정</li>\n<li>B : 로그 레벨 이상의 상황이 발생한 경우를 설정</li>\n<li>C : (파일, 콘솔, 외부서버 등)으로 로그를 남기라는 의미</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"facility--로그-생성-서비스\" style=\"position:relative;\"><a href=\"#facility--%EB%A1%9C%EA%B7%B8-%EC%83%9D%EC%84%B1-%EC%84%9C%EB%B9%84%EC%8A%A4\" aria-label=\"facility  로그 생성 서비스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>facility : 로그 생성 서비스</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">ㆍ <span class=\"token operator\">*</span> <span class=\"token punctuation\">:</span>  모든 서비스\nㆍauthpriv <span class=\"token punctuation\">:</span> 인증 및 보안 관련 메시지  \nㆍcron <span class=\"token punctuation\">:</span> cron 데몬과 atd데몬에 의해 발생되는 메시지\nㆍdaemon <span class=\"token punctuation\">:</span> telnet<span class=\"token punctuation\">,</span> ftp 등과 같은 데몬에 의한 메시지\nㆍkern <span class=\"token punctuation\">:</span> kernel에 의한 메시지\nㆍlpr <span class=\"token punctuation\">:</span> 프린터 데몬인 lpd에 의해 발생되는 메시지\nㆍmail <span class=\"token punctuation\">:</span> sendmail<span class=\"token punctuation\">,</span> pop<span class=\"token punctuation\">,</span> qmail 등의 메일 시스템에서 발생되는 메시지\nㆍnews <span class=\"token punctuation\">:</span> USENET 등과 같은 뉴스시스템에 의해 발생되는 메시지\nㆍuser <span class=\"token punctuation\">:</span> 사용자에 의해 생성된 프로세스\nㆍsyslog <span class=\"token punctuation\">:</span> syslogd에 의해 발생되는 메시지\nㆍlocal0 <span class=\"token operator\">~</span> local7 <span class=\"token punctuation\">:</span> 시스템 부팅 메시지 기록<span class=\"token punctuation\">,</span> 기타 여분 서비스에 사용하기 위함</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"priority--로그-수준level\" style=\"position:relative;\"><a href=\"#priority--%EB%A1%9C%EA%B7%B8-%EC%88%98%EC%A4%80level\" aria-label=\"priority  로그 수준level permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>priority : 로그 수준(Level)</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">    높음    \n     ㆍ         emerg <span class=\"token punctuation\">:</span> 시스템이 전면 중단되는 패닉상태 전체 공지가 필요한 상황 <span class=\"token punctuation\">(</span>system <span class=\"token keyword\">is</span> <span class=\"token class-name\">unusable</span><span class=\"token punctuation\">)</span>\n     ㆍ         alert <span class=\"token punctuation\">:</span> 즉각적인 조치가 필요한 상황 <span class=\"token punctuation\">(</span>action must be <span class=\"token class-name\">taken</span> immediately<span class=\"token punctuation\">)</span>\n     ㆍ         crit  <span class=\"token punctuation\">:</span> 하드웨어 등의 심각한 오류가 발생한 상황 <span class=\"token punctuation\">(</span><span class=\"token class-name\">critical</span> condition<span class=\"token punctuation\">)</span>\n    중간        err   <span class=\"token punctuation\">:</span> 일반적인 에러<span class=\"token operator\">/</span>오류가 발생한 상황\n     ㆍ         warning  <span class=\"token punctuation\">:</span> 경고 메시지\n     ㆍ         notice <span class=\"token punctuation\">:</span> 에러<span class=\"token operator\">/</span>오류는 아니지만 관리자의 조치가 필요한 상황\n     ㆍ         info  <span class=\"token punctuation\">:</span> 의미 있는 정보 관련 메시지\n     ㆍ         debug <span class=\"token punctuation\">:</span> 디버깅용 메시지\n    낮음          </code></pre></div>\n<ul>\n<li>facility에 로그 수준을 지정하게 되면 해당 수준이상의 상황이 발생했을 때 로그가 남게 된다.  </li>\n<li>(r)syslog.conf에 로그 수준을 ” * ” 로 지정하면  모든 로그 수준의 로그를 남기겠다는 의미이며<br>\n“none”으로 설정하면 어떠한 경우라도 로그를 남기지 않겠다는 의미이다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"action\" style=\"position:relative;\"><a href=\"#action\" aria-label=\"action permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>action</h3>\n<p>로그를 어디에 남길 것인지를 결정한다. 로그 파일, 콘솔, 원격 로그 서버, 특정 사용자 등에 로그를 남길 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">ㆍ로그 파일 <span class=\"token punctuation\">:</span> 파일명<span class=\"token punctuation\">(</span>경로<span class=\"token punctuation\">)</span> 지정 ex<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>messages\nㆍ콘솔 <span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>console로 지정 시 콘솔 출력\nㆍ원격 로그 서버 <span class=\"token punctuation\">:</span> <span class=\"token string\">\"@호스트 주소\"</span>를 통해 지정한 호스트로 로그를 보낸다 ex<span class=\"token punctuation\">)</span> @<span class=\"token number\">192.168</span><span class=\"token number\">.56</span><span class=\"token number\">.3</span>\nㆍuser <span class=\"token punctuation\">:</span> 지정된 사용자의 스크린으로 메시지를 보낸다\nㆍ<span class=\"token operator\">*</span> <span class=\"token punctuation\">:</span> 현재 로그인 되어있는 모든 사용자의 스크린으로 메시지를 보낸다 </code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"resysconf-설정-예시\" style=\"position:relative;\"><a href=\"#resysconf-%EC%84%A4%EC%A0%95-%EC%98%88%EC%8B%9C\" aria-label=\"resysconf 설정 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>resys.conf 설정 예시</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">보안 및 승인에 관한 메세지 중에서 모든 경우를 <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>secure 에 보낸다<span class=\"token punctuation\">.</span>\nauthpriv<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span>    <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>secure\n\n모든 상황에서 발생하는 메세지 중 info 수준<span class=\"token punctuation\">(</span>통계 및 기본정보<span class=\"token punctuation\">)</span> 이상인 경우를 \n<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>messages에 보낸다<span class=\"token punctuation\">.</span> 단<span class=\"token punctuation\">,</span> mail 관련 메세지는 제외한다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">;</span>mail<span class=\"token punctuation\">.</span>none    <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>messages\n\n모든 상황에서 발생하는 메세지 중에서 info 수준<span class=\"token punctuation\">(</span>통계 및 기본정보<span class=\"token punctuation\">)</span> 인 경우를\n<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>hihi에 보낸다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">*</span><span class=\"token punctuation\">.</span><span class=\"token operator\">=</span>info    <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>hihi                                                 \n\nmail 관련된 메세지 중에서 info 수준의 메세지를 제외하여 <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>maillog에 기록한다<span class=\"token punctuation\">.</span>\nmail<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span>mail<span class=\"token punctuation\">.</span><span class=\"token operator\">!=</span>info    <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>maillog</code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-logroate\" style=\"position:relative;\"><a href=\"#-logroate\" aria-label=\" logroate permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🐱‍🏍 logroate</h2>\n<p>리눅스를 운용 할 때 로그를 보고 서버의 상태 혹은 장애를 대비합니다. 대부분의 모든 로그를 남기도록 설정하면 로그 파일의 양은<br>\n시간이 지남에 따라 엄청난 크기로 커져 엄청난 크기로 커지기 전 로그들을 관리하도록 설정하는 기능이 logrotate 입니다.</p>\n<ul>\n<li>\n<p>Config file path</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">-</span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>logrotate<span class=\"token punctuation\">.</span>conf</code></pre></div>\n</li>\n<li>\n<p>config 파일 설명</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">see <span class=\"token string\">\"man logrotate\"</span> <span class=\"token keyword\">for</span> details\nrotate log files weekly\nweekly               <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">[</span>로그파일 순환 기간 설정 <span class=\"token punctuation\">(</span>daily<span class=\"token punctuation\">,</span> weekly<span class=\"token range operator\">..</span><span class=\"token range operator\">..</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token preprocessor property\"># keep 4 weeks worth of backlogs</span>\nrotate <span class=\"token number\">4</span>             <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">[</span>순환된 로그파일 보관 기간<span class=\"token punctuation\">,</span> 순환기간<span class=\"token punctuation\">]</span>\n<span class=\"token preprocessor property\"># create new (empty) log files after rotating old ones</span>\ncreate               <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">[</span>순환 후 새 로그파일 생성 여부<span class=\"token punctuation\">]</span>\n\n<span class=\"token preprocessor property\"># use date as a suffix of the rotated file</span>\ndateext            <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">[</span>순환된 파일의 파일명 변경 옵션<span class=\"token punctuation\">]</span>\n<span class=\"token preprocessor property\"># uncomment this if you want your log files compressed</span>\n<span class=\"token preprocessor property\">#compress          ---[파일의 압축 옵션]</span>\n<span class=\"token preprocessor property\"># RPM packages drop log rotation information into this directory</span>\ninclude <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>logrotate<span class=\"token punctuation\">.</span>d   <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">[</span>로그 순환에 대한 추가 설정 파일<span class=\"token punctuation\">]</span>\n<span class=\"token preprocessor property\"># no packages own wtmp and btmp -- we'll rotate them here</span>\n<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>wtmp <span class=\"token punctuation\">{</span>\n    monthly\ncreate <span class=\"token number\">0664</span> root utmp\nminsize <span class=\"token number\">1M</span>\nrotate <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span>                       <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">[</span>사용자의 로그인<span class=\"token operator\">/</span>로그아웃 정보를 저장하는wtmp\n\n로그 설정<span class=\"token punctuation\">]</span>\n<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>log<span class=\"token operator\">/</span>btmp <span class=\"token punctuation\">{</span>\n    \t missingok\n\tmonthly\n\tcreate <span class=\"token number\">0600</span> root utmp\n\trotate <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span>                       <span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token punctuation\">[</span>로그인 실패 기록을 저장하는 btmp 로그설정<span class=\"token punctuation\">]</span>\n<span class=\"token preprocessor property\"># system-specific logs may be also be configured here.</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"cron등록\" style=\"position:relative;\"><a href=\"#cron%EB%93%B1%EB%A1%9D\" aria-label=\"cron등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cron등록</h3>\n<ul>\n<li>\n<p>syslog의 순환로그는 /etc/cron.daily/logrotate 파일에 정의되어<br>\ncrontab에서 실행되고 있다.  </p>\n<ul>\n<li>로테이션을 위해 생성한 /data/logs/won_logrotate 파일을 /etc/logrotate.d/ 하위에 두면 같이 로테이션 됩니다.</li>\n<li>또는 해당 원하는 시간에  crontab에 추가하여 별도 관리하여도 된다.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"예시\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%8B%9C\" aria-label=\"예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예시</h3>\n<p>1일치 로그로 관리하기 위하여 0시에 순환되도록 아래와 같이 설정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ sudo crontab <span class=\"token operator\">-</span>e\n\n<span class=\"token number\">0</span> <span class=\"token number\">0</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">*</span> <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>sbin<span class=\"token operator\">/</span>logrotate <span class=\"token operator\">-</span>f <span class=\"token operator\">/</span>data<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>test_logrotate</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>won_logrotate 파일</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">ex<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span>data<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>won_logrotate\n\n<span class=\"token operator\">/</span>data<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>test<span class=\"token punctuation\">.</span>log\n<span class=\"token operator\">/</span>data<span class=\"token operator\">/</span>logs<span class=\"token operator\">/</span>app<span class=\"token punctuation\">.</span>log\n\n<span class=\"token preprocessor property\"># 또는 /data/logs</span><span class=\"token comment\">/*.log 로 사용\n\n{\nrotate 7\ndaily\nmissingok\nnotifempty\ndate\ndateyesterday\n}</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>logroate 실행 순서\n<img src=\"https://t1.daumcdn.net/cfile/tistory/99FEF73E5C986CD310\"></li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-systemd-journald-프로세스\" style=\"position:relative;\"><a href=\"#-systemd-journald-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\" aria-label=\" systemd journald 프로세스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ systemd-journald 프로세스</h2>\n<ul>\n<li>시스템 부팅 시부터 발생하는 모든 이벤트를 수집해서 바이너리 형태의 저널 데이터로 저장</li>\n<li>바이너리 파일이라서 cat으로 읽을 수 없고*journalctl 명령을 이용함</li>\n<li>저널 데이터는 /run/log/journal에 위치하여 재부팅 시 데이터가 삭제됨</li>\n<li>\n<p>journal을 영구적으로 저장하는 방법</p>\n<p>① 저장할 디렉토리 만들기 (보통은 /var/log/journal)</p>\n<p>② chown root:systemd-journal /var/log/journal ← 사용자와 그룹 권한을 설정</p>\n<p>③ chmod g+s /var/log/journal/ ← setgid 권한 설정</p>\n<p>④ systemctl restart systemd-journald ← 재시작</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>journalctl 명령어</p>\n<p><img src=\"https://user-images.githubusercontent.com/64260883/87617267-0eeed400-c752-11ea-9f4a-0030897b19fa.png\" alt=\"스크린샷, 2020-07-16 10-48-21\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>SYSLOG VS Journal  </p>\n<p><img src=\"https://user-images.githubusercontent.com/64260883/87632698-e1ffe880-c774-11ea-96c0-51865855e540.png\" alt=\"스크린샷, 2020-07-16 14-57-56\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>로그 관련 디렉토리들의 역할<br>\n대부분의 리눅스 사용자들은 /var/ 경로는 로그의 저장용도로만 사용하는 줄 알고있다.<br>\n/var/ 디렉토리는 로그 저장을 기본으로 하되 SPOOL 기능의 역할도 같이 수행한다.</p>\n<ul>\n<li>\n<p>/var 역할</p>\n<ol>\n<li>로그 저장</li>\n<li>SPOOL </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>spool<span class=\"token operator\">/</span>mail<span class=\"token operator\">/</span>\n\n각 계정사용자들의 메일파일이 저장되는 디렉토리<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>spool<span class=\"token operator\">/</span>lpd<span class=\"token operator\">/</span>\n\n프린트를 하기 위한 임시 디렉토리<span class=\"token punctuation\">(</span>스풀링 디렉토리<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>spool<span class=\"token operator\">/</span>mqueue<span class=\"token operator\">/</span>\n\n발송을 위한 메일 일시저장 디렉토리<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>spool<span class=\"token operator\">/</span>cron<span class=\"token operator\">/</span>\n\n각 사용자들의 cron 설정파일들이 저장된 디렉토리<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>spool<span class=\"token operator\">/</span>at<span class=\"token operator\">/</span>\n\natd 즉<span class=\"token punctuation\">,</span> 예약작업에 관한 파일들이 저장되는 디렉토리<span class=\"token punctuation\">.</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-syslog-%EB%9E%80\">✔ SYSLOG 란?</a></li>\n<li><a href=\"#-rsyslogd\">👌 rsyslogd</a></li>\n<li><a href=\"#-logroate\">🐱‍🏍 logroate</a></li>\n<li><a href=\"#-systemd-journald-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\">✌ systemd-journald 프로세스</a></li>\n</ul>\n</div>","frontmatter":{"date":"June 23, 2021","title":"[LINUX] - SYSLOGD","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-syslogd/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/linux-package/","nextSlug":"/linux-firewall/","prevSlug":"/linux-syslogd/"}},"staticQueryHashes":["1073350324","2938748437"]}