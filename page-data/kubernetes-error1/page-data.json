{"componentChunkName":"component---src-templates-blog-template-js","path":"/kubernetes-error1/","result":{"data":{"cur":{"id":"b10caab8-cb55-5a70-84d6-bbb3cda063ef","html":"<h2 id=\"-ë°œìƒ-ì—ëŸ¬\" style=\"position:relative;\"><a href=\"#-%EB%B0%9C%EC%83%9D-%EC%97%90%EB%9F%AC\" aria-label=\" ë°œìƒ ì—ëŸ¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” ë°œìƒ ì—ëŸ¬</h2>\n<p>ìƒí™© : kubesprayë¡œ <code class=\"language-text\">ansible-playbook</code> ëª…ë ¹ì–´ êµ¬ë™ ì¤‘ â€œassertion: groups.etcd | length is not divisibleby 2â€ ì—ëŸ¬ ë°œìƒâ€</p>\n<br/>\n<ul>\n<li>\n<p>kubesprayë¡œ <code class=\"language-text\">ansible-playbook</code> ëª…ë ¹ì–´ ì§„í–‰ ì‹œ <code class=\"language-text\">\"assertion: groups.etcd | length is not divisibleby 2\"</code> ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90841029-8db0df80-e396-11ea-9580-2521ddd039ff.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-08-21 10-10-28\"></p>\n<p>ìº¡ì³ ì´ë¯¸ì§€ë¥¼ ë³´ë©´ íŠ¹ì •ë…¸ë“œëŠ” ì„±ê³µí–ˆëŠ”ë° íŠ¹ì •ë…¸ë“œëŠ” ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-ì›ì¸\" style=\"position:relative;\"><a href=\"#-%EC%9B%90%EC%9D%B8\" aria-label=\" ì›ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœŒ ì›ì¸</h2>\n<ul>\n<li>\n<p>í•´ë‹¹ ì—ëŸ¬ëŠ” ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ <code class=\"language-text\">inventory.ini</code> íŒŒì¼ì— ì§€ì •í•œ <code class=\"language-text\">etcd</code>ê°€ <code class=\"language-text\">ì§ìˆ˜</code>ì¸ ê²½ìš°ì— ë°œìƒí•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90841122-d10b4e00-e396-11ea-9848-425e4215a799.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-08-21 10-12-18\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>kubespray/roles/kubernetes/preinstall/tasks/0020-verify-settings.yml ì½”ë“œ í™•ì¸</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90841237-25aec900-e397-11ea-9519-93ec3550d18a.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-08-21 10-14-45\"></p>\n<p>í•´ë‹¹ ì½”ë“œê°€ <code class=\"language-text\">etcd</code>ì˜ ê°¯ìˆ˜ê°€ ì§ìˆ˜ì¼ ê²½ìš°ì— ì—ëŸ¬ë¥¼ í‘œì¶œí•©ë‹ˆë‹¤</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"í•´ê²°\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0\" aria-label=\"í•´ê²° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘í•´ê²°</h2>\n<ul>\n<li>\n<p>ë¬¸ì œí•´ê²°í•˜ê¸° ìœ„í•´ì„  <code class=\"language-text\">etcdë¥¼ í™€ìˆ˜</code>ë¡œ ì„¤ì •í•˜ê±°ë‚˜ <code class=\"language-text\">-e ignore_assert_errors=yes</code> ì˜µì…˜ì„ ì¶”ê°€í•˜ì—¬ í•´ê²° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># ex\nansible-playbook -i kubespray/inventory/cluster/inventory.ini \\\n-v --become --become-user=root kubespray/cluster.yml -e ignore_assert_errors=yes</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>ì €ê°™ì€ ê²½ìš° í…ŒìŠ¤íŠ¸ìš©ì´ë¼ì„œ íŠ¹ì • ë…¸ë“œë¥¼ <code class=\"language-text\">etcd</code>ë¡œ í•˜ë‚˜ ì¶”ê°€í•´ í•´ê²° í›„ ì„¤ì¹˜ê¹Œì§€ í™•ì¸ í–ˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<br/>\n<ul>\n<li><code class=\"language-text\">ì„¤ì •íŒŒì¼</code>\n<img src=\"https://user-images.githubusercontent.com/69498804/90841465-b7b6d180-e397-11ea-9c8b-a129f1e9b5ce.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-08-21 10-18-49\"></li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90844636-5692fc00-e39f-11ea-9bce-2d1bea280a1c.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-08-21 11-11-23\">\n<code class=\"language-text\">skipped</code>ì´ ë§ê¸´í•˜ì§€ë§Œ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë©° ì„¤ì¹˜ë¥¼ í•´ì„œ ìƒê´€ì—†ìŠµë‹ˆë‹¤</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">root ê¶Œí•œ</code>ìœ¼ë¡œ <code class=\"language-text\">ë…¸ë“œ ì •ë³´</code>ë¥¼ ì •ìƒì ìœ¼ë¡œ ë°›ì•„ì˜´ì„ í™•ì¸í•©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90846161-91e2fa00-e3a2-11ea-86e4-cbaf96a90258.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-08-21 11-36-30\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"ê¶Œì¥\" style=\"position:relative;\"><a href=\"#%EA%B6%8C%EC%9E%A5\" aria-label=\"ê¶Œì¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘ê¶Œì¥</h2>\n<h3 id=\"etcdëŠ”-í™€ìˆ˜ë¡œ-ì‚¬ìš©í•˜ëŠ”ê²ƒì„-ê¶Œì¥-í•©ë‹ˆë‹¤\" style=\"position:relative;\"><a href=\"#etcd%EB%8A%94-%ED%99%80%EC%88%98%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94%EA%B2%83%EC%9D%84-%EA%B6%8C%EC%9E%A5-%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"etcdëŠ” í™€ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ”ê²ƒì„ ê¶Œì¥ í•©ë‹ˆë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>etcdëŠ” í™€ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ”ê²ƒì„ ê¶Œì¥ í•©ë‹ˆë‹¤.</h3>\n<p>ì§ìˆ˜ë¡œ ì‚¬ìš©í•  ê²½ìš° <code class=\"language-text\">ìŠ¤í”Œë¦¿ ë¸Œë ˆì¸(Split Brain)</code> í˜„ìƒì´ ë°œìƒí•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ë‹¨ì ˆë¡œ ì¸í•œ í†µì‹  ì¥ì•  ë“± ë¬¸ì œê°€ ë°œìƒ í•  ì—¬ì§€ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.<br>\nì´ëŸ¬í•œ ì´ìœ ë¡œ ì‹¤ì œ ì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œëŠ” etcd í´ëŸ¬ìŠ¤í„°ë¥¼ í™€ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">ìŠ¤í”Œë¦¿ ë¸Œë ˆì¸(Split Brain)</code></p>\n<p>ì¼ë°˜ì ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë¡œ êµ¬ì„±ëœ ë‘ ì‹œìŠ¤í…œ ê·¸ë£¹ê°„ ë„¤íŠ¸ì›Œí¬ì˜ ì¼ì‹œì  ë™ì‹œ ë‹¨ì ˆí˜„ìƒì´ ë°œìƒ ì‹œ ë‚˜íƒ€ë‚˜ëŠ” í˜„ìƒ.</p>\n<p>í´ëŸ¬ìŠ¤í„° ìƒì˜ ëª¨ë“  ë…¸ë“œë“¤ì€ ë…¸ë“œ ê°ìê°€ ìì‹ ì„ <code class=\"language-text\">primary</code>ë¼ê³  ì¸ì‹í•˜ê²Œ ë˜ëŠ” ìƒí™©ì„ ë§í•©ë‹ˆë‹¤.<br>\nì¦‰, ì–´ëŠ íŠ¹ì • ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ë‘ ì‹œìŠ¤í…œ ê·¸ë£¹ ê°„ì˜ ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì´ ë™ì‹œì— ì‹¤íŒ¨í•˜ë©´ ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜ì´ ë°œìƒí•©ë‹ˆë‹¤.<br>\nì´ëŸ¬í•œ ìƒíƒœê°€ ë°œìƒí•˜ë©´ íŒŒí‹°ì…˜ ì–‘ìª½ì˜ ì‹œìŠ¤í…œì´ ê°ê° ë°˜ëŒ€ìª½ì—ì„œ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ì¬ì‹œì‘í•˜ì—¬<br>\n<code class=\"language-text\">ì¤‘ë³µ ì„œë¹„ìŠ¤ ë˜ëŠ” \"ìŠ¤í”Œë¦¿ ë¸Œë ˆì¸(split-brain)\"</code>ì„ ìœ ë°œí•©ë‹ˆë‹¤.  </p>\n<p><code class=\"language-text\">ìŠ¤í”Œë¦¿ ë¸Œë ˆì¸(split-brain)</code>ì€ í´ëŸ¬ìŠ¤í„°ë¡œ êµ¬ì„±ëœ ë…ë¦½ì ì¸ ë‘ ì‹œìŠ¤í…œì´<br>\n<code class=\"language-text\">íŠ¹ì • ë¦¬ì†ŒìŠ¤(ì¼ë°˜ì ìœ¼ë¡œ íŒŒì¼ ì‹œìŠ¤í…œ ë˜ëŠ” ë³¼ë¥¨)</code>ì— ëŒ€í•œ <code class=\"language-text\">ë°°íƒ€ì  ì•¡ì„¸ìŠ¤</code> ê¶Œí•œì´ ìˆë‹¤ê³  ê°€ì •í•  ê²½ìš°ì— ë°œìƒí•©ë‹ˆë‹¤.  </p>\n<p>ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ê°€ì¥ ì‹¬ê°í•œ ë¬¸ì œëŠ” <code class=\"language-text\">ê³µìœ  ë””ìŠ¤í¬ì˜ ë°ì´í„°</code>ì— <code class=\"language-text\">ì˜í–¥</code>ì„ ì¤€ë‹¤ëŠ” ì ì…ë‹ˆë‹¤.</p>\n</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%EB%B0%9C%EC%83%9D-%EC%97%90%EB%9F%AC\">âœ” ë°œìƒ ì—ëŸ¬</a></li>\n<li><a href=\"#-%EC%9B%90%EC%9D%B8\">âœŒ ì›ì¸</a></li>\n<li><a href=\"#%ED%95%B4%EA%B2%B0\">ğŸ‘í•´ê²°</a></li>\n<li>\n<p><a href=\"#%EA%B6%8C%EC%9E%A5\">ğŸ‘ê¶Œì¥</a></p>\n<ul>\n<li><a href=\"#etcd%EB%8A%94-%ED%99%80%EC%88%98%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94%EA%B2%83%EC%9D%84-%EA%B6%8C%EC%9E%A5-%ED%95%A9%EB%8B%88%EB%8B%A4\">etcdëŠ” í™€ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ”ê²ƒì„ ê¶Œì¥ í•©ë‹ˆë‹¤.</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"âœ” ë°œìƒ ì—ëŸ¬ ìƒí™© : kubesprayë¡œ  ëª…ë ¹ì–´ êµ¬ë™ ì¤‘ â€œassertion: groups.etcd | length is not divisibleby 2â€ ì—ëŸ¬ ë°œìƒâ€ kubesprayë¡œ  ëª…ë ¹ì–´ ì§„í–‰ ì‹œ  ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŠ¤í¬ë¦°ìƒ·, 2020-08-21 10-10-28 ìº¡ì³ ì´ë¯¸ì§€ë¥¼ ë³´ë©´ íŠ¹ì •ë…¸ë“œëŠ” ì„±ê³µí–ˆëŠ”ë° íŠ¹ì •ë…¸ë“œëŠ” ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ âœŒ ì›ì¸ í•´ë‹¹ ì—ëŸ¬ëŠ” ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´  íŒŒì¼ì— ì§€ì •í•œ ê°€ ì¸ ê²½ìš°ì— ë°œìƒí•©ë‹ˆë‹¤. ìŠ¤í¬ë¦°ìƒ·, 2020-08-21 10-12-18 kubespray/roles/kubernetes/preinstall/tasks/0020-verify-settings.yml ì½”ë“œ í™•ì¸ ìŠ¤í¬ë¦°ìƒ·,â€¦","frontmatter":{"date":"June 29, 2021","title":"[Error Report] - length is not divisibleby 2","categories":"Kubernetes Error-Report","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/kubernetes-error1/"}},"next":{"id":"02ef2350-d7b7-5949-8669-9c9f4ed8580e","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œëŠ” kubespay ìë™í™” íˆ´ì„ ì‚¬ìš©í•´ì„œ K8S í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì¶• í–ˆì—ˆìŠµë‹ˆë‹¤.<br>\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” kubeadmì„ ì´ìš©í•´ì„œ K8S í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ í¬ìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.  </p>\n<hr>\n<h2 id=\"-ì‚¬ì „ì¤€ë¹„\" style=\"position:relative;\"><a href=\"#-%EC%82%AC%EC%A0%84%EC%A4%80%EB%B9%84\" aria-label=\" ì‚¬ì „ì¤€ë¹„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” ì‚¬ì „ì¤€ë¹„</h2>\n<p>ì‚¬ì „ ì¤€ë¹„ì˜ ê²½ìš° kubesprayì™€ ë™ì¼í•˜ê²Œ GCP VM Instanceì—ì„œ êµ¬ì„±í–ˆê¸° ë•Œë¬¸ì— ë°©ë²•ì´ ë™ì¼í•©ë‹ˆë‹¤.<br>\nì‚¬ì „ ì¤€ë¹„ëŠ” <a href=\"https://nasa1515.tech/kubetnetes-kubespary/\">ì´ì „ í¬ìŠ¤íŠ¸</a>ì¸ kubesprayë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</p>\n<br/>\n<hr>\n<h2 id=\"-ì¿ ë²„ë„¤í‹°ìŠ¤--ì„¤ì¹˜í•˜ê¸°-kubeadm\" style=\"position:relative;\"><a href=\"#-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4--%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0-kubeadm\" aria-label=\" ì¿ ë²„ë„¤í‹°ìŠ¤  ì„¤ì¹˜í•˜ê¸° kubeadm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœŒ ì¿ ë²„ë„¤í‹°ìŠ¤  ì„¤ì¹˜í•˜ê¸° [kubeadm]</h2>\n<p>ë³¸ê²©ì ì¸ ì„¤ì¹˜ ê³¼ì •ì…ë‹ˆë‹¤.\n<code class=\"language-text\">Kubeadm</code>ì€ <code class=\"language-text\">Kubelet</code> ê³¼ <code class=\"language-text\">Kubectl</code> ì„ <code class=\"language-text\">ì„¤ì¹˜í•˜ì§€ ì•Šê¸°</code> ë•Œë¬¸ì— ì§ì ‘ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.  </p>\n<br/>\n<p>ì „ì²´ Serverì— ì•„ë˜ <code class=\"language-text\">Repo</code>ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">cat <span class=\"token operator\">&lt;&lt;</span>EOF <span class=\"token operator\">></span> <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>yum<span class=\"token punctuation\">.</span>repos<span class=\"token punctuation\">.</span>d<span class=\"token operator\">/</span>kubernetes<span class=\"token punctuation\">.</span>repo\n<span class=\"token punctuation\">[</span>kubernetes<span class=\"token punctuation\">]</span>\nname<span class=\"token operator\">=</span><span class=\"token class-name\">Kubernetes</span>\nbaseurl<span class=\"token operator\">=</span>https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>packages<span class=\"token punctuation\">.</span>cloud<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>yum<span class=\"token operator\">/</span>repos<span class=\"token operator\">/</span>kubernetes<span class=\"token operator\">-</span>el7<span class=\"token operator\">-</span><span class=\"token class-name\">x86_64</span>\nenabled<span class=\"token operator\">=</span><span class=\"token number\">1</span>\ngpgcheck<span class=\"token operator\">=</span><span class=\"token number\">1</span>\nrepo_gpgcheck<span class=\"token operator\">=</span><span class=\"token number\">1</span>\ngpgkey<span class=\"token operator\">=</span>https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>packages<span class=\"token punctuation\">.</span>cloud<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>yum<span class=\"token operator\">/</span>doc<span class=\"token operator\">/</span>yum<span class=\"token operator\">-</span><span class=\"token class-name\">key<span class=\"token punctuation\">.</span>gpg</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>packages<span class=\"token punctuation\">.</span>cloud<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>yum<span class=\"token operator\">/</span>doc<span class=\"token operator\">/</span>rpm<span class=\"token operator\">-</span>package<span class=\"token operator\">-</span><span class=\"token class-name\">key<span class=\"token punctuation\">.</span>gpg</span>\nexclude<span class=\"token operator\">=</span>kube<span class=\"token operator\">*</span>\nEOF</code></pre></div>\n<br/>\n<br/>\n<p>CENSOS yum update</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ yum <span class=\"token operator\">-</span>y update</code></pre></div>\n<br/>\n<br/>\n<p>ë„ì»¤ ì„¤ì¹˜ ì „ ì‚¬ì „ ì„¸íŒ… </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ yum install <span class=\"token operator\">-</span>y yum<span class=\"token operator\">-</span>utils device<span class=\"token operator\">-</span>mapper<span class=\"token operator\">-</span>persistent<span class=\"token operator\">-</span>data lvm2 </code></pre></div>\n<br/>\n<br/>\n<p>ë„ì»¤ ì €ì¥ì†Œ ì„¤ì •</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum<span class=\"token operator\">-</span>config<span class=\"token operator\">-</span>manager <span class=\"token operator\">--</span><span class=\"token keyword\">add</span><span class=\"token operator\">-</span><span class=\"token class-name\">repo</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>download<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>linux<span class=\"token operator\">/</span>centos<span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>ce<span class=\"token punctuation\">.</span>repo</code></pre></div>\n<br/>\n<br/>\n<p>ë„ì»¤ íŒ¨í‚¤ì§€ ì„¤ì¹˜</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum update <span class=\"token operator\">&amp;&amp;</span> yum install docker<span class=\"token operator\">-</span>ce<span class=\"token operator\">-</span><span class=\"token number\">18.06</span><span class=\"token number\">.2</span><span class=\"token punctuation\">.</span>ce</code></pre></div>\n<br/>\n<br/>\n<p>ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">yum install <span class=\"token operator\">-</span>y <span class=\"token operator\">--</span>disableexcludes<span class=\"token operator\">=</span>kubernetes kubeadm<span class=\"token operator\">-</span><span class=\"token number\">1.15</span><span class=\"token number\">.5</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token punctuation\">.</span>x86_64 kubectl<span class=\"token operator\">-</span><span class=\"token number\">1.15</span><span class=\"token number\">.5</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token punctuation\">.</span>x86_64 kubelet<span class=\"token operator\">-</span><span class=\"token number\">1.15</span><span class=\"token number\">.5</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token punctuation\">.</span>x86_64</code></pre></div>\n<p>1.15 ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•˜ëŠ” ì´ìœ  : í—¬ìŠ¤ì²´í¬ ì´ìŠˆ, ëŒ€ì‰¬ë³´ë“œ í˜¸í™˜ì„±</p>\n<br/>\n<br/>\n<p><code class=\"language-text\">Master ë…¸ë“œ</code>ì— <code class=\"language-text\">ì»¨íŠ¸ë¡¤ êµ¬ì„± ìš”ì†Œë¥¼ ì„¤ì¹˜</code>í•©ë‹ˆë‹¤. í•´ë‹¹ ì‘ì—…ì€ <code class=\"language-text\">master</code> ì—ì„œë§Œ ì‹¤í–‰í•©ë‹ˆë‹¤.<br>\nì„¤ì¹˜ ì‹œ ì‚¬ìš©í•  ì´ë¯¸ì§€ë¥¼ ë¨¼ì € ë‹¤ìš´ë¡œë“œ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># kubeadm config images pull\nI0824 <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">21</span><span class=\"token punctuation\">:</span><span class=\"token number\">37.374466</span>   <span class=\"token number\">13234</span> version<span class=\"token punctuation\">.</span>go<span class=\"token punctuation\">:</span><span class=\"token number\">248</span><span class=\"token punctuation\">]</span> remote version <span class=\"token keyword\">is</span> <span class=\"token class-name\">much</span> newer<span class=\"token punctuation\">:</span> v1<span class=\"token punctuation\">.</span><span class=\"token number\">18.8</span><span class=\"token punctuation\">;</span> falling <span class=\"token class-name\">back</span> to<span class=\"token punctuation\">:</span> stable<span class=\"token operator\">-</span><span class=\"token number\">1.15</span>\n<span class=\"token punctuation\">[</span>config<span class=\"token operator\">/</span>images<span class=\"token punctuation\">]</span> Pulled k8s<span class=\"token punctuation\">.</span>gcr<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>kube<span class=\"token operator\">-</span>apiserver<span class=\"token punctuation\">:</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">15.12</span>\n<span class=\"token punctuation\">[</span>config<span class=\"token operator\">/</span>images<span class=\"token punctuation\">]</span> Pulled k8s<span class=\"token punctuation\">.</span>gcr<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>kube<span class=\"token operator\">-</span>controller<span class=\"token operator\">-</span>manager<span class=\"token punctuation\">:</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">15.12</span>\n<span class=\"token punctuation\">[</span>config<span class=\"token operator\">/</span>images<span class=\"token punctuation\">]</span> Pulled k8s<span class=\"token punctuation\">.</span>gcr<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>kube<span class=\"token operator\">-</span>scheduler<span class=\"token punctuation\">:</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">15.12</span>\n<span class=\"token punctuation\">[</span>config<span class=\"token operator\">/</span>images<span class=\"token punctuation\">]</span> Pulled k8s<span class=\"token punctuation\">.</span>gcr<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>kube<span class=\"token operator\">-</span>proxy<span class=\"token punctuation\">:</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">15.12</span>\n<span class=\"token punctuation\">[</span>config<span class=\"token operator\">/</span>images<span class=\"token punctuation\">]</span> Pulled k8s<span class=\"token punctuation\">.</span>gcr<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>pause<span class=\"token punctuation\">:</span><span class=\"token number\">3.1</span>\n<span class=\"token punctuation\">[</span>config<span class=\"token operator\">/</span>images<span class=\"token punctuation\">]</span> Pulled k8s<span class=\"token punctuation\">.</span>gcr<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>etcd<span class=\"token punctuation\">:</span><span class=\"token number\">3.3</span><span class=\"token number\">.10</span>\n<span class=\"token punctuation\">[</span>config<span class=\"token operator\">/</span>images<span class=\"token punctuation\">]</span> Pulled k8s<span class=\"token punctuation\">.</span>gcr<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>coredns<span class=\"token punctuation\">:</span><span class=\"token number\">1.3</span><span class=\"token number\">.1</span></code></pre></div>\n<br/>\n<br/>\n<p>ë§ˆìŠ¤í„° ë…¸ë“œë¥¼ <code class=\"language-text\">ì´ˆê¸°í™”</code>í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># kubeadm init\nI0824 <span class=\"token number\">02</span><span class=\"token punctuation\">:</span><span class=\"token number\">22</span><span class=\"token punctuation\">:</span><span class=\"token number\">23.982576</span>   <span class=\"token number\">13371</span> version<span class=\"token punctuation\">.</span>go<span class=\"token punctuation\">:</span><span class=\"token number\">248</span><span class=\"token punctuation\">]</span> remote version <span class=\"token keyword\">is</span> <span class=\"token class-name\">much</span> newer<span class=\"token punctuation\">:</span> v1<span class=\"token punctuation\">.</span><span class=\"token number\">18.8</span><span class=\"token punctuation\">;</span> falling <span class=\"token class-name\">back</span> to<span class=\"token punctuation\">:</span> stable<span class=\"token operator\">-</span><span class=\"token number\">1.15</span>\n<span class=\"token punctuation\">[</span>init<span class=\"token punctuation\">]</span> Using <span class=\"token class-name\">Kubernetes</span> version<span class=\"token punctuation\">:</span> v1<span class=\"token punctuation\">.</span><span class=\"token number\">15.12</span>\n<span class=\"token punctuation\">[</span>preflight<span class=\"token punctuation\">]</span> Running pre<span class=\"token operator\">-</span>flight checks\n        <span class=\"token punctuation\">[</span>WARNING Service<span class=\"token operator\">-</span>Kubelet<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> kubelet service <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token class-name\">enabled</span><span class=\"token punctuation\">,</span> please run 'systemctl enable kubelet<span class=\"token punctuation\">.</span>service'\n<span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">preflight</span></span><span class=\"token punctuation\">]</span> Pulling images required <span class=\"token keyword\">for</span> setting up a Kubernetes cluster\n<span class=\"token punctuation\">[</span>preflight<span class=\"token punctuation\">]</span> This might take a minute <span class=\"token keyword\">or</span> two<span class=\"token punctuation\">,</span> depending <span class=\"token keyword\">on</span> the speed of your internet connection\n<span class=\"token punctuation\">[</span>preflight<span class=\"token punctuation\">]</span> You can also perform <span class=\"token keyword\">this</span> action <span class=\"token keyword\">in</span> beforehand <span class=\"token keyword\">using</span> 'kubeadm config images pull'\n<span class=\"token punctuation\">[</span>kubelet<span class=\"token operator\">-</span>start<span class=\"token punctuation\">]</span> Writing kubelet environment file with flags to file <span class=\"token string\">\"/var/lib/kubelet/kubeadm-flags.env\"</span>\n<span class=\"token punctuation\">[</span>kubelet<span class=\"token operator\">-</span>start<span class=\"token punctuation\">]</span> Writing kubelet configuration to file <span class=\"token string\">\"/var/lib/kubelet/config.yaml\"</span>\n<span class=\"token punctuation\">[</span>kubelet<span class=\"token operator\">-</span>start<span class=\"token punctuation\">]</span> Activating the kubelet service\n<span class=\"token punctuation\">[</span>certs<span class=\"token punctuation\">]</span> Using certificateDir folder <span class=\"token string\">\"/etc/kubernetes/pki\"</span>\n<span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">certs</span></span><span class=\"token punctuation\">]</span> Generating <span class=\"token string\">\"ca\"</span> certificate <span class=\"token keyword\">and</span> key\n<span class=\"token punctuation\">[</span>certs<span class=\"token punctuation\">]</span> Generating <span class=\"token string\">\"apiserver-kubelet-client\"</span> certificate <span class=\"token keyword\">and</span> key\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>ì¤‘ëµ<span class=\"token punctuation\">)</span>\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\nYour Kubernetes control<span class=\"token operator\">-</span>plane has initialized successfully<span class=\"token operator\">!</span>\nTo start <span class=\"token keyword\">using</span> <span class=\"token class-name\">your</span> cluster<span class=\"token punctuation\">,</span> you need to run the following <span class=\"token keyword\">as</span> <span class=\"token class-name\">a</span> <span class=\"token class-name\">regular</span> user<span class=\"token punctuation\">:</span>\nmkdir <span class=\"token operator\">-</span>p $HOME<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>kube\nsudo cp <span class=\"token operator\">-</span>i <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>kubernetes<span class=\"token operator\">/</span>admin<span class=\"token punctuation\">.</span>conf $HOME<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>kube<span class=\"token operator\">/</span>config\nsudo chown $<span class=\"token punctuation\">(</span>id <span class=\"token operator\">-</span>u<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">(</span>id <span class=\"token operator\">-</span>g<span class=\"token punctuation\">)</span> $HOME<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>kube<span class=\"token operator\">/</span>config\nYou should now deploy a pod network to the cluster<span class=\"token punctuation\">.</span>\nRun <span class=\"token string\">\"kubectl apply -f [podnetwork].yaml\"</span> with one of the options <span class=\"token class-name\">listed</span> at<span class=\"token punctuation\">:</span>\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>docs<span class=\"token operator\">/</span>concepts<span class=\"token operator\">/</span>cluster<span class=\"token operator\">-</span>administration<span class=\"token operator\">/</span>addons<span class=\"token operator\">/</span>\nThen you can <span class=\"token keyword\">join</span> any number of worker nodes <span class=\"token keyword\">by</span> running the following <span class=\"token keyword\">on</span> each <span class=\"token keyword\">as</span> <span class=\"token class-name\">root</span><span class=\"token punctuation\">:</span>\nkubeadm <span class=\"token keyword\">join</span> <span class=\"token number\">10.146</span><span class=\"token number\">.0</span><span class=\"token number\">.6</span><span class=\"token punctuation\">:</span><span class=\"token number\">6443</span> <span class=\"token operator\">--</span>token ofhrxu<span class=\"token punctuation\">.</span>dgsn2pc08glnfj06 \\\n    <span class=\"token operator\">--</span>discovery<span class=\"token operator\">-</span>token<span class=\"token operator\">-</span>ca<span class=\"token operator\">-</span>cert<span class=\"token operator\">-</span><span class=\"token class-name\">hash</span> sha256<span class=\"token punctuation\">:</span>00f7773eea1e619ea4c5698417679475cb07774b26cd7f738fb82a315f643b5a</code></pre></div>\n<br/>\n<br/>\n<p>ì—¬ê¸°ì„œ <code class=\"language-text\">ì¼ë°˜ ì‚¬ìš©ì</code>ê°€ <code class=\"language-text\">kubectl</code> ì„ <code class=\"language-text\">ì‚¬ìš©</code>í•  ìˆ˜ ìˆë„ë¡ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">mkdir <span class=\"token operator\">-</span>p $HOME<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>kube\nsudo cp <span class=\"token operator\">-</span>i <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>kubernetes<span class=\"token operator\">/</span>admin<span class=\"token punctuation\">.</span>conf $HOME<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>kube<span class=\"token operator\">/</span>config\nsudo chown $<span class=\"token punctuation\">(</span>id <span class=\"token operator\">-</span>u<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">(</span>id <span class=\"token operator\">-</span>g<span class=\"token punctuation\">)</span> $HOME<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>kube<span class=\"token operator\">/</span>config</code></pre></div>\n<br/>\n<hr>\n<h3 id=\"worker-ë…¸ë“œ-ì„¤ì •\" style=\"position:relative;\"><a href=\"#worker-%EB%85%B8%EB%93%9C-%EC%84%A4%EC%A0%95\" aria-label=\"worker ë…¸ë“œ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WORKER ë…¸ë“œ ì„¤ì •</h3>\n<p>ë„ì»¤ ì‹¤í–‰</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">systemctl daemon<span class=\"token operator\">-</span>reload\nsystemctl enable <span class=\"token operator\">--</span>now docker</code></pre></div>\n<br/>\n<br/>\n<p>kubelet ì‹¤í–‰  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">systemctl enable <span class=\"token operator\">--</span>now kubelet</code></pre></div>\n<br/>\n<br/>\n<p>ë¡œê·¸ì˜ <code class=\"language-text\">ë§ˆì§€ë§‰ ë¼ì¸ì˜ ëª…ë ¹ì–´</code>ëŠ” <code class=\"language-text\">ì›Œì»¤ ë…¸ë“œ</code>ë¥¼ í•´ë‹¹ <code class=\"language-text\">í´ëŸ¬ìŠ¤í„°ì— ì¶”ê°€</code>í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.<br>\ní•´ë‹¹ ëª…ë ¹ì–´ë¥¼ ë³µì‚¬í•´ì„œ <code class=\"language-text\">nasa-node1</code>, <code class=\"language-text\">nasa-node2</code>, <code class=\"language-text\">nasa-node3</code> ë…¸ë“œì—ì„œ ìˆ˜í–‰í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span>node1 <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># kubeadm <span class=\"token keyword\">join</span> <span class=\"token number\">10.146</span><span class=\"token number\">.0</span><span class=\"token number\">.6</span><span class=\"token punctuation\">:</span><span class=\"token number\">6443</span> <span class=\"token operator\">--</span>token ofhrxu<span class=\"token punctuation\">.</span>dgsn2pc08glnfj06 \\<span class=\"token operator\">--</span>discove\nry<span class=\"token operator\">-</span>token<span class=\"token operator\">-</span>ca<span class=\"token operator\">-</span>cert<span class=\"token operator\">-</span><span class=\"token class-name\">hash</span> sha256<span class=\"token punctuation\">:</span>00f7773eea1e619ea4c5698417679475cb07774b26cd7f738fb82a315f643b5\na \n<span class=\"token punctuation\">[</span>preflight<span class=\"token punctuation\">]</span> Running pre<span class=\"token operator\">-</span>flight checks\n<span class=\"token punctuation\">[</span>preflight<span class=\"token punctuation\">]</span> Reading configuration <span class=\"token keyword\">from</span> the cluster<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">preflight</span></span><span class=\"token punctuation\">]</span> FYI<span class=\"token punctuation\">:</span> You can look at <span class=\"token keyword\">this</span> config file with 'kubectl <span class=\"token operator\">-</span>n kube<span class=\"token operator\">-</span>system <span class=\"token keyword\">get</span> cm kubead\nm<span class=\"token operator\">-</span>config <span class=\"token operator\">-</span>oyaml'\n<span class=\"token punctuation\">[</span>kubelet<span class=\"token operator\">-</span>start<span class=\"token punctuation\">]</span> Downloading configuration <span class=\"token keyword\">for</span> the kubelet <span class=\"token keyword\">from</span> the <span class=\"token string\">\"kubelet-config-1.15\"</span> <span class=\"token class-name\">Con</span>\nfigMap <span class=\"token keyword\">in</span> the kube<span class=\"token operator\">-</span>system <span class=\"token keyword\">namespace</span>\n<span class=\"token punctuation\">[</span>kubelet<span class=\"token operator\">-</span>start<span class=\"token punctuation\">]</span> Writing kubelet configuration to file <span class=\"token string\">\"/var/lib/kubelet/config.yaml\"</span>\n<span class=\"token punctuation\">[</span>kubelet<span class=\"token operator\">-</span>start<span class=\"token punctuation\">]</span> Writing kubelet environment file with flags to file \"<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>kubelet<span class=\"token operator\">/</span>kubead\nm<span class=\"token operator\">-</span>flags<span class=\"token punctuation\">.</span>env\"\n<span class=\"token punctuation\">[</span>kubelet<span class=\"token operator\">-</span>start<span class=\"token punctuation\">]</span> Activating the kubelet service\n<span class=\"token punctuation\">[</span>kubelet<span class=\"token operator\">-</span>start<span class=\"token punctuation\">]</span> Waiting <span class=\"token keyword\">for</span> the kubelet to perform the TLS Bootstrap<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\nThis node has joined <span class=\"token class-name\">the</span> cluster<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">*</span> Certificate signing request was sent to apiserver <span class=\"token keyword\">and</span> a response was received<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">*</span> The Kubelet was informed of the <span class=\"token keyword\">new</span> secure connection details<span class=\"token punctuation\">.</span>\nRun 'kubectl <span class=\"token keyword\">get</span> nodes' <span class=\"token keyword\">on</span> the control<span class=\"token operator\">-</span>plane to see <span class=\"token keyword\">this</span> node <span class=\"token keyword\">join</span> the cluster<span class=\"token punctuation\">.</span></code></pre></div>\n<br>\n<h3 id=\"pod-network-add-on-ì„¤ì¹˜í•˜ê¸°\" style=\"position:relative;\"><a href=\"#pod-network-add-on-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0\" aria-label=\"pod network add on ì„¤ì¹˜í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pod network add-on ì„¤ì¹˜í•˜ê¸°</h3>\n<p><code class=\"language-text\">Pod</code> ì€ ì‹¤ì œë¡œ ì—¬ëŸ¬ ë…¸ë“œì— ê±¸ì³ ë°°í¬ë˜ëŠ”ë°, Pod ë¼ë¦¬ í•˜ë‚˜ì˜ ë„¤íŠ¸ì›Œí¬ì— ìˆëŠ” ê²ƒì²˜ëŸ¼ í†µì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nì´ë¥¼ <code class=\"language-text\">ì˜¤ë²„ë ˆì´ ë„¤íŠ¸ì›Œí¬(Overlay Network)</code>ë¼ê³  í•©ë‹ˆë‹¤.</p>\n<p>ì˜¤ë²„ë ˆì´ ë„¤íŠ¸ì›Œí¬ë¥¼ ì§€ì›í•˜ëŠ” <code class=\"language-text\">CNI(Container Network Interface) í”ŒëŸ¬ê·¸ì¸</code>ì„ ì„¤ì¹˜í•´ë³´ê² ìŠµë‹ˆë‹¤.<br>\nCNI ì—ëŠ” ì—¬ëŸ¬ ì¢…ë¥˜ê°€ ìˆëŠ”ë°, ì´ë²ˆ í¬ìŠ¤íŠ¸ëŠ” <code class=\"language-text\">Weave</code> ë¥¼ ì´ìš©í•©ë‹ˆë‹¤.</p>\n<br/>\n<p><code class=\"language-text\">Master</code> ë…¸ë“œì—ì„œ <code class=\"language-text\">weave</code>ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># kubectl apply <span class=\"token operator\">-</span>f <span class=\"token string\">\"https://cloud.weave.works/k8s/net?k8s-version=$(kubectl version | base64 | tr -d '\\n')\"</span>\nserviceaccount<span class=\"token operator\">/</span>weave<span class=\"token operator\">-</span>net created\nclusterrole<span class=\"token punctuation\">.</span>rbac<span class=\"token punctuation\">.</span>authorization<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>weave<span class=\"token operator\">-</span>net created\nclusterrolebinding<span class=\"token punctuation\">.</span>rbac<span class=\"token punctuation\">.</span>authorization<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>weave<span class=\"token operator\">-</span>net created\nrole<span class=\"token punctuation\">.</span>rbac<span class=\"token punctuation\">.</span>authorization<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>weave<span class=\"token operator\">-</span>net created\nrolebinding<span class=\"token punctuation\">.</span>rbac<span class=\"token punctuation\">.</span>authorization<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>weave<span class=\"token operator\">-</span>net created\ndaemonset<span class=\"token punctuation\">.</span>apps<span class=\"token operator\">/</span>weave<span class=\"token operator\">-</span>net created</code></pre></div>\n<p><code class=\"language-text\">CNI</code>ë¥¼ ì„¤ì¹˜í•˜ë©´ <code class=\"language-text\">CoreDNS Pod</code> ì´ <code class=\"language-text\">ì •ìƒì ìœ¼ë¡œ ë™ì‘</code>í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<br/>\n<p>ê° ë…¸ë“œì™€ ìƒíƒœë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤ </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># kubectl <span class=\"token keyword\">get</span> nodes\nNAME          STATUS   ROLES    AGE     VERSION\nnasa<span class=\"token operator\">-</span>master   Ready    master   <span class=\"token number\">10m</span>     v1<span class=\"token punctuation\">.</span><span class=\"token number\">15.5</span>\nnasa<span class=\"token operator\">-</span>node1    Ready    <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>   3m48s   v1<span class=\"token punctuation\">.</span><span class=\"token number\">15.5</span>\nnasa<span class=\"token operator\">-</span>node2    Ready    <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>   4m15s   v1<span class=\"token punctuation\">.</span><span class=\"token number\">15.5</span>\nnasa<span class=\"token operator\">-</span>node3    Ready    <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>   3m48s   v1<span class=\"token punctuation\">.</span><span class=\"token number\">15.5</span></code></pre></div>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># kubectl <span class=\"token keyword\">get</span> cs\nNAME                 STATUS    MESSAGE             ERROR\ncontroller<span class=\"token operator\">-</span>manager   Healthy   ok                  \nscheduler            Healthy   ok                  \netcd<span class=\"token operator\">-</span><span class=\"token number\">0</span>               Healthy   <span class=\"token punctuation\">{</span><span class=\"token string\">\"health\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"true\"</span><span class=\"token punctuation\">}</span>   </code></pre></div>\n<br/>\n<br/>\n<p>ìµœì¢…ì ìœ¼ë¡œ êµ¬ì„± API, ë° ìš”ì†Œê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span>master <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># kubectl <span class=\"token keyword\">get</span> po <span class=\"token operator\">-</span>o custom<span class=\"token operator\">-</span>columns<span class=\"token operator\">=</span>POD<span class=\"token punctuation\">:</span>metadata<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span><span class=\"token named-parameter punctuation\">NODE</span><span class=\"token punctuation\">:</span>spec<span class=\"token punctuation\">.</span>nodeName <span class=\"token operator\">--</span>sort<span class=\"token operator\">-</span><span class=\"token keyword\">by</span> spec<span class=\"token punctuation\">.</span>nodeName \n<span class=\"token operator\">-</span>n kube<span class=\"token operator\">-</span>system\nPOD                                   NODE\nkube<span class=\"token operator\">-</span>scheduler<span class=\"token operator\">-</span>nasa<span class=\"token operator\">-</span>master            nasa<span class=\"token operator\">-</span>master\nweave<span class=\"token operator\">-</span>net<span class=\"token operator\">-</span>v7bff                       nasa<span class=\"token operator\">-</span>master\netcd<span class=\"token operator\">-</span>nasa<span class=\"token operator\">-</span>master                      nasa<span class=\"token operator\">-</span>master\nkube<span class=\"token operator\">-</span>apiserver<span class=\"token operator\">-</span>nasa<span class=\"token operator\">-</span>master            nasa<span class=\"token operator\">-</span>master\nkube<span class=\"token operator\">-</span>controller<span class=\"token operator\">-</span>manager<span class=\"token operator\">-</span>nasa<span class=\"token operator\">-</span>master   nasa<span class=\"token operator\">-</span>master\nkube<span class=\"token operator\">-</span>proxy<span class=\"token operator\">-</span>6w9dk                      nasa<span class=\"token operator\">-</span>master\nkube<span class=\"token operator\">-</span>proxy<span class=\"token operator\">-</span>lxn6d                      nasa<span class=\"token operator\">-</span>node1\nweave<span class=\"token operator\">-</span>net<span class=\"token operator\">-</span>k2tcb                       nasa<span class=\"token operator\">-</span>node1\ncoredns<span class=\"token operator\">-</span>5c98db65d4<span class=\"token operator\">-</span>8cg79              nasa<span class=\"token operator\">-</span>node1\nkube<span class=\"token operator\">-</span>proxy<span class=\"token operator\">-</span>jqks7                      nasa<span class=\"token operator\">-</span>node2\nweave<span class=\"token operator\">-</span>net<span class=\"token operator\">-</span>dd6f2                       nasa<span class=\"token operator\">-</span>node2\ncoredns<span class=\"token operator\">-</span>5c98db65d4<span class=\"token operator\">-</span>zbvbn              nasa<span class=\"token operator\">-</span>node2\nweave<span class=\"token operator\">-</span>net<span class=\"token operator\">-</span>k2jc9                       nasa<span class=\"token operator\">-</span>node3\nkube<span class=\"token operator\">-</span>proxy<span class=\"token operator\">-</span>kr9sb                      nasa<span class=\"token operator\">-</span>node3</code></pre></div>\n<hr>\n<h3 id=\"ê°„ë‹¨í•œ-pods-ë°°í¬-test\" style=\"position:relative;\"><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%9C-pods-%EB%B0%B0%ED%8F%AC-test\" aria-label=\"ê°„ë‹¨í•œ pods ë°°í¬ test permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°„ë‹¨í•œ pods ë°°í¬ TEST</h3>\n<p>ê°„ë‹¨í•œ Pod ì„ ë°°í¬í•´ì„œ ë™ì‘ì„ í™•ì¸í•´ë´…ì‹œë‹¤. ì•„ë˜ pod-test.yaml íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Pod</span>\nmetadata<span class=\"token punctuation\">:</span>\nname<span class=\"token punctuation\">:</span> myapp<span class=\"token operator\">-</span><span class=\"token class-name\">pod</span>\nlabels<span class=\"token punctuation\">:</span>\n    app<span class=\"token punctuation\">:</span> <span class=\"token class-name\">myapp</span>\nspec<span class=\"token punctuation\">:</span>\ncontainers<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> name<span class=\"token punctuation\">:</span> myapp<span class=\"token operator\">-</span><span class=\"token class-name\">container</span>\n    image<span class=\"token punctuation\">:</span> <span class=\"token class-name\">busybox</span>\n    command<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>'sh'<span class=\"token punctuation\">,</span> '<span class=\"token operator\">-</span>c'<span class=\"token punctuation\">,</span> 'echo Hello Kubernetes<span class=\"token operator\">!</span> <span class=\"token operator\">&amp;&amp;</span> sleep <span class=\"token number\">3600</span>'<span class=\"token punctuation\">]</span></code></pre></div>\n<p>í•´ë‹¹ Pod ì´ ì‹¤í–‰ë˜ë©´ <code class=\"language-text\">busybox</code> ë¼ëŠ” ê²½ëŸ‰ ë¦¬ëˆ…ìŠ¤ ì´ë¯¸ì§€ì— <code class=\"language-text\">Hello Kubernetes!</code> ë¼ëŠ” ë¡œê·¸ê°€ ì ì‹œ ë™ì•ˆ ì¶œë ¥ë˜ê³  Pod ì€ ì¢…ë£Œë©ë‹ˆë‹¤.</p>\n<br/>\n<br/>\n<p>PODS ë°°í¬</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> kube<span class=\"token punctuation\">]</span># kubectl apply <span class=\"token operator\">-</span>f pod<span class=\"token operator\">-</span>test<span class=\"token punctuation\">.</span>yaml\npod<span class=\"token operator\">/</span>nasa<span class=\"token operator\">-</span>pod created</code></pre></div>\n<br/>\n<br/>\n<p>ë™ì‘ ë° ë¡œê·¸ í™•ì¸</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> kube<span class=\"token punctuation\">]</span># kubectl <span class=\"token keyword\">get</span> po\nNAME       READY   STATUS    RESTARTS   AGE\nnasa<span class=\"token operator\">-</span>pod   <span class=\"token number\">1</span><span class=\"token operator\">/</span><span class=\"token number\">1</span>     Running   <span class=\"token number\">0</span>          10s\n<span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> kube<span class=\"token punctuation\">]</span># \n<span class=\"token punctuation\">[</span>root@nasa<span class=\"token operator\">-</span><span class=\"token class-name\">master</span> kube<span class=\"token punctuation\">]</span># kubectl logs nasa<span class=\"token operator\">-</span>pod\nHello Kubernetes<span class=\"token operator\">!</span></code></pre></div>\n<p>ì´ë¡œì¨ ê¸°ë³¸ì ì¸ k8s í´ëŸ¬ìŠ¤í„° êµ¬ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤</p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%EC%82%AC%EC%A0%84%EC%A4%80%EB%B9%84\">âœ” ì‚¬ì „ì¤€ë¹„</a></li>\n<li>\n<p><a href=\"#-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4--%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0-kubeadm\">âœŒ ì¿ ë²„ë„¤í‹°ìŠ¤  ì„¤ì¹˜í•˜ê¸° kubeadm</a></p>\n<ul>\n<li><a href=\"#worker-%EB%85%B8%EB%93%9C-%EC%84%A4%EC%A0%95\">WORKER ë…¸ë“œ ì„¤ì •</a></li>\n<li><a href=\"#pod-network-add-on-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0\">Pod network add-on ì„¤ì¹˜í•˜ê¸°</a></li>\n<li><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%9C-pods-%EB%B0%B0%ED%8F%AC-test\">ê°„ë‹¨í•œ pods ë°°í¬ TEST</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 29, 2021","title":"[Kubernetes] - Kubernetes í™˜ê²½êµ¬ì„± on GCP Using kubeadm","categories":"Kubernetes GCP","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/kubernetes-kubeadm/"}},"prev":{"id":"f7b5524d-5df4-5975-baf4-be92f59dc22a","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œ ë“œë””ì–´ GCP ì¸ìŠ¤í„´ìŠ¤ ê¸°ë°˜ì˜ k8s í´ëŸ¬ìŠ¤í„° í™˜ê²½ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.<br>\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ì´ë²ˆì— ê°„ë‹¨í•˜ê²Œ í¬ìŠ¤íŠ¸í•´ì„œ ì •ë¦¬í–ˆì§€ë§Œ ì‹¤ì œ ì‹¤ìŠµì„ ë“¤ì–´ê°€ê¸°ì „ ì „ì²´ì ì¸ ê°œë…ì— ëŒ€í•´ì„œ ë‹¤ì‹œ í•œë²ˆ ì •ë¦¬í•˜ê³ <br>\nì‹¤ìŠµì— ë“¤ì–´ê°€ì•¼ í•  ê²ƒ ê°™ì•„ì„œ ì¡°ëŒ€í˜‘ë‹˜ì˜ ë¸”ë¡œê·¸ ê¸€ì„ ì°¸ê³ í•˜ì—¬ ë‚´ ì‹ëŒ€ë¡œ ë‹¤ì‹œ ì •ë¦¬í•´ë³´ì•˜ë‹¤.  </p>\n<hr>\n<p>ì°¸ê³   :  <a href=\"https://bcho.tistory.com/1256\">ì¡°ëŒ€í˜‘ë‹˜ ë¸”ë¡œê·¸</a></p>\n<hr>\n<h2 id=\"-ê°œë…ì •ë¦¬\" style=\"position:relative;\"><a href=\"#-%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC\" aria-label=\" ê°œë…ì •ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” ê°œë…ì •ë¦¬</h2>\n<h3 id=\"ì˜¤ë¸Œì íŠ¸\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8\" aria-label=\"ì˜¤ë¸Œì íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì˜¤ë¸Œì íŠ¸</h3>\n<p>ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì´ <code class=\"language-text\">ì˜¤ë¸Œì íŠ¸</code>ì´ë‹¤.<br>\nê°€ì¥ <code class=\"language-text\">ê¸°ë³¸ì ì¸ êµ¬ì„±ë‹¨ìœ„</code>ê°€ ë˜ëŠ” <code class=\"language-text\">ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸(Basic object)</code> ë¥¼ <code class=\"language-text\">ìƒì„±</code>í•˜ê³  <code class=\"language-text\">ê´€ë¦¬</code>í•˜ëŠ” ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ ê°€ì§„ <code class=\"language-text\">ì»¨íŠ¸ë¡¤ëŸ¬(Controller)</code><br>\nì´ëŸ¬í•œ ì˜¤ë¸Œì íŠ¸ì˜ <code class=\"language-text\">ìŠ¤í™(ì„¤ì •)</code>ì´ì™¸ì— ì¶”ê°€ì •ë³´ì¸ <code class=\"language-text\">ë©”íƒ€ ì •ë³´</code>ë“¤ë¡œ êµ¬ì„±ì´ ëœë‹¤ê³  ë³´ë©´ ëœë‹¤. </p>\n<br/>\n<h3 id=\"ì˜¤ë¸Œì íŠ¸-ìŠ¤í™-object-spec\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-%EC%8A%A4%ED%8E%99-object-spec\" aria-label=\"ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ object spec permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ (Object Spec)</h3>\n<p>ì˜¤ë¸Œì íŠ¸ë“¤ì€ ëª¨ë‘ ì˜¤ë¸Œì íŠ¸ì˜ íŠ¹ì„± (ì„¤ì •ì •ë³´)ì„ ê¸°ìˆ í•œ ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ (Object Spec)ìœ¼ë¡œ ì •ì˜ê°€ ë˜ê³ ,<br>\nì»¤ë§¨ë“œ ë¼ì¸ì„ í†µí•´ì„œ ì˜¤ë¸Œì íŠ¸ ìƒì„± ì‹œ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ ì •ì˜ë¥¼ í•˜ê±°ë‚˜ ë˜ëŠ” <code class=\"language-text\">yaml</code>ì´ë‚˜ <code class=\"language-text\">json</code> íŒŒì¼ë¡œ <code class=\"language-text\">ìŠ¤í™ì„ ì •ì˜</code>í•  ìˆ˜ ìˆë‹¤. </p>\n<br/>\n<h3 id=\"ê¸°ë³¸-ì˜¤ë¸Œì íŠ¸-basic-object\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-basic-object\" aria-label=\"ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ basic object permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ (Basic Object)</h3>\n<p>ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì˜í•´ì„œ ë°°í¬ ë° ê´€ë¦¬ë˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ì˜¤ë¸Œì íŠ¸ëŠ”<br>\nì»¨í…Œì´ë„ˆí™”ë˜ì–´ ë°°í¬ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì›Œí¬ë¡œë“œë¥¼ ê¸°ìˆ í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¡œ 4ê°€ì§€ê°€ ìˆë‹¤.   </p>\n<ul>\n<li>Pod : ì»¨í…Œì´ë„ˆí™”ëœ ì• í”Œë¦¬ì¼€ì´ì…˜</li>\n<li>Service : ë¡œë“œë°¸ëŸ°ì„œ</li>\n<li>Volume : ë””ìŠ¤í¬</li>\n<li>Namespace : íŒ¨í‚¤ì§€</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-pod\" style=\"position:relative;\"><a href=\"#-pod\" aria-label=\" pod permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœŒ Pod</h2>\n<p>Pod ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ <code class=\"language-text\">ê°€ì¥ ê¸°ë³¸ì ì¸ ë°°í¬ ë‹¨ìœ„</code>ë¡œ, ì»¨í…Œì´ë„ˆë¥¼ í¬í•¨í•˜ëŠ” ë‹¨ìœ„ì´ë‹¤.</p>\n<p>k8sì˜ íŠ¹ì§•ì¤‘ì˜ í•˜ë‚˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì”© ë°°í¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼<br>\nPod ë¼ëŠ” ë‹¨ìœ„ë¡œ ë°°í¬í•˜ëŠ”ë°, PodëŠ” í•˜ë‚˜ ì´ìƒì˜ ì»¨í…Œì´ë„ˆë¥¼ í¬í•¨í•œë‹¤.</p>\n<p>ê°„ë‹¨í•œ Podë¥¼ ì •ì˜í•œ ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ì´ë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Pod</span>\nmetadata<span class=\"token punctuation\">:</span>\nname<span class=\"token punctuation\">:</span> <span class=\"token class-name\">nginx</span>\nspec<span class=\"token punctuation\">:</span>\ncontainers<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">nginx</span>\n    image<span class=\"token punctuation\">:</span> nginx<span class=\"token punctuation\">:</span><span class=\"token number\">1.7</span><span class=\"token number\">.9</span>\n    ports<span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">-</span> containerPort<span class=\"token punctuation\">:</span> <span class=\"token number\">8090</span></code></pre></div>\n<br/>\n<ul>\n<li><code class=\"language-text\">apiVersion</code> :  ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ì¿ ë²„ë„¤í‹°ìŠ¤ API ë²„ì „ (ë³´í†µ v1ì„ ì‚¬ìš©í•œë‹¤)</li>\n<li><code class=\"language-text\">kind</code> : ë¦¬ì†ŒìŠ¤ì˜ ì¢…ë¥˜ë¥¼ ì •ì˜, (Pod)</li>\n<li><code class=\"language-text\">metadata</code> : ë¦¬ì†ŒìŠ¤ì˜ ê°ì¢… ë©”íƒ€ ë°ì´íƒ€ ì •ì˜ <code class=\"language-text\">ë¼ë²¨</code>ì´ë‚˜ <code class=\"language-text\">ë¦¬ì†ŒìŠ¤ì˜ ì´ë¦„</code> ë“± ê°ì¢… ë©”íƒ€ë°ì´íƒ€ë¥¼ ë„£ëŠ”ë‹¤.  </li>\n<li>\n<p><code class=\"language-text\">spec</code> : ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ <code class=\"language-text\">ìƒì„¸í•œ ìŠ¤í™</code>ì„ ì •ì˜í•œë‹¤.</p>\n<ul>\n<li>PodëŠ” ì»¨í…Œì´ë„ˆë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì—, container ë¥¼ ì •ì˜  </li>\n<li>ì´ë¦„ì€ <code class=\"language-text\">nginx</code> </li>\n<li><code class=\"language-text\">ë„ì»¤ ì´ë¯¸ì§€ nginx:1.7.9</code> ë¥¼ ì‚¬ìš©  </li>\n<li><code class=\"language-text\">ì»¨í…Œì´ë„ˆ í¬íŠ¸ 8090ì„ ì˜¤í”ˆ</code>í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<br/>\n<p>ì—¬ê¸°ì„œ ì˜ë¬¸ í•˜ë‚˜!!!<br>\në„ëŒ€ì²´ ì™œ Pod ì•ˆì— í•œê°œ ì´ìƒì˜ ì»¨í…Œì´ë„ˆë¥¼ ê°€ì§€ê³  ìˆìŒì—ë„<br>\nê°œë³„ì ìœ¼ë¡œ í•˜ë‚˜ì”© ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ì§€ ì•Šê³  ì—¬ëŸ¬ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ Pod ë‹¨ìœ„ë¡œ ë¬¶ì–´ì„œ ë°°í¬í• ê¹Œ?</p>\n<p>PodëŠ” ë‹¤ìŒê³¼ ë‘ê°€ì§€ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.  </p>\n<ul>\n<li>\n<p><code class=\"language-text\">Pod ë‚´ì˜ ì»¨í…Œì´ë„ˆëŠ” IPì™€ Portë¥¼ ê³µìœ í•œë‹¤.</code>   </p>\n<p><code class=\"language-text\">ë‘ ê°œì˜ ì»¨í…Œì´ë„ˆ</code>ê°€ <code class=\"language-text\">í•˜ë‚˜ì˜ Podë¥¼ í†µí•´ì„œ ë°°í¬</code>ë˜ì—ˆì„ë•Œ localhostë¥¼ í†µí•´ì„œ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤.  </p>\n<p>ì»¨í…Œì´ë„ˆ <code class=\"language-text\">Aê°€ 8080</code>, ì»¨í…Œì´ë„ˆ <code class=\"language-text\">Bê°€ 7001</code>ë¡œ ë°°í¬ê°€ ë˜ì—ˆì„ ë•Œ<br>\n<code class=\"language-text\">B -> A</code>ë¥¼ í˜¸ì¶œ í•  ë•Œ <code class=\"language-text\">localhost:8080 ìœ¼ë¡œ í˜¸ì¶œ</code>í•˜ë©´ ë˜ê³ <br>\n<code class=\"language-text\">A -> B</code>ë¥¼ í˜¸ì¶œ í•  ë•ŒëŠ” <code class=\"language-text\">localhost:7001ë¡œ í˜¸ì¶œ</code>ì´ ê°€ëŠ¥í•˜ë‹¤. </p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">Pod ë‚´ì— ë°°í¬ëœ ì»¨í…Œì´ë„ˆê°„ì—ëŠ” ë””ìŠ¤í¬ ë³¼ë¥¨ì„ ê³µìœ í•  ìˆ˜ ìˆë‹¤.</code>   </p>\n<p>ìš”ì¦˜ APPì€ ì‹¤í–‰í• ë•Œ APPë§Œ ì˜¬ë¼ê°€ëŠ”ê²ƒì´ ì•„ë‹ˆë¼ <code class=\"language-text\">Reverse proxy</code>, <code class=\"language-text\">ë¡œê·¸ ìˆ˜ì§‘ê¸°</code>ë“± ë‹¤ì–‘í•œ ì£¼ë³€ ì†”ë£¨ì…˜ì´ ê°™ì´ ë°°í¬ ëœë‹¤.    </p>\n<p><code class=\"language-text\">APP(Tomcat, node.js)</code>ì™€ ë¡œê·¸ ìˆ˜ì§‘ê¸°ë¥¼ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆë¡œ ë°°í¬í•˜ë©´ ì¼ë°˜ì ì¸ ê²½ìš° ì»¨í…Œì´ë„ˆì— ì˜í•´ì„œ <code class=\"language-text\">íŒŒì¼ ì‹œìŠ¤í…œì´ ë¶„ë¦¬</code>ë˜ê¸° ë•Œë¬¸ì—<br>\në¡œê·¸ ìˆ˜ì§‘ê¸°ê°€ APP ì»¨í…Œì´ë„ˆì˜ ë¡œê·¸íŒŒì¼ì„ ì½ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥ í•˜ë‹¤.<br>\ní•˜ì§€ë§Œ k8sëŠ” í•˜ë‚˜ì˜ Pod ë‚´ì—ì„œ ì»¨í…Œì´ë„ˆë“¤ë¼ë¦¬ ë³¼ë¥¨ì„ ê³µìœ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì˜ íŒŒì¼ì„ ì½ì–´ì˜¬ ìˆ˜ ìˆë‹¤.</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-volume\" style=\"position:relative;\"><a href=\"#-volume\" aria-label=\" volume permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘ Volume</h2>\n<p>ê°„ë‹¨í•˜ê²Œ ìš”ì•½í•´ì„œ ë³¼ë¥¨ì€ ì™¸ì¥ë””ìŠ¤í¬ë¼ê³  ì´í•´í•˜ë©´ ëœë‹¤.</p>\n<p>ìì„¸í•œ ë‚´ìš©ì€ -> <a href=\"https://nasa1515.tech/kubernetes-volume/\">ë³¼ë¥¨ ì •ë¦¬</a> ì— ì •ë¦¬ëœ í¬ìŠ¤íŠ¸ë¥¼ ì˜¬ë ¤ë†“ì•˜ë‹¤.</p>\n<br/>\n<hr>\n<h2 id=\"-service\" style=\"position:relative;\"><a href=\"#-service\" aria-label=\" service permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘Œ Service</h2>\n<p><code class=\"language-text\">Pod</code>ì™€ <code class=\"language-text\">ë³¼ë¥¨</code>ì„ ì´ìš©í•˜ì—¬, ì»¨í…Œì´ë„ˆë“¤ì„ ì •ì˜í•˜ê³ , Podë¥¼ ì„œë¹„ìŠ¤ë¡œ ì œê³µí•  ë•Œ ë¶„ì‚°í™˜ê²½ì—ì„œëŠ” í•˜ë‚˜ì˜ Podë¡œ ì„œë¹„ìŠ¤ í•˜ëŠ” ê²½ìš°ëŠ” ë“œë¬¼ê³ <br>\nì—¬ëŸ¬ Podë¥¼ <code class=\"language-text\">ë¡œë“œë°¸ëŸ°ì„œë¥¼ ì´ìš©í•´ì„œ í•˜ë‚˜ì˜ IPì™€ í¬íŠ¸</code>ë¡œ ë¬¶ì–´ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.</p>\n<p>Podì˜ ê²½ìš°ì—ëŠ” ë™ì ìœ¼ë¡œ ìƒì„± ë˜ê³ , ì¥ì• ê°€ ìƒê¸°ë©´ ìë™ìœ¼ë¡œ ì¬ì‹œì‘ ë˜ë©° IPê°€ ë°”ë€Œê¸° ë•Œë¬¸ì—<br>\n<code class=\"language-text\">ë¡œë“œë°¸ëŸ°ì„œ</code>ì—ì„œ Podì˜ ëª©ë¡ì„ ì§€ì •í•  ë•ŒëŠ” IPì£¼ì†Œë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. ë˜ <code class=\"language-text\">ì˜¤í†  ìŠ¤ì¼€ì¼ë§</code>ìœ¼ë¡œ ì¸í•˜ì—¬ <code class=\"language-text\">Pod ê°€ ë™ì ìœ¼ë¡œ ì¶”ê°€ ë˜ëŠ” ì‚­ì œ</code>ë˜ê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ ì¶”ê°€/ì‚­ì œëœ Pod ëª©ë¡ì„ ë¡œë“œë°¸ëŸ°ì„œê°€ ìœ ì—°í•˜ê²Œ ì„ íƒí•´ ì¤˜ì•¼ í•œë‹¤.</p>\n<br/>\n<p>ê·¸ë˜ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ <code class=\"language-text\">ë¼ë²¨(label)</code>ê³¼ <code class=\"language-text\">ë¼ë²¨ ì…€ë ‰í„°(label selector)</code> ë¼ëŠ” ê°œë…ì´ë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">ë¼ë²¨ ì…€ë ‰í„°(label selector)</code> : ì–´ë–¤ Podë¥¼ ì„œë¹„ìŠ¤ë¡œ ë¬¶ì„ ê²ƒì¸ì§€ ì •ì˜<br>\n</li>\n</ul>\n<p>ê° Podë¥¼ ìƒì„±í• ë•Œ <code class=\"language-text\">ë©”íƒ€ë°ì´íƒ€ ì •ë³´ ë¶€ë¶„</code>ì— <code class=\"language-text\">ë¼ë²¨ì„ ì •ì˜</code>í•  ìˆ˜ ìˆë‹¤.<br>\nì„œë¹„ìŠ¤ëŠ” ë¼ë²¨ ì…€ë ‰í„°ì—ì„œ íŠ¹ì • ë¼ë²¨ì„ ê°€ì§€ê³  ìˆëŠ” Podë§Œ ì„ íƒí•˜ì—¬ ì„œë¹„ìŠ¤ì— ë¬¶ê²Œ ëœë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/91119584-7d6a6e80-e6ce-11ea-805b-199d8c7e1e24.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-08-25 12-28-23\"></p>\n<p>ê·¸ë¦¼ì„¤ëª… : ë¼ë²¨ì´ <code class=\"language-text\">â€œmyappâ€</code>ì¸ ì„œë¹„ìŠ¤ë§Œ ë¶„ë¥˜í•´ ì„œë¹„ìŠ¤ì— ë„£ëŠ”ë‹¤. ë¶„ë¥˜ëœ Pod ê°„ <code class=\"language-text\">ë¡œë“œë°¸ëŸ°ì‹±</code>ì„ í†µí•˜ì—¬ ì™¸ë¶€ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µ</p>\n<br/>\n<p>ìœ„ ì„œë¹„ìŠ¤ë¥¼ ìŠ¤í™ìœ¼ë¡œ ì •ì˜í•´ë³´ì</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">kind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Service</span>\napiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\nmetadata<span class=\"token punctuation\">:</span>\nname<span class=\"token punctuation\">:</span> my<span class=\"token operator\">-</span><span class=\"token class-name\">service</span>\nspec<span class=\"token punctuation\">:</span>\nselector<span class=\"token punctuation\">:</span>\n    app<span class=\"token punctuation\">:</span> <span class=\"token class-name\">myapp</span>\nports<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> protocol<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TCP</span>\n    port<span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n    targetPort<span class=\"token punctuation\">:</span> <span class=\"token number\">9376</span></code></pre></div>\n<br/>\n<ul>\n<li><code class=\"language-text\">kind</code> : Serviceë¡œ ì§€ì •</li>\n<li><code class=\"language-text\">apiVersion</code> : v1ìœ¼ë¡œ ì •ì˜</li>\n<li><code class=\"language-text\">metadate-name</code> : my-service (ì„œë¹„ìŠ¤ì˜ ì´ë¦„)</li>\n<li><code class=\"language-text\">spec</code> : ì„œë¹„ìŠ¤ì— ëŒ€í•œ ìŠ¤í™ì„ ì •ì˜</li>\n<li><code class=\"language-text\">selector</code> : ë¼ë²¨ = <code class=\"language-text\">app:myapp</code>ì¸ Pod ë§Œì„ ì„ íƒí•´ì„œ ë¶„ë¥˜</li>\n<li><code class=\"language-text\">ports</code><br>\n<code class=\"language-text\">protocol</code> : TCP<br>\n<code class=\"language-text\">port</code> : 80 í¬íŠ¸ë¡œ ì„œë¹„ìŠ¤\n<code class=\"language-text\">targetPort</code> : 80 í¬íŠ¸ ìš”ì²­ì„ ì»¨í…Œì´ë„ˆì˜ 9376 í¬íŠ¸ë¡œ ì—°ê²°í•´ ì œê³µí•œë‹¤ </li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-name-space\" style=\"position:relative;\"><a href=\"#-name-space\" aria-label=\" name space permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘ Name space</h2>\n<p>í•˜ë‚˜ì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë‚´ì˜ <code class=\"language-text\">ë…¼ë¦¬ì ì¸ ë¶„ë¦¬ ë‹¨ìœ„</code>ë¼ê³  ë³´ë©´ ëœë‹¤.</p>\n<p><code class=\"language-text\">Pod,Service</code> ë“±ì€ <code class=\"language-text\">ë„¤ì„ ìŠ¤í˜ì´ìŠ¤ ë³„</code>ë¡œ ìƒì„±ì´ë‚˜ ê´€ë¦¬ê°€ ë˜ê³  ì‚¬ìš©ìì˜ ê¶Œí•œ ì—­ì‹œ ë„¤ì„ ìŠ¤í˜ì´ìŠ¤ ë³„ë¡œ ë‚˜ëˆ ì„œ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì¦‰ í•˜ë‚˜ì˜ í´ëŸ¬ìŠ¤í„° ë‚´ì— <code class=\"language-text\">ê°œë°œ/ìš´ì˜/í…ŒìŠ¤íŠ¸ í™˜ê²½</code>ì´ ìˆìœ¼ë©´  í´ëŸ¬ìŠ¤í„°ë¥¼ <code class=\"language-text\">ê°œë°œ/ìš´ì˜/í…ŒìŠ¤íŠ¸</code> 3ê°œì˜ ë„¤ì„ ìŠ¤í˜ì´ìŠ¤ë¡œ ë‚˜ëˆ  ìš´ì˜ì´ ê°€ëŠ¥í•˜ë‹¤. </p>\n<br/>\n<p><code class=\"language-text\">ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë™ì‘</code></p>\n<ul>\n<li>ì‚¬ìš©ì ë³„ë¡œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë³„ ì ‘ê·¼ ê¶Œí•œì„ ë‹¤ë¥´ê²Œ ìš´ì˜í•  ìˆ˜ ìˆë‹¤.</li>\n<li>ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ë¡œ ë¦¬ì†ŒìŠ¤ì˜ í• ë‹¹ëŸ‰ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤ ì¦‰ ì‚¬ìš© ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤ì˜ ìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.<br>\n(ex : ê°œë°œíŒ€ CPU 100, ìš´ì˜íŒ€ CPU 200) </li>\n<li>ë„¤ì„ ìŠ¤í˜ì´ìŠ¤ë³„ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ë‚˜ëˆ ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. (Pod, Service ë“±)</li>\n</ul>\n<br/>\n<p>í•˜ì§€ë§Œ ë„¤ì„ ìŠ¤í˜ì´ìŠ¤ëŠ” <code class=\"language-text\">ë…¼ë¦¬ì ì¸ ë¶„ë¦¬ ë‹¨ìœ„</code>ì¼ë¿ ë¬¼ë¦¬ì ì´ë‚˜ ì¥ì¹˜ë¥¼ í†µí•´ì„œ í™˜ê²½ì„ ë¶„ë¦¬(Isolation)í•œ ê²ƒì´ ì•„ë‹ˆë‹¤.<br>\nì¦‰ ë‹¤ë¥¸ ë„¤ì„ ìŠ¤í˜ì´ìŠ¤ê°„ì˜ pod ë¼ë„ í†µì‹ ì€ ê°€ëŠ¥í•˜ë‹¤.   </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/91120605-04204b00-e6d1-11ea-8f6c-20393369c6d7.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-08-25 12-46-31\">\nê·¸ë¦¼ê³¼ ê°™ì´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ì—¬ ìš´ì˜ì´ ê°€ëŠ¥í•˜ë‹¤!!!</p>\n<p><a href=\"https://cloud.google.com/blog/products/gcp/kubernetes-best-practices-organizing-with-namespaces\">ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì°¸ê³  ê¸€</a></p>\n<br/>\n<hr>\n<h2 id=\"-ë¼ë²¨label\" style=\"position:relative;\"><a href=\"#-%EB%9D%BC%EB%B2%A8label\" aria-label=\" ë¼ë²¨label permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ±â€ğŸ ë¼ë²¨(label)</h2>\n<p>ë¼ë²¨ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ <code class=\"language-text\">ë¦¬ì†ŒìŠ¤ë¥¼ ì„ íƒ</code>í•˜ëŠ”ë° ì‚¬ìš©ì´ ëœë‹¤.<br>\nê° ë¦¬ì†ŒìŠ¤ëŠ” ë¼ë²¨ì„ ê°€ì§ˆ ìˆ˜ ìˆê³  ë¼ë²¨ ê²€ìƒ‰ ì¡°ê±´ì— ë”°ë¼ì„œ íŠ¹ì • ë¼ë²¨ì„ ê°€ì§€ê³  ìˆëŠ” ë¦¬ì†ŒìŠ¤ë§Œì„ ì„ íƒí•  ìˆ˜ ìˆë‹¤.</p>\n<p>ë¼ë²¨ì„ ì„ íƒí•˜ì—¬ íŠ¹ì • ë¦¬ì†ŒìŠ¤ë§Œ ë°°í¬, ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆê³  ë˜ëŠ” ë¼ë²¨ë¡œ ì„ íƒëœ ë¦¬ì†ŒìŠ¤ë§Œ Serviceì— ì—°ê²°í•˜ê±°ë‚˜<br>\níŠ¹ì • ë¼ë²¨ë¡œ ì„ íƒëœ ë¦¬ì†ŒìŠ¤ì—ë§Œ ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ë“±ì´ ê°€ëŠ¥í•˜ë‹¤.</p>\n<p>ë¼ë²¨ì€ metadata ì„¹ì…˜ì— í‚¤/ê°’ ìŒìœ¼ë¡œ ì •ì˜ê°€ ê°€ëŠ¥í•˜ë©° í•˜ë‚˜ì˜ ë¦¬ì†ŒìŠ¤ì—ëŠ” í•˜ë‚˜ì˜ ë¼ë²¨ì´ ì•„ë‹ˆë¼ ì—¬ëŸ¬ ë¼ë²¨ì„ ë™ì‹œì— ì ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<br/>\n<p>ì´í•´ê°€ ê°€ì¥ ë¹ ë¥¸ê±´ ì—­ì‹œ ì •ì˜!</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token string\">\"metadata\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"token string\">\"labels\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"key1\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"value1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"key2\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"value2\"</span>\n <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">ì…€ë ‰í„°</code>ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ì—ì„œ selector ë¼ê³  ì •ì˜í•˜ê³  ë¼ë²¨ ì¡°ê±´ì„ ì ì–´ ë†“ìœ¼ë©´ ëœë‹¤. </p>\n<br/>\n<p>k8sëŠ” ë‘ ê°€ì§€ ì…€ë ‰í„°ë¥¼ ì œê³µí•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ <code class=\"language-text\">Equaility based selector</code>ì™€ <code class=\"language-text\">Set based selector</code> ì´ë‹¤.</p>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">Equality based selector</code> : ê°™ëƒ, ë‹¤ë¥´ëƒì™€ ê°™ì€ ì¡°ê±´ì„ ì´ìš©í•˜ì—¬, ë¦¬ì†ŒìŠ¤ë¥¼ ì„ íƒí•˜ëŠ” ë°©ë²•</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">environment <span class=\"token operator\">=</span> dev\n\ntier <span class=\"token operator\">!=</span> frontend</code></pre></div>\n<p>ê°™ì´ ë“±ê°€ ì¡°ê±´ì— ë”°ë¼ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ì„ íƒí•œë‹¤.</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">set based selector</code> : Equality based ë³´ë‹¤ í–¥ìƒëœ ì…€ë ‰í„°ë¡œ ì§‘í•©ì˜ ê°œë…ì„ ì‚¬ìš©í•œë‹¤.</p>\n<ul>\n<li>environment in (production,qa) ëŠ” environmentê°€ production ë˜ëŠ” qa ì¸ ê²½ìš° </li>\n<li>tier notin (frontend,backend)ëŠ” frontendë„ ì•„ë‹ˆê³  backendë„ ì•„ë‹Œ ë¦¬ì†ŒìŠ¤ë¥¼ ì„ íƒ.</li>\n</ul>\n<p>ì•„ë˜ nasa-service ë¼ëŠ” ì´ë¦„ì˜ ì„œë¹„ìŠ¤ë¥¼ ì •ì˜í–ˆë‹¤.<br>\nì…€ë ‰í„°ì—ì„œ app: myapp ì •ì˜í•´ì„œ Podì˜ ë¼ë²¨ appì´ myapp ê²ƒë§Œ ê³¨ë¼ ì´ ì„œë¹„ìŠ¤ì— ë°”ì¸ë”©í•´ì„œ 9376 í¬íŠ¸ë¡œ ì„œë¹„ìŠ¤ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">kind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Service</span>\napiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\nmetadata<span class=\"token punctuation\">:</span>\nname<span class=\"token punctuation\">:</span> my<span class=\"token operator\">-</span><span class=\"token class-name\">service</span>\nspec<span class=\"token punctuation\">:</span>\nselector<span class=\"token punctuation\">:</span>\n    app<span class=\"token punctuation\">:</span> <span class=\"token class-name\">myapp</span>\nports<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> protocol<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TCP</span>\n    port<span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n    targetPort<span class=\"token punctuation\">:</span> <span class=\"token number\">9376</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-ì»¨íŠ¸ë¡¤ëŸ¬\" style=\"position:relative;\"><a href=\"#-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\" aria-label=\" ì»¨íŠ¸ë¡¤ëŸ¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¶ ì»¨íŠ¸ë¡¤ëŸ¬</h2>\n<p>ì•ì— ìˆëŠ” 4ê°œì˜ ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ì •í•˜ê³  ë°°í¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.<br>\nì´ë¥¼ ì¡°ê¸ˆ ë” í¸ë¦¬í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•œë‹¤.</p>\n<p>ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ë“¤ì„ ìƒì„±í•˜ê³  ì´ë¥¼ ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•´ì¤€ë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì¢…ë¥˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">Replication Controller</code> : Podë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” ì—­í• , ì§€ì •ëœ ìˆ«ìë¡œ Podë¥¼ ê¸°ë™, ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤. </p>\n<p>Replication Controller (RC)ëŠ” í¬ê²Œ 3ê°€ì§€ íŒŒíŠ¸ë¡œ êµ¬ì„±ë˜ëŠ”ë° ì•„ë˜ì™€ ê°™ë‹¤.  </p>\n<ul>\n<li>Replicaì˜ ìˆ˜</li>\n<li>Pod Selector</li>\n<li>Pod Template</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>Selector : ë¨¼ì € Pod selectorëŠ” ë¼ë²¨ ê¸°ë°˜ì´ë©°, RCê°€ ê´€ë¦¬í•œ Podë¥¼ ê°€ì§€ê³  ì˜¤ëŠ”ë° ì‚¬ìš©í•œë‹¤.</li>\n<li>Replica ìˆ˜ :  RCì— ì˜í•´ì„œ ê´€ë¦¬ë˜ëŠ” Podì˜ ìˆ˜, ê·¸ ìˆ«ìë§Œí¼ Pod ì˜ ìˆ˜ë¥¼ ìœ ì§€í•˜ë„ë¡ í•œë‹¤.  </li>\n<li>Pod template : Podì— ëŒ€í•œ ì •ë³´ (ë„ì»¤ ì´ë¯¸ì§€, í¬íŠ¸,ë¼ë²¨ë“±)ì— ëŒ€í•œ ì •ë³´ë¥¼ ì •ì˜ í•œë‹¤.</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì•„ë˜ ì˜ˆë¥¼ ë³´ì.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/93280269-299e0180-f804-11ea-91ff-a8648eca6c19.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 10-00-43\"></p>\n<p>ngnixë¼ëŠ” ì´ë¦„ì˜ RCë¥¼ ì •ì˜í•œ ê²ƒìœ¼ë¡œ<br>\nlabelì´ â€œapp:ngnixâ€ì¸ Podë“¤ì„ ê´€ë¦¬í•˜ê³  3ê°œì˜ Podê°€ í•­ìƒ ìš´ì˜ë˜ë„ë¡ ì„¤ì •í•œë‹¤.</p>\n<p>PodëŠ” app:ngnix ë¼ëŠ” ë¼ë²¨ì„ ê°€ì§€ë©°, ì´ë¦„ì´ ngnixì´ê³  nginx ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•´ì„œ ìƒì„±í•˜ê³ <br>\nì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ëŠ” 80 ë²ˆ í¬íŠ¸ë¥¼ ì´ìš©í•´ì„œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"replicaset\" style=\"position:relative;\"><a href=\"#replicaset\" aria-label=\"replicaset permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ReplicaSet</h3>\n<p>Replication Controller ì˜ ì—…ë°ì´íŠ¸ ë²„ì „ìœ¼ë¡œ ìƒê°í•˜ë©´ ëœë‹¤.<br>\nReplicaSetì´ ë‚˜ì˜´ìœ¼ë¡œ ì¨ RCëŠ” ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\në‘ ì„œë¹„ìŠ¤ì˜ í° ì°¨ì´ëŠ” ì—†ê³ <br>\nReplication Controller ëŠ” Equality ê¸°ë°˜ Selectorë¥¼ ì´ìš©í•˜ê³ <br>\nReplica Setì€ Set ê¸°ë°˜ì˜ Selectorë¥¼ ì´ìš©í•œë‹¤. </p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"deployment\" style=\"position:relative;\"><a href=\"#deployment\" aria-label=\"deployment permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deployment</h3>\n<p>Replication controllerì™€ Replica Setì˜ ì¢€ë” ìƒìœ„ ì¶”ìƒí™” ê°œë…ì´ë‹¤.<br>\nì‹¤ì œ ìš´ì˜ì—ì„œëŠ” RS ë‚˜ RCë¥¼ ë°”ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤,  ì¢€ ë” ì¶”ìƒí™”ëœ Deploymentë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"-ì¿ ë²„ë„¤í‹°ìŠ¤-ë°°í¬ì—-ëŒ€í•œ-ì´í•´\" style=\"position:relative;\"><a href=\"#-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EB%B0%B0%ED%8F%AC%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9D%B4%ED%95%B4\" aria-label=\" ì¿ ë²„ë„¤í‹°ìŠ¤ ë°°í¬ì— ëŒ€í•œ ì´í•´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ˜ƒ ì¿ ë²„ë„¤í‹°ìŠ¤ ë°°í¬ì— ëŒ€í•œ ì´í•´</h2>\n<p>ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ Deployment ë¦¬ì†ŒìŠ¤ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ì„œ<br>\nì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Deployment ì—†ì´ ì–´ë–»ê²Œ ë°°í¬ë¥¼ í•˜ëŠ”ì§€ì— ëŒ€í•´ì„œ ì´í•´ë¥¼ í•´ì•¼ í•œë‹¤.  </p>\n<br/>\n<p>ë‹¤ìŒê³¼ ê°™ì€ Podì™€ RCê°€ ìˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/93280666-26574580-f805-11ea-9f51-8bd65e77f541.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 10-12-28\"></p>\n<p>ì´ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì—…ë°ì´íŠ¸ë˜ì„œ ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ êµ½ê³  ì´ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.<br>\nì—¬ëŸ¬ê°€ì§€ ë°°í¬ ì „ëµì´ ìˆê² ì§€ë§Œ, ë‘ê°€ì§€ ë°©ë²•ì— ëŒ€í•´ì„œë§Œ ì„¤ëª…í•´ë³´ì.</p>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">ë¸”ë£¨/ê·¸ë¦° ë°°í¬</code><br>\në¸”ë£¨(ì˜ˆì „)ë²„ì „ìœ¼ë¡œ ì„œë¹„ìŠ¤ í•˜ê³  ìˆë˜ ì‹œìŠ¤í…œì„ ê·¸ë¦°(ìƒˆë¡œìš´)ë²„ì „ì„ ë°°í¬í•œ í›„ íŠ¸ë˜í”½ì„ ë¸”ë£¨ì—ì„œ ê·¸ë¦°ìœ¼ë¡œ í•œë²ˆì— ëŒë¦¬ëŠ” ë°©ì‹ì´ë‹¤.<br>\nì—¬ëŸ¬ ë°©ë²•ì´ ìˆì§€ë§Œ ì†ì‰¬ìš´ ë°©ë²•ì€ ìƒˆë¡œìš´ RCì„ ë§Œë“¤ì–´ ìƒˆë¡œìš´ í…œí”Œë¦¿ìœ¼ë¡œ Podë¥¼ ìƒì„±í•œ ë’¤<br>\nPod ìƒì„±ì´ ëë‚˜ë©´, ì„œë¹„ìŠ¤ë¥¼ ìƒˆë¡œìš´ Podë¡œ ì˜®ê¸°ëŠ” ë°©ì‹ì´ë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/93282744-08401400-f80a-11ea-8300-956f40553998.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 10-46-55\">\ní›„ì—, ë°°í¬ê°€ ì™„ë£Œë˜ê³  ë¬¸ì œê°€ ì—†ìœ¼ë©´ ì˜ˆì „ ë²„ì „ì˜ RC ì™€ Podë¥¼ ì§€ì›Œì¤€ë‹¤.</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">ë¡¤ë§ ì—…ë°ì´íŠ¸ ë°©ì‹</code><br>\nPodë¥¼ í•˜ë‚˜ì”© ì—…ê·¸ë ˆì´ë“œ í•´ê°€ëŠ” ë°©ì‹ì´ë‹¤.  </p>\n<p>[1] ì´ ë°°í¬ë¥¼ ìœ„í•´ì„  ë¨¼ì € ìƒˆë¡œìš´ RCë¥¼ ë§Œë“  ë’¤ ê¸°ì¡´ RCì—ì„œ replica ìˆ˜ë¥¼ í•˜ë‚˜ ì¤„ì´ê³ , ìƒˆë¡œìš´ RCì—ëŠ” replica ìˆ˜ë¥¼ í•˜ë‚˜ë§Œ ì¤€ë‹¤.\n<img src=\"https://user-images.githubusercontent.com/69498804/93283005-96b49580-f80a-11ea-94b1-0bd5e70cee5e.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 10-51-30\">\në¼ë²¨ì´ ë™ì¼í•˜ë©´ ì„œë¹„ìŠ¤ëŠ” ìì—°íˆ ìƒˆë¡œìš´ RCì— ì˜í•´ ìƒì„±ëœ Podë¥¼ ì„œë¹„ìŠ¤ì— í¬í•¨ ì‹œí‚¨ë‹¤.</p>\n<br/>\n<p>[2] ë‹¤ìŒìœ¼ë¡œ ê¸°ì¡´ RCì˜ replicaë¥¼ í•˜ë‚˜ ë” ì¤„ì´ê³ , ìƒˆë¡œìš´ RCì˜  replicaë¥¼ í•˜ë‚˜ ë” ëŠ˜ë¦°ë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/93283148-ea26e380-f80a-11ea-8df7-0fbed12ab227.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 10-53-50\"></p>\n<br/>\n<p>[3]ì´í›„ ê¸°ì¡´ Podê°€ í•˜ë‚˜ë” ì„œë¹„ìŠ¤ì—ì„œ ë¹ ì§€ê²Œ ë˜ê³  ìƒˆë¡œìš´ ë²„ì „ì˜ Podê°€ ì„œë¹„ìŠ¤ì— ì¶”ê°€ëœë‹¤.</p>\n<p>ìœ„ì˜ ì‘ì—…ì„ ë°˜ë³µí•˜ê²Œ ë˜ë©´ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì˜ˆì „ ë²„ì „ì˜ Podê°€ ëª¨ë‘ ë¹ ì§€ê³  ìƒˆ ë²„ì „ì˜ Podë§Œ ì„œë¹„ìŠ¤ ë˜ê²Œ ëœë‹¤. </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/93283242-193d5500-f80b-11ea-820d-83b9e1408570.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 10-55-11\"></p>\n<p>ë§Œì•½ ë°°í¬ê°€ ì˜ëª»ë˜ì—ˆì„ ê²½ìš°ì—ëŠ” ê¸°ì¡´ RCì˜ replica ìˆ˜ë¥¼ ì›ë˜ëŒ€ë¡œ ì˜¬ë¦¬ê³ <br>\nìƒˆë²„ì „ì˜ replicat ìˆ˜ë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ì˜ˆì „ ë²„ì „ì˜ Podë¡œ ë¡¤ë°±ì´ ê°€ëŠ¥í•˜ë‹¤.</p>\n<p>ì´ ê³¼ì •ì€ kubectl rolling-updateë¼ëŠ” ëª…ë ¹ìœ¼ë¡œ RC ë‹¨ìœ„ë¡œ ì»¨íŠ¸ë¡¤ì´ ê°€ëŠ¥í•˜ì§€ë§Œ<br>\nê·¸ë˜ë„ ì—¬ì „íˆ ì‘ì—…ì´ í•„ìš”í•˜ê³ , ë°°í¬ ê³¼ì •ì„ ëª¨ë‹ˆí„°ë§ í•´ì•¼ í•œë‹¤.<br>\nê·¸ë¦¬ê³  ê°€ì¥ í° ë¬¸ì œëŠ” kubectl rolling-update ëª…ë ¹ì€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‹¤í–‰ í•˜ëŠ” ëª…ë ¹ìœ¼ë¡œ<br>\nëª…ë ¹ì–´ ì‹¤í–‰ì¤‘ì— í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²°ì´ ëŠì–´ ì§€ë©´ ë°°í¬ì‘ì—…ì´ ë¹„ì •ìƒì ìœ¼ë¡œ ëŠì–´ì§ˆ ìˆ˜ ìˆëŠ” ë¬¸ì œê°€ ìˆë‹¤. </p>\n<p>ì¶”ê°€ì ìœ¼ë¡œ, ë¡¤ë°±ê³¼ì • ì—­ì‹œ ìˆ˜ë™ ì»¨íŠ¸ë¡¤ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤. ê·¸ë˜ì„œ ì´ëŸ¬í•œ ê³¼ì •ì„ ìë™í™”í•˜ê³  ì¶”ìƒí™”í•œ ê°œë…ì„ Deploymentë¼ê³  ë³´ë©´ ëœë‹¤.</p>\n<p>DeploymentëŠ” Pod ë°°í¬ë¥¼ ìœ„í•´ì„œ RCë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•˜ë©°<br>\níŠ¹íˆ ë¡¤ë°±ì„ ìœ„í•œ ê¸°ì¡´ ë²„ì „ì˜ RC ê´€ë¦¬ë“± ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ì„ í¬ê´„ì ìœ¼ë¡œ í¬í•¨í•˜ê³  ìˆë‹¤.\n<img src=\"https://user-images.githubusercontent.com/69498804/93283605-d3cd5780-f80b-11ea-8f30-080ffd0b8735.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 11-00-23\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-ê³ ê¸‰-ì»¨íŠ¸ë¡¤ëŸ¬\" style=\"position:relative;\"><a href=\"#-%EA%B3%A0%EA%B8%89-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\" aria-label=\" ê³ ê¸‰ ì»¨íŠ¸ë¡¤ëŸ¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ¨ ê³ ê¸‰ ì»¨íŠ¸ë¡¤ëŸ¬</h2>\n<p>RC,RS,DeploymentëŠ” ì›¹ì„œë²„ì™€ ê°™ì€ ì¼ë°˜ì ì¸ ì›Œí¬ë¡œë“œì— ëŒ€í•´ Podë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì»¨íŠ¸ë¡¤ëŸ¬ì´ë‹¤.<br>\nì‹¤ì œ ìš´ì˜í™˜ê²½ì—ì„œëŠ” ì›¹ì„œë²„ ì´ì™¸ì˜ ë°ì´íƒ€ë² ì´ìŠ¤ ,ë°°ì¹˜ ì‘ì—…, ë°ëª¬ ì„œë²„ë“±ê³¼ ê°™ì´<br>\në‹¤ì–‘í•œ í˜•íƒœì˜ ì›Œí¬ë¡œë“œ ëª¨ë¸ì´ ì¡´ì¬í•˜ëŠ”ë° ì´ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ k8sëŠ” ë‹¤ì–‘í•œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì œê³µí•œë‹¤. </p>\n<br/>\n<ul>\n<li>\n<h3 id=\"code-classlanguage-textdaemonsetcode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textdaemonsetcode\" aria-label=\"code classlanguage textdaemonsetcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">DaemonSet</code></h3>\n<p>DaemonSet(DS)ëŠ” Podê°€ ê°ê°ì˜ ë…¸ë“œì—ì„œ í•˜ë‚˜ì”©ë§Œ ëŒê²Œ í•˜ëŠ” í˜•íƒœë¡œ Podë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì´ë‹¤.\n<img src=\"https://user-images.githubusercontent.com/69498804/93283921-74237c00-f80c-11ea-85b4-3fa482f66c84.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 11-04-50\"></p>\n<p>RCë‚˜ RSì— ì˜í•´ì„œ ê´€ë¦¬ë˜ëŠ” Pod ëŠ” ë…¸ë“œì˜ ìƒí™©ì— ë”°ë¼ì„œ ì¼ë°˜ì ìœ¼ë¡œ ë¹„ê· ë“±ì ìœ¼ë¡œ ë°°í¬ê°€ ë˜ì§€ë§Œ<br>\nDSì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” PodëŠ” ëª¨ë“  ë…¸ë“œì— ê· ë“±í•˜ê²Œ <code class=\"language-text\">í•˜ë‚˜ì”©</code>ë§Œ ë°°í¬ ëœë‹¤.</p>\n<p>ì´ëŸ° í˜•íƒœì˜ ì›Œí¬ë¡œë“œëŠ” ì„œë²„ì˜ ëª¨ë‹ˆí„°ë§ì´ë‚˜ ë¡œê·¸ ìˆ˜ì§‘ ìš©ë„ë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ”ë°<br>\nDSì˜ ë‹¤ë¥¸ íŠ¹ì§•ì¤‘ í•˜ë‚˜ëŠ”, <code class=\"language-text\">íŠ¹ì • Nodeë“¤ì—ë§Œ Podê°€ í•˜ë‚˜ì”©</code>ë§Œ ë°°í¬ ë˜ë„ë¡ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤.</p>\n<p>ë¡œê·¸ë‚˜ ëª¨ë‹ˆí„°ë§ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ íŠ¹ì • ì¥ë¹„ì— ëŒ€í•œ ëª¨ë‹ˆí„°ë§ì„ í•˜ê³ ì í•  ë•Œ ì´ëŸ° ì‹œë‚˜ë¦¬ì˜¤ê°€ ìœ íš¨í•˜ë‹¤.<br>\nì˜ˆë¥¼ ë“¤ì–´ íŠ¹ì • ì¥ë¹„(ë…¸ë“œ)ì—ë§Œ Nvme SSDë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ GPUë¥¼ ì‚¬ìš©í•  ê²½ìš° ê·¸ ì¥ë¹„ê°€ ì„¤ì¹˜ëœ ë…¸ë“œë§Œì„ ëª¨ë‹ˆí„°ë§í•˜ë©´ ëœë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/93284066-cbc1e780-f80c-11ea-8908-ae3a5fdb5551.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 11-07-18\"></p>\n<p>DSëŠ” íŠ¹ì • ë…¸ë“œì—ë§Œ Podë¥¼ ë°°í¬í•  ìˆ˜ ìˆë„ë¡ Podì˜ <code class=\"language-text\">â€œnode selectorâ€</code>ë¥¼ ì´ìš©í•´ì„œ íŠ¹ì • ë…¸ë“œë§Œì„ ì„ íƒí•  ìˆ˜ ìˆê²Œ ì§€ì›í•œë‹¤. </p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"ğŸ¤¦â™‚ï¸-job\" style=\"position:relative;\"><a href=\"#%F0%9F%A4%A6%E2%99%82%EF%B8%8F-job\" aria-label=\"ğŸ¤¦â™‚ï¸ job permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤¦â€â™‚ï¸ Job</h2>\n<p>ì›Œí¬ë¡œë“œ ëª¨ë¸ì¤‘ì—ì„œ ë°°ì¹˜ë‚˜ í•œë²ˆ ì‹¤í–‰ë˜ê³  ëë‚˜ëŠ” í˜•íƒœì˜ ì‘ì—…ì´ ìˆì„ ìˆ˜ ìˆë‹¤.<br>\nì˜ˆë¥¼ ë“¤ì–´ ì›íƒ€ì„ìœ¼ë¡œ íŒŒì¼ ë³€í™˜ ì‘ì—…ì„ í•˜ê±°ë‚˜, ë˜ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ETL ë°°ì¹˜ ì‘ì—…ì„ í•˜ëŠ” ê²½ìš°ì—ëŠ” ì›¹ì„œë²„ ì²˜ëŸ¼ ê³„ì† Podê°€ ë–  ìˆì„ í•„ìš”ì—†ì´ ì‘ì—…ì„ í• ë•Œë§Œ Pod ë¥¼ ë„ìš°ë©´ ëœë‹¤.\nì´ëŸ¬í•œ í˜•íƒœì˜ ì›Œí¬ë¡œë“œ ëª¨ë¸ì„ ì§€ì›í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ Jobì´ë¼ê³  í•œë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/93284286-47239900-f80d-11ea-87f1-309f3ebefac2.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 11-10-43\"></p>\n<p>Jobì— ì˜í•´ì„œ ê´€ë¦¬ë˜ëŠ” PodëŠ” Jobì´ ì¢…ë£Œë˜ë©´, Pod ë¥¼ ê°™ì´ ì¢…ë£Œí•œë‹¤.</p>\n<p>Jobì„ ì •ì˜í• ë•ŒëŠ” ë³´í†µ ì•„ë˜ì™€ ê°™ì´ ì»¨í…Œì´ë„ˆ ìŠ¤í™ ë¶€ë¶„ì— image ë¿ë§Œ ì•„ë‹ˆë¼<br>\nì»¨í…Œì´ë„ˆì—ì„œ Jobì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ì»¤ë§¨ë“œ(command) ë¥¼ ê°™ì´ ì…ë ¥í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> batch<span class=\"token operator\">/</span><span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Job</span>\nmetadata<span class=\"token punctuation\">:</span>\nname<span class=\"token punctuation\">:</span> <span class=\"token class-name\">pi</span>\nspec<span class=\"token punctuation\">:</span>\ntemplate<span class=\"token punctuation\">:</span>\n    spec<span class=\"token punctuation\">:</span>\n    containers<span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">-</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">pi</span>\n        image<span class=\"token punctuation\">:</span> <span class=\"token class-name\">perl</span>\n        command<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"perl\"</span><span class=\"token punctuation\">,</span>  <span class=\"token string\">\"-Mbignum=bpi\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-wle\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"print bpi(2000)\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>#####\n    restartPolicy<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Never</span>\nbackoffLimit<span class=\"token punctuation\">:</span> <span class=\"token number\">4</span></code></pre></div>\n<br/>\n<p>Job ì»¨íŠ¸ë¡¤ëŸ¬ì— ì˜í•´ì„œ ì‹¤í–‰ëœ Pod ëŠ” ì´ commandì˜ ì‹¤í–‰ ê²°ê³¼ì— ë”°ë¼ì„œ Jobì´ ì‹¤íŒ¨í•œì§€ ì„±ê³µí•œì§€ë¥¼ íŒë‹¨í•œë‹¤.<br>\n(í”„ë¡œì„¸ìŠ¤ì˜ exit ì½”ë“œë¡œ íŒë‹¨)<br>\nJobì´ ì¢…ë£Œë˜ì—ˆëŠ”ë°, ê²°ê³¼ê°€ ì‹¤íŒ¨ë¼ë©´,ì´ Jobì„ ì¬ì‹¤í–‰í• ì§€ ë˜ëŠ” ëë‚¼ì§€ë¥¼ ì„¤ì •ì— ë”°ë¼ì„œ ê²°ì •í•œë‹¤.</p>\n<p><code class=\"language-text\">í•˜ì§€ë§Œ ë§Œì•½ Jobì´ ëë‚˜ê¸° ì „ì— ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœë‹¤ë©´ ì–´ë–»ê²Œ ë ê²ƒì¸ê°€?</code> </p>\n<p>ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì—ì„œ íŠ¹ì • ë…¸ë“œê°€ ì¥ì• ê°€ ë‚¬ë‹¤ê³  ê°€ì •í•˜ì<br>\nRC/RSì— ì˜í•´ì„œ ê´€ë¦¬ë˜ê³  ìˆëŠ” Pod ëŠ” ìë™ìœ¼ë¡œ ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ë‹¤ì‹œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì„œ ì‹œì‘ë ê²ƒì´ê³ <br>\nì»¨íŠ¸ë¡¤ëŸ¬ì— ì˜í•´ ê´€ë¦¬ë˜ê³  ìˆì§€ ì•Šì€ Pod ëŠ” ë‹¤ì‹œ ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ê¸°ë™ë˜ì§€ ì•Šê³  ì‚¬ë¼ì§ˆê²ƒì´ë‹¤.</p>\n<p>ê·¸ë ‡ë‹¤ë©´ Job ì— ì˜í•´ì„œ ê´€ë¦¬ë˜ëŠ” PodëŠ” ì–´ë–»ê²Œ ë ê²ƒì¸ê°€?\n<img src=\"https://user-images.githubusercontent.com/69498804/93284493-cd3fdf80-f80d-11ea-83f6-2288a32ecf66.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 11-14-31\"></p>\n<p>ë‘ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.  </p>\n<ol>\n<li>ì¥ì• ì‹œ ë‹¤ì‹œ ì‹œì‘í•˜ê²Œ í•˜ê±°ë‚˜  </li>\n<li>ì¥ì• ì‹œ ë‹¤ì‹œ ì‹œì‘í•˜ì§€ ì•Šê²Œ í•  ìˆ˜ ìˆë‹¤. </li>\n</ol>\n<p>ë‹¤ì‹œ ì‹œì‘ì˜ ê°œë…ì€ ì‘ì—…ì˜ ìƒíƒœê°€ ë³´ì¥ë˜ëŠ”ê²ƒì´ ì•„ë‹Œ<br>\në‹¤ì‹œ ì²˜ìŒë¶€í„° ì‘ì—…ì´ ì¬ ì‹œì‘ë˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— resumeì´ ì•„ë‹Œ restartì˜ ê°œë…ì´ë‹¤.<br>\në‹¤ì‹œ ì‹œì‘ ì²˜ìŒë¶€í„° ì‘ì—…ì„ ì‹œì‘í•˜ë”ë¼ë„ ë°ì´íƒ€ê°€ ê²¹ì¹˜ê±°ë‚˜ ë¬¸ì œê°€ ì—†ëŠ” í˜•íƒœì—¬ì•¼ í•œë‹¤. </p>\n<p>ë°°ì¹˜ ì‘ì—…ì˜ ê²½ìš° ì‘ì—…ì„ í•œë²ˆë§Œ ì‹¤í–‰í•  ìˆ˜ ë„ ìˆì§€ë§Œ<br>\nê°™ì€ ì‘ì—…ì„ ì—°ì†í•´ì„œ ì—¬ëŸ¬ë²ˆ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. (ë°ì´íƒ€ê°€ í´ ê²½ìš° ë²”ìœ„ë¥¼ ë‚˜ëˆ ì„œ ì‘ì—…í•˜ëŠ” ê²½ìš°)<br>\nì´ëŸ° ê²½ìš°ë¥¼ ìœ„í•´ì„œ Job ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê°™ì€ Podë¥¼ ìˆœì°¨ì ìœ¼ë¡œ, ì—¬ëŸ¬ë²ˆ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤.<br>\nJob ì„¤ì •ì—ì„œ <code class=\"language-text\">completion</code>ì— íšŸìˆ˜ë¥¼ ì£¼ë©´, ê°™ì€ ì‘ì—…ì„ completion íšŸìˆ˜ë§Œí¼ ìˆœì°¨ì ìœ¼ë¡œ ë°˜ë³µí•œë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/93284745-417a8300-f80e-11ea-80d6-a46f2fc77297.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 11-17-47\"></p>\n<br/>\n<p>ë§Œì•½ ì—¬ëŸ¬ ì‘ì—…ì„ ì²˜ë¦¬í•´ì•¼ í•˜ì§€ë§Œ ìˆœì°¨ì„±ì´ í•„ìš”ì—†ê³  ë³‘ë ¬ë¡œ ì²˜ë¦¬ë¥¼ í•˜ê³  ì‹¶ë‹¤ë©´<br>\nJobì„¤ì •ì—ì„œ <code class=\"language-text\">parallelism</code> ì— ë™ì‹œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” Podì˜ ìˆ˜ë¥¼ ì£¼ë©´<br>\nì§€ì •ëœ ìˆ˜ ë§Œí¼ Podë¥¼ ì‹¤í–‰í•˜ì—¬ completion íšŸìˆ˜ë¥¼ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•œë‹¤.<br>\nì•„ë˜ ê·¸ë¦¼ì€ completionì´ 5, parallelismì´ 2ì¼ ê²½ìš°<br>\ní•˜ë‚˜ì˜ ë…¸ë“œì—ì„œ ëª¨ë“  Podê°€ ì‹¤í–‰ëœë‹¤ê³  ê°€ì •í–ˆì„ë•Œ, ì‹¤í–‰ ìˆœì„œë¥¼ ë³´ì—¬ì£¼ëŠ” ê·¸ë¦¼ì´ë‹¤. </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/93284830-7686d580-f80e-11ea-8764-1b9c6fafd424.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-09-16 11-19-14\"></p>\n<p>ìš”ì•½ : ì´ 2ê°œì˜ POD ì—ì„œ ë³‘ë ¬ ì‹¤í–‰, 5ë²ˆ ë°˜ë³µ!!</p>\n<br/>\n<hr>\n<h2 id=\"-cron-jobs\" style=\"position:relative;\"><a href=\"#-cron-jobs\" aria-label=\" cron jobs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ¹ Cron jobs</h2>\n<p>Job ì»¨íŠ¸ë¡¤ëŸ¬ì— ì˜í•´ì„œ ì‹¤í–‰ë˜ëŠ” ë°°ì¹˜ì„± ì‘ì—…ë“¤ì— ëŒ€í•´ì„œ ê³ ë ¤í•  ì  ì¤‘ í•˜ë‚˜ëŠ”<br>\nì´ëŸ° ë°°ì¹˜ì„± ì‘ì—…ì„ ë©”ë‰´ì–¼ë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì£¼ê¸°ì ìœ¼ë¡œ ìë™í™”í•´ì„œ ì‹¤í–‰í•  í•„ìš”ê°€ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.<br>\nì´ë ‡ê²Œ ì£¼ê¸°ì ìœ¼ë¡œ ì •í•´ì§„ ìŠ¤ì¼€ì¥´ì— ë”°ë¼ Job ì»¨íŠ¸ë¡¤ëŸ¬ì— ì˜í•´ ì‘ì—…ì„ ì‹¤í–‰í•´ì£¼ëŠ” ì—­í• ì´ë‹¤. </p>\n<p>ì•„ë˜ëŠ” cron jobs ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì˜ˆì œì¸ë°, job ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ì„¤ì •ì´ ë‹¤ë¥´ì§€ ì•Šë‹¤. </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> batch<span class=\"token operator\">/</span><span class=\"token class-name\">v1beta1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">CronJob</span>\nmetadata<span class=\"token punctuation\">:</span>\nname<span class=\"token punctuation\">:</span> <span class=\"token class-name\">hello</span>\nspec<span class=\"token punctuation\">:</span>\nschedule<span class=\"token punctuation\">:</span> <span class=\"token string\">\"*/1 * * * *\"</span>\njobTemplate<span class=\"token punctuation\">:</span>\n    spec<span class=\"token punctuation\">:</span>\n    template<span class=\"token punctuation\">:</span>\n        spec<span class=\"token punctuation\">:</span>\n        containers<span class=\"token punctuation\">:</span>\n        <span class=\"token operator\">-</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">hello</span>\n            image<span class=\"token punctuation\">:</span> <span class=\"token class-name\">busybox</span>\n            args<span class=\"token punctuation\">:</span>\n            <span class=\"token operator\">-</span> <span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>sh\n            <span class=\"token operator\">-</span> <span class=\"token operator\">-</span>c\n            <span class=\"token operator\">-</span> date<span class=\"token punctuation\">;</span> echo Hello <span class=\"token keyword\">from</span> the Kubernetes <span class=\"token class-name\">cluster</span>\n        restartPolicy<span class=\"token punctuation\">:</span> OnFailure</code></pre></div>\n<p>ë‹¤ë¥¸ ì ì€ CronJob ìŠ¤í™ ì„¤ì • ë¶€ë¶„ì— <code class=\"language-text\">â€œscheduleâ€</code>ì´ë¼ëŠ” í•­ëª©ì´ ìˆê³  ë°˜ë³µ ì¡°ê±´ì„ unix cronê³¼ ê°™ì´ ì„¤ì •í•˜ë©´ ëœë‹¤. </p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC\">âœ” ê°œë…ì •ë¦¬</a></p>\n<ul>\n<li><a href=\"#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8\">ì˜¤ë¸Œì íŠ¸</a></li>\n<li><a href=\"#%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-%EC%8A%A4%ED%8E%99-object-spec\">ì˜¤ë¸Œì íŠ¸ ìŠ¤í™ (Object Spec)</a></li>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-basic-object\">ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ (Basic Object)</a></li>\n</ul>\n</li>\n<li><a href=\"#-pod\">âœŒ Pod</a></li>\n<li><a href=\"#-volume\">ğŸ‘ Volume</a></li>\n<li><a href=\"#-service\">ğŸ‘Œ Service</a></li>\n<li><a href=\"#-name-space\">ğŸ‘ Name space</a></li>\n<li><a href=\"#-%EB%9D%BC%EB%B2%A8label\">ğŸ±â€ğŸ ë¼ë²¨(label)</a></li>\n<li><a href=\"#-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\">ğŸ¶ ì»¨íŠ¸ë¡¤ëŸ¬</a></li>\n<li><a href=\"#-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EB%B0%B0%ED%8F%AC%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9D%B4%ED%95%B4\">ğŸ˜ƒ ì¿ ë²„ë„¤í‹°ìŠ¤ ë°°í¬ì— ëŒ€í•œ ì´í•´</a></li>\n<li><a href=\"#-%EA%B3%A0%EA%B8%89-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\">âœ¨ ê³ ê¸‰ ì»¨íŠ¸ë¡¤ëŸ¬</a></li>\n<li><a href=\"#%F0%9F%A4%A6%E2%99%82%EF%B8%8F-job\">ğŸ¤¦â€â™‚ï¸ Job</a></li>\n<li><a href=\"#-cron-jobs\">ğŸŒ¹ Cron jobs</a></li>\n</ul>\n</div>","frontmatter":{"date":"June 29, 2021","title":"[Kubernetes] - ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì»´í¬ë„ŒíŠ¸","categories":"Kubernetes","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/kubernetes-componant/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/kubernetes-error1/","nextSlug":"/kubernetes-kubeadm/","prevSlug":"/kubernetes-componant/"}},"staticQueryHashes":["1073350324","2938748437"]}