{"componentChunkName":"component---src-templates-blog-template-js","path":"/devops-jenkinspush/","result":{"data":{"cur":{"id":"b022c64e-b03d-5890-807a-f79d479433c2","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œ ê°„ë‹¨í•˜ê²Œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•œ ë’¤ ArgoCDì™€ SYNCë¥¼ ë§ì¶° ë°°í¬ë¥¼ ìë™í™”í•œ íŒŒì´í”„ ë¼ì¸ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.<br>\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Jenkinsì—ì„œ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•´ì„œ í¬ìŠ¤íŠ¸ í–ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<ul>\n<li>\n<p>ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  </p>\n<ul>\n<li>Jenkins</li>\n<li>maven</li>\n<li>github</li>\n<li>ArgoCD</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"-ì „ì²´-jenkins-íŒŒì´í”„ë¼ì¸\" style=\"position:relative;\"><a href=\"#-%EC%A0%84%EC%B2%B4-jenkins-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8\" aria-label=\" ì „ì²´ jenkins íŒŒì´í”„ë¼ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” ì „ì²´ Jenkins íŒŒì´í”„ë¼ì¸</h2>\n<ul>\n<li>\n<p>íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token function\">properties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n<span class=\"token function\">parameters</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'sonar<span class=\"token punctuation\">.</span>projectKey'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> 'com<span class=\"token punctuation\">.</span>appsecco<span class=\"token punctuation\">:</span>dvja'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'sonar<span class=\"token punctuation\">.</span>host<span class=\"token punctuation\">.</span>url'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> 'http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span><span class=\"token punctuation\">:</span><span class=\"token number\">9000</span>'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'sonar<span class=\"token punctuation\">.</span>login'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> '608cacd6bb83c50712ebb34c4cba377c841cdebb'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'ARGOCD_DOMAIN'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> '<span class=\"token number\">34.67</span><span class=\"token number\">.162</span><span class=\"token number\">.44</span><span class=\"token punctuation\">:</span><span class=\"token number\">30357</span>'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'ARGOCD_PW'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> 'argo<span class=\"token operator\">-</span>cd<span class=\"token operator\">-</span>argocd<span class=\"token operator\">-</span>server<span class=\"token operator\">-</span>6d5f98cf57<span class=\"token operator\">-</span>wmf46'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'ARGOCD_APP_NAME'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> 'test'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'tag_num'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> ''<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\npipeline <span class=\"token punctuation\">{</span>\n    environment <span class=\"token punctuation\">{</span>\n        slack_channel <span class=\"token operator\">=</span> '#studying'\n        REGISTRY <span class=\"token operator\">=</span> 'cccr<span class=\"token operator\">/</span>jisun'\n        REGISTRY_IP <span class=\"token operator\">=</span> '<span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>'\n        REGISTRYCREDENTIAL <span class=\"token operator\">=</span> 'harbor' \n        DOCKER_IMAGE <span class=\"token operator\">=</span> ''\n        TAG_NUM <span class=\"token operator\">=</span> ''\n    <span class=\"token punctuation\">}</span>\n    agent <span class=\"token return-type class-name\">any</span>\n    tools <span class=\"token punctuation\">{</span> \n        maven 'mvn' \n    <span class=\"token punctuation\">}</span>\n    stages <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Git clone'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                git 'https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>JisunParkRea<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token punctuation\">.</span>git'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Build Test'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                sh 'mvn clean package <span class=\"token operator\">-</span>Dcheckstyle<span class=\"token punctuation\">.</span>skip <span class=\"token operator\">-</span>Dspotbugs<span class=\"token punctuation\">.</span>skip <span class=\"token operator\">-</span>Dpmd<span class=\"token punctuation\">.</span>skip'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        stage <span class=\"token punctuation\">(</span>'Dependency<span class=\"token operator\">-</span>Check Analysis'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                sh '<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>jenkins<span class=\"token operator\">/</span>dependency<span class=\"token operator\">-</span>check<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>dependency<span class=\"token operator\">-</span>check<span class=\"token punctuation\">.</span>sh <span class=\"token operator\">--</span>scan `pwd` <span class=\"token operator\">--</span>format XML <span class=\"token operator\">--</span><span class=\"token keyword\">out</span> <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>jenkins<span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>ci<span class=\"token operator\">-</span>build<span class=\"token operator\">-</span>pipeline<span class=\"token operator\">/</span>dependency<span class=\"token operator\">-</span>check<span class=\"token operator\">-</span>report <span class=\"token operator\">--</span>prettyPrint'\n                \n                <span class=\"token class-name\">dependencyCheckPublisher</span> pattern<span class=\"token punctuation\">:</span> 'dependency<span class=\"token operator\">-</span>check<span class=\"token operator\">-</span>report<span class=\"token operator\">/</span>dependency<span class=\"token operator\">-</span>check<span class=\"token operator\">-</span>report<span class=\"token punctuation\">.</span>xml'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Sonarqube <span class=\"token keyword\">and</span> Quality gate'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            options <span class=\"token punctuation\">{</span>\n                timeout<span class=\"token return-type class-name\"><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">:</span> 5<span class=\"token punctuation\">,</span> unit<span class=\"token punctuation\">:</span> 'MINUTES'<span class=\"token punctuation\">)</span></span>\n                <span class=\"token function\">retry</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n            steps <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">withSonarQubeEnv</span><span class=\"token punctuation\">(</span>'SonarQube Server'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    sh <span class=\"token string\">\"mvn sonar:sonar\"</span>\n                <span class=\"token punctuation\">}</span>\n                script <span class=\"token punctuation\">{</span>\n                    qualitygate <span class=\"token operator\">=</span> <span class=\"token function\">waitForQualityGate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>qualitygate<span class=\"token punctuation\">.</span>status <span class=\"token operator\">!=</span> <span class=\"token string\">\"OK\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        currentBuild<span class=\"token punctuation\">.</span>result <span class=\"token operator\">=</span> <span class=\"token string\">\"FAILURE\"</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Docker image build'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n            steps<span class=\"token punctuation\">{</span>\n                script <span class=\"token punctuation\">{</span>\n                    DOCKER_IMAGE <span class=\"token operator\">=</span> docker<span class=\"token punctuation\">.</span>build registry\n                \n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> \n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Docker image push to Harbor'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps<span class=\"token punctuation\">{</span>\n                script <span class=\"token punctuation\">{</span>\n                    docker<span class=\"token punctuation\">.</span><span class=\"token function\">withRegistry</span><span class=\"token punctuation\">(</span>'http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>$REGISTRY_IP'<span class=\"token punctuation\">,</span> REGISTRYCREDENTIAL<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        DOCKER_IMAGE<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>'$<span class=\"token punctuation\">{</span>BUILD_NUMBER<span class=\"token punctuation\">}</span>'<span class=\"token punctuation\">)</span>\n                        DOCKER_IMAGE<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"latest\"</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                sh 'docker rmi $REGISTRY<span class=\"token punctuation\">:</span>latest'\n                sh 'docker rmi $REGISTRY_IP<span class=\"token operator\">/</span>$REGISTRY<span class=\"token punctuation\">:</span>$BUILD_NUMBER'\n                sh 'docker rmi $REGISTRY_IP<span class=\"token operator\">/</span>$REGISTRY<span class=\"token punctuation\">:</span>latest'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Anchore analyse'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n            steps <span class=\"token punctuation\">{</span>  \n                <span class=\"token function\">catchError</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">buildResult</span><span class=\"token punctuation\">:</span> 'SUCCESS'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">stageResult</span><span class=\"token punctuation\">:</span> 'SUCCESS'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">writeFile</span> file<span class=\"token punctuation\">:</span> 'anchore_images'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">text</span><span class=\"token punctuation\">:</span> '<span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span><span class=\"token operator\">/</span>cccr<span class=\"token operator\">/</span>jisun'  \n                <span class=\"token class-name\">anchore</span> name<span class=\"token punctuation\">:</span> 'anchore_images'  \n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Push Yaml'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                script<span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token class-name\">git</span> url<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://github.com/JisunParkRea/cccr-dvwa-helm\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">branch</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">credentialsId</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"github\"</span>\n                        sh <span class=\"token string\">\"rm -rf /var/lib/jenkins/workspace/${env.JOB_NAME}/helm-service/values.yaml\"</span>\n                        sh <span class=\"token string\">\"\"</span>\"\n                        cd helm<span class=\"token operator\">-</span>service\n                        <span class=\"token preprocessor property\">#!/bin/bash</span>\n                        cat<span class=\"token operator\">></span>values<span class=\"token punctuation\">.</span>yaml<span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">-</span>EOF\n<span class=\"token preprocessor property\"># Default values for ghost.</span>\n<span class=\"token preprocessor property\"># This is a YAML-formatted file.</span>\n<span class=\"token preprocessor property\"># Declare variables to be passed into your templates.</span>\n\nreplicaCount<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>\n\nimage<span class=\"token punctuation\">:</span>\nrepository<span class=\"token punctuation\">:</span> jisunpark<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token operator\">-</span>java<span class=\"token operator\">-</span><span class=\"token class-name\">web</span>\ntag<span class=\"token punctuation\">:</span> $<span class=\"token class-name\">BUILD_NUMBER</span>\npullPolicy<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span>\n\n\n<span class=\"token keyword\">value</span><span class=\"token punctuation\">:</span> ec95c258266b8e985848cae688effa2b\n\n<span class=\"token keyword\">namespace</span><span class=\"token punctuation\">:</span> cd<span class=\"token operator\">-</span><span class=\"token class-name\">test</span>\n\nname<span class=\"token punctuation\">:</span> \napp<span class=\"token punctuation\">:</span> app\nEOF<span class=\"token string\">\"\"</span>\"\n                        sh <span class=\"token string\">\"cat /var/lib/jenkins/workspace/${env.JOB_NAME}/helm-service/values.yaml\"</span>\n                        <span class=\"token function\">withCredentials</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">usernamePassword</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">credentialsId</span><span class=\"token punctuation\">:</span> 'github'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">passwordVariable</span><span class=\"token punctuation\">:</span> 'GIT_PASSWORD'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">usernameVariable</span><span class=\"token punctuation\">:</span> 'GIT_USERNAME'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            sh <span class=\"token string\">\"\"</span>\"\n                            git <span class=\"token keyword\">add</span> <span class=\"token operator\">--</span>all <span class=\"token punctuation\">.</span>\n                            git commit <span class=\"token operator\">-</span>m <span class=\"token string\">\"Deploy ${env.JOB_NAME} ${env.BUILD_NUMBER}\"</span>\n                            git <span class=\"token class-name\">push</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>$<span class=\"token punctuation\">{</span>GIT_USERNAME<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>GIT_PASSWORD<span class=\"token punctuation\">}</span>@github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>JisunParkRea<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token operator\">-</span>helm\n                            <span class=\"token string\">\"\"</span>\"\n                        <span class=\"token punctuation\">}</span>                      \n                        env<span class=\"token punctuation\">.</span>pushYamlResult<span class=\"token operator\">=</span><span class=\"token boolean\">true</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n                        echo 'Remove Deploy Files'\n                        <span class=\"token function\">withCredentials</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">usernamePassword</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">credentialsId</span><span class=\"token punctuation\">:</span> 'github'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">passwordVariable</span><span class=\"token punctuation\">:</span> 'GIT_PASSWORD'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">usernameVariable</span><span class=\"token punctuation\">:</span> 'GIT_USERNAME'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            sh <span class=\"token string\">\"\"</span>\"\n                            git reset <span class=\"token operator\">--</span>hard HEAD<span class=\"token operator\">^</span>\n                            git push <span class=\"token operator\">--</span><span class=\"token class-name\">force</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>$<span class=\"token punctuation\">{</span>GIT_USERNAME<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>GIT_PASSWORD<span class=\"token punctuation\">}</span>@github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>JisunParkRea<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token operator\">-</span>helm\n                            <span class=\"token string\">\"\"</span>\"\n                        <span class=\"token punctuation\">}</span>\n                        env<span class=\"token punctuation\">.</span>pushYamlResult<span class=\"token operator\">=</span><span class=\"token boolean\">false</span>\n                        currentBuild<span class=\"token punctuation\">.</span>result <span class=\"token operator\">=</span> 'FAILURE'\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Argo Deploy'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                script<span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">withEnv</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"PATH=/usr/local/bin:$PATH\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            sh<span class=\"token string\">\"\"</span>\"\n<span class=\"token preprocessor property\">#!/bin/bash</span>\nexpect <span class=\"token operator\">&lt;&lt;</span> EOF\nspawn argocd login <span class=\"token operator\">--</span>grpc<span class=\"token operator\">-</span>web $ARGOCD_DOMAIN\n\nexpect <span class=\"token string\">\"WARNING: server certificate had error: x509: cannot validate certificate for 34.67.162.44 because it doesn't contain any IP SANs. Proceed insecurely (y/n)?\"</span>\nsend <span class=\"token string\">\"y\\r\"</span><span class=\"token punctuation\">;</span>\n\nexpect <span class=\"token string\">\"Username:\"</span>\nsend <span class=\"token string\">\"admin\\r\"</span><span class=\"token punctuation\">;</span>    \n\nexpect <span class=\"token string\">\"Password:\"</span>\nsend <span class=\"token string\">\"$ARGOCD_PW\\r\"</span><span class=\"token punctuation\">;</span>    \n                                \nexpect eof\nEOF\n                                argocd app <span class=\"token keyword\">get</span> $ARGOCD_APP_NAME\n                                argocd app sync $ARGOCD_APP_NAME\n                            <span class=\"token string\">\"\"</span>\"\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n                        currentBuild<span class=\"token punctuation\">.</span>result <span class=\"token operator\">=</span> 'FAILURE'\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n    post <span class=\"token punctuation\">{</span> \n    success <span class=\"token punctuation\">{</span> \n        slackSend <span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">channel</span><span class=\"token punctuation\">:</span> SLACK_CHANNEL<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">color</span><span class=\"token punctuation\">:</span> 'good'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">message</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"SUCCESSFUL: Job '${env.JOB_NAME} [${env.BUILD_NUMBER}]' (${env.BUILD_URL})\"</span><span class=\"token punctuation\">)</span> \n    <span class=\"token punctuation\">}</span>\n    failure <span class=\"token punctuation\">{</span>\n        slackSend <span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">channel</span><span class=\"token punctuation\">:</span> SLACK_CHANNEL<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">color</span><span class=\"token punctuation\">:</span> 'bad'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">message</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"FAILURE: '${env.JOB_NAME} [${env.BUILD_NUMBER}]' (${env.BUILD_URL})\"</span><span class=\"token punctuation\">)</span>\t\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<h3 id=\"íŒŒì´í”„ë¼ì¸ì˜-í”„ë¡œì„¸ìŠ¤\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%98-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\" aria-label=\"íŒŒì´í”„ë¼ì¸ì˜ í”„ë¡œì„¸ìŠ¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>íŒŒì´í”„ë¼ì¸ì˜ í”„ë¡œì„¸ìŠ¤</h3>\n<ol>\n<li>ì†ŒìŠ¤ì½”ë“œë¥¼ Clone í•´ì˜¨ ë’¤ Build í…ŒìŠ¤íŠ¸  </li>\n<li>Dependency-Check Analysis ë¡œ ì½”ë“œ ì •ì ë¶„ì„  </li>\n<li>Sonarqube and Quality gate ì •ì ë¶„ì„  </li>\n<li>ìœ„ì˜ ê²€ì‚¬ì—ì„œ ì—ëŸ¬ê°€ ì—†ìœ¼ë©´ Docker image build  </li>\n<li>ë¹Œë“œí•œ ë„ì»¤ì´ë¯¸ì§€ë¥¼ HARBOR ì €ì¥ì†Œì— PUSH  </li>\n<li>HARBORì— ì €ì¥ëœ ì´ë¯¸ì§€ì˜ ì—ëŸ¬ ê²€ì‚¬  </li>\n<li>ìƒˆë¡œìš´ ë¹Œë“œ ë„˜ë²„ë¡œ ë©”ë‹ˆí˜ìŠ¤íŠ¸ ìˆ˜ì • í›„ GITOPS ì €ì¥ì†Œë¡œ í‘¸ì‹œ  </li>\n<li>ArgoCDë¡œ Sync ìš”ì²­</li>\n</ol>\n<br/>\n<hr>\n<h3 id=\"dvwa-ë¹Œë“œ-ì†ŒìŠ¤-ì €ì¥ì†Œ\" style=\"position:relative;\"><a href=\"#dvwa-%EB%B9%8C%EB%93%9C-%EC%86%8C%EC%8A%A4-%EC%A0%80%EC%9E%A5%EC%86%8C\" aria-label=\"dvwa ë¹Œë“œ ì†ŒìŠ¤ ì €ì¥ì†Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DVWA! ë¹Œë“œ ì†ŒìŠ¤ ì €ì¥ì†Œ!</h3>\n<br/>\n<ul>\n<li>\n<p>DVWA ë¹Œë“œì†ŒìŠ¤ ì €ì¥ì†ŒëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.<br>\n<a href=\"https://github.com/nasa1515/cccr-dvwa\">ì €ì¥ì†Œë§í¬</a> </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/98904414-e3f86f00-24fc-11eb-8576-c3088ed9babd.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-11-12 15-36-51\"></p>\n<p>Jenkins ì—ì„œëŠ” í•´ë‹¹ ì €ì¥ì†Œë¥¼ Clone í›„ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œ í•  ì˜ˆì •ì…ë‹ˆë‹¤.</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"maven-ë¹Œë“œ-ì „-ì‚¬ì „ì‘ì—…\" style=\"position:relative;\"><a href=\"#maven-%EB%B9%8C%EB%93%9C-%EC%A0%84-%EC%82%AC%EC%A0%84%EC%9E%91%EC%97%85\" aria-label=\"maven ë¹Œë“œ ì „ ì‚¬ì „ì‘ì—… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MAVEN ë¹Œë“œ ì „ ì‚¬ì „ì‘ì—…</h3>\n<br/>\n<p>ì•„ë˜ ë‘ ì„¤ì •ì„ ëª¨ë‘ ë§Œì¡±í•´ì•¼ ì •ìƒì ì¸ ë¹Œë“œê°€ ë©ë‹ˆë‹¤.</p>\n<ol>\n<li>\n<p>Jenkinsì—ì„œ JDK ì„¤ì •  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/102846942-b506de80-4454-11eb-8bb9-90cd582d3447.PNG\" alt=\"ìº¡ì²˜\"></p>\n</li>\n</ol>\n<br/>\n<ol start=\"2\">\n<li>\n<p>Jenkinsì—ì„œ MAVEN ì„¤ì •</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/102846986-cc45cc00-4454-11eb-89e4-28471be55ba7.PNG\" alt=\"ìº¡ì²˜2\"></p>\n</li>\n</ol>\n<br/>\n<hr>\n<h3 id=\"ë¹Œë“œ-íŒŒì´í”„ë¼ì¸-ìŠ¤í¬ë¦½íŠ¸\" style=\"position:relative;\"><a href=\"#%EB%B9%8C%EB%93%9C-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\"ë¹Œë“œ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¹Œë“œ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸</h3>\n<br/>\n<ul>\n<li>\n<p>ì „ì²´ì ì¸ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ MAVEN ë¹Œë“œ ë¶€ë¶„ë§Œ ë–¼ì–´ëƒˆìŠµë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">pipeline <span class=\"token punctuation\">{</span>\n    agent <span class=\"token return-type class-name\">any</span>\n    tools <span class=\"token punctuation\">{</span> \n        maven 'mvn' \n    <span class=\"token punctuation\">}</span>\n    stages <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Git clone'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                git 'https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>JisunParkRea<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token punctuation\">.</span>git'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Build Test'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n               sh 'mvn clean package <span class=\"token operator\">-</span>Dcheckstyle<span class=\"token punctuation\">.</span>skip <span class=\"token operator\">-</span>Dspotbugs<span class=\"token punctuation\">.</span>skip <span class=\"token operator\">-</span>Dpmd<span class=\"token punctuation\">.</span>skip'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•œ ì„¤ëª…ì—†ì´ë„ ì•„ë§ˆ ëŒ€ë¶€ë¶„ì€ ì´í•´ê°€ ë  ê²ƒì…ë‹ˆë‹¤.<br>\nê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ìë©´ Agent anyë¡œ jdk, mvnë“¤ì˜ íˆ´ì„ ì„ ì–¸í•´ì¤€ ë’¤<br>\në¹Œë“œ ì†ŒìŠ¤ì˜ ì €ì¥ì†Œë¥¼ clone í•œ ë’¤ í•´ë‹¹ ì†ŒìŠ¤ë“¤ì„ MVNìœ¼ë¡œ ë¹Œë“œí•˜ëŠ” ê°„ë‹¨í•œ êµ¬ë¬¸ì…ë‹ˆë‹¤<br>\në¬¸ë²•ì´ ê¶ê¸ˆí•˜ì‹ ë¶„ë“¤ì€ <a href=\"https://jojoldu.tistory.com/355\">ì°¸ê³ ë§í¬</a>ë¥¼ ì½ì–´ë³´ì‹œë©´ ë¹ ë¥´ê²Œ ì´í•´ ë  ê²ƒì…ë‹ˆë‹¤.<br>\në‹¤ìŒ í¬ìŠ¤íŠ¸ ë¶€í„°ëŠ” ì „ì²´ì ì¸ ì •ì ë¶„ì„ íˆ´ì˜ ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•´ì„œ ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h2>\n<p>Jenkinsë¥¼ ë§Œì ¸ë³¸ê²Œ ì´ë²ˆì´ ì²˜ìŒì´ì—ˆìŠµë‹ˆë‹¤.<br>\në¬¸ë²•ë¶€í„° í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ë°°ì›Œê°€ë©° í•˜ë‹¤ë³´ë‹ˆ ì˜¤íˆë ¤ ì´ ë¶€ë¶„ì—ì„œ ì‹œê°„ì´ ë§ì´ ë‚­ë¹„ëœ ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤.<br>\nê·¸ë ‡ì§€ë§Œ ì´ˆë°˜ì— ê³„íší–ˆë˜ í”„ë¡œì íŠ¸ì˜ ì„±ê²©ê³¼ ì ì  ë§ì•„ ë–¨ì–´ì ¸ê°€ê³  ìˆë‹¤ëŠ” ê²ƒì— ë„ˆë¬´ ê¸°ì©ë‹ˆë‹¤.  </p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%EC%A0%84%EC%B2%B4-jenkins-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8\">âœ” ì „ì²´ Jenkins íŒŒì´í”„ë¼ì¸</a></p>\n<ul>\n<li><a href=\"#%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%98-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\">íŒŒì´í”„ë¼ì¸ì˜ í”„ë¡œì„¸ìŠ¤</a></li>\n<li><a href=\"#dvwa-%EB%B9%8C%EB%93%9C-%EC%86%8C%EC%8A%A4-%EC%A0%80%EC%9E%A5%EC%86%8C\">DVWA! ë¹Œë“œ ì†ŒìŠ¤ ì €ì¥ì†Œ!</a></li>\n<li><a href=\"#maven-%EB%B9%8C%EB%93%9C-%EC%A0%84-%EC%82%AC%EC%A0%84%EC%9E%91%EC%97%85\">MAVEN ë¹Œë“œ ì „ ì‚¬ì „ì‘ì—…</a></li>\n<li><a href=\"#%EB%B9%8C%EB%93%9C-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\">ë¹Œë“œ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</div>","excerpt":"ë¨¸ë¦¬ë§   ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œ ê°„ë‹¨í•˜ê²Œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•œ ë’¤ ArgoCDì™€ SYNCë¥¼ ë§ì¶° ë°°í¬ë¥¼ ìë™í™”í•œ íŒŒì´í”„ ë¼ì¸ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤. ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Jenkinsì—ì„œ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•´ì„œ í¬ìŠ¤íŠ¸ í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.   Jenkins maven github ArgoCD âœ” ì „ì²´ Jenkins íŒŒì´í”„ë¼ì¸ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ íŒŒì´í”„ë¼ì¸ì˜ í”„ë¡œì„¸ìŠ¤ ì†ŒìŠ¤ì½”ë“œë¥¼ Clone í•´ì˜¨ ë’¤ Build í…ŒìŠ¤íŠ¸   Dependency-Check Analysis ë¡œ ì½”ë“œ ì •ì ë¶„ì„   Sonarqube and Quality gate ì •ì ë¶„ì„   ìœ„ì˜ ê²€ì‚¬ì—ì„œ ì—ëŸ¬ê°€ ì—†ìœ¼ë©´ Docker image buildâ€¦","frontmatter":{"date":"August 08, 2021","title":"[DEVOPS] - Jenkinsë¡œ Dvmn ì•± ì´ë¯¸ì§€ ìë™ ë¹Œë“œ ë° í‘¸ì‹œí•˜ê¸°","categories":"DevOps","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/devops-jenkinspush/"}},"next":{"id":"801845e2-ac0a-5de8-bf0a-12fd8d8036e2","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ì•± êµ¬ë™ì„ ìœ„í•œ MYSQL ì´ì¤‘í™”ì…ë‹ˆë‹¤ ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œ ì•± ë°°í¬ë¥¼ ì™„ë£Œí–ˆì§€ë§Œ<br>\nMYSQL podì˜ ê²½ìš° ë³¼ë¥¨ì˜ ë¬¸ì œë¡œ í•˜ë‚˜ë°–ì— ëœ¨ì§€ ì•Šì•„ DB ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì €ì¥í• ì§€ì— ëŒ€í•œ ê³ ë¯¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤.<br>\nê³ ë¯¼í•´ë³¸ ê²°ê³¼ NFSë¥¼ ë§Œë“¤ì–´ì„œ ê·¸ìª½ì— ë°ì´í„°ë¥¼ ì €ì¥í•´ë†“ê³  PODê°€ ì‹¤í–‰ë ë•Œë§ˆë‹¤ NFSë¥¼ ì½ì–´ì˜¤ì! ë¼ëŠ” ê²°ë¡ ì´ ë‚˜ì™”ìŠµë‹ˆë‹¤<br>\nê·¸ë˜ì„œ NFS ì„œë²„ë¥¼ êµ¬ì¶•í•˜ë ¤ê³  í•˜ë ¤ëŠ” ì°°ë‚˜ GCPì—ì„œ API ì„œë¹„ìŠ¤ë¡œ ì œê³µí•œë‹¤ëŠ” ì†Œì‹ì„ ë“£ê³  ë°”ë¡œ ì‚¬ìš©í•´ ë³´ì•˜ìŠµë‹ˆë‹¤</p>\n<hr>\n<ul>\n<li>\n<p>ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  </p>\n<ul>\n<li>GCP FileStore</li>\n<li>k8s PV,PVC</li>\n<li>ArgoCD</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"-ë°œìƒ-ì´ìŠˆ\" style=\"position:relative;\"><a href=\"#-%EB%B0%9C%EC%83%9D-%EC%9D%B4%EC%8A%88\" aria-label=\" ë°œìƒ ì´ìŠˆ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” ë°œìƒ ì´ìŠˆ</h2>\n<ul>\n<li>\n<p>MYSQL Podë¥¼ ë‘ê°œ ì´ìƒ ë„ìš°ë ¤ê³  í• ë•Œ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96840929-11b24100-1486-11eb-9157-145a7d03bf00.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-22 16-45-58\"></p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">FailedAttachVolume\nMulti<span class=\"token operator\">-</span>Attach error <span class=\"token keyword\">for</span> volume <span class=\"token string\">\"pvc-73526617-313f-46f4-be6f-0776dcf151d3\"</span> Volume <span class=\"token keyword\">is</span> <span class=\"token class-name\">already</span> used <span class=\"token keyword\">by</span> <span class=\"token function\">pod</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> mysql<span class=\"token operator\">-</span><span class=\"token number\">6749799856</span><span class=\"token operator\">-</span>kb9mp\t<span class=\"token number\">6</span> minutes ago</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´ìœ ëŠ” Google Persistent Diskì˜ ê²½ìš° Block ìŠ¤í† ë¦¬ì§€ì˜ Access Modeì¸ <code class=\"language-text\">ReadWriteMany</code> ì˜µì…˜ì„ ì§€ì›í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96841616-f6940100-1486-11eb-8b22-406d019bcf8b.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-22 16-52-21\"></p>\n<p>ê·¸ë˜ì„œ GKEë¥¼ ë§Œë“¤ë•Œ ìë™ ìƒì„±ë˜ëŠ” ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  PVë¥¼ ì§ì ‘ ë§Œë“¤ì–´ ì—°ê²°í•´ì¤˜ì•¼ í•˜ëŠ” ìƒí™©ì´ ë˜ì—ˆìŠµë‹ˆë‹¤</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë‹¤í–‰íˆ ê³µì‹ë¬¸ì„œë¥¼ ë³´ë‹ˆ GCPì—ì„œ NFS(Filestore)ë¥¼ PVë¡œ ì§€ì›í•œë‹¤ëŠ” ë¬¸ì„œë¥¼ í™•ì¸í•´ì„œ NFSë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96841887-4f639980-1487-11eb-9578-307b7b86267d.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-22 16-54-43\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>GCPì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Standard í˜•ì˜ ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ë¥¼ ì§€ì›í•©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96842565-268fd400-1488-11eb-9d64-66a4b1fd41db.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-22 17-00-52\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><a href=\"https://kubernetes.io/ko/docs/concepts/storage/storage-classes/\">ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ë¬¸ì„œ</a></p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">ìŠ¤í† ë¦¬ì§€í´ë˜ìŠ¤ëŠ” ê´€ë¦¬ìê°€ ì œê³µí•˜ëŠ” ìŠ¤í† ë¦¬ì§€ì˜ <span class=\"token string\">\"classes\"</span>ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤<span class=\"token punctuation\">.</span> \në‹¤ë¥¸ í´ë˜ìŠ¤ëŠ” ì„œë¹„ìŠ¤ì˜ í’ˆì§ˆ ìˆ˜ì¤€ ë˜ëŠ” ë°±ì—… ì •ì±…<span class=\"token punctuation\">,</span> í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ìê°€ ì •í•œ ì„ì˜ì˜ ì •ì±…ì— ë§¤í•‘ë  ìˆ˜ ìˆë‹¤<span class=\"token punctuation\">.</span> \nì¿ ë²„ë„¤í‹°ìŠ¤ ìì²´ëŠ” í´ë˜ìŠ¤ê°€ ë¬´ì—‡ì„ ë‚˜íƒ€ë‚´ëŠ”ì§€ì— ëŒ€í•´ ìƒê´€í•˜ì§€ ì•ŠëŠ”ë‹¤<span class=\"token punctuation\">.</span> \në‹¤ë¥¸ ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œì—ì„œëŠ” ì´ ê°œë…ì„ <span class=\"token string\">\"í”„ë¡œíŒŒì¼\"</span>ì´ë¼ê³ ë„ í•œë‹¤<span class=\"token punctuation\">.</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">ìŠ¤í† ë¦¬ì§€í´ë˜ìŠ¤ ë¦¬ì†ŒìŠ¤ \nê° ìŠ¤í† ë¦¬ì§€í´ë˜ìŠ¤ì—ëŠ” í•´ë‹¹ ìŠ¤í† ë¦¬ì§€í´ë˜ìŠ¤ì— ì†í•˜ëŠ” í¼ì‹œìŠ¤í„´íŠ¸ë³¼ë¥¨ì„ ë™ì ìœ¼ë¡œ í”„ë¡œë¹„ì €ë‹ í•  ë•Œ ì‚¬ìš©ë˜ëŠ” provisioner<span class=\"token punctuation\">,</span> parameters ì™€ reclaimPolicy í•„ë“œê°€ í¬í•¨ëœë‹¤<span class=\"token punctuation\">.</span>\n\nìŠ¤í† ë¦¬ì§€í´ë˜ìŠ¤ ì˜¤ë¸Œì íŠ¸ì˜ ì´ë¦„ì€ ì¤‘ìš”í•˜ë©°<span class=\"token punctuation\">,</span> ì‚¬ìš©ìê°€ íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ë‹¤<span class=\"token punctuation\">.</span> \nê´€ë¦¬ìëŠ” ìŠ¤í† ë¦¬ì§€í´ë˜ìŠ¤ ì˜¤ë¸Œì íŠ¸ë¥¼ ì²˜ìŒ ìƒì„±í•  ë•Œ í´ë˜ìŠ¤ì˜ ì´ë¦„ê³¼ ê¸°íƒ€ íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•˜ë©°<span class=\"token punctuation\">,</span> ì¼ë‹¨ ìƒì„±ëœ ì˜¤ë¸Œì íŠ¸ëŠ” ì—…ë°ì´íŠ¸í•  ìˆ˜ ì—†ë‹¤<span class=\"token punctuation\">.</span>\n\nê´€ë¦¬ìëŠ” íŠ¹ì • í´ë˜ìŠ¤ì— ë°”ì¸ë”©ì„ ìš”ì²­í•˜ì§€ ì•ŠëŠ” PVCì— ëŒ€í•´ì„œë§Œ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€í´ë˜ìŠ¤ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤<span class=\"token punctuation\">.</span> </code></pre></div>\n<br/>\n<ul>\n<li>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì •ì˜ í•  ìˆ˜ ìˆë‹¤</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> storage<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span><span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">StorageClass</span>\n  metadata<span class=\"token punctuation\">:</span>\n  name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">standard</span>\n    provisioner<span class=\"token punctuation\">:</span> kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>aws<span class=\"token operator\">-</span><span class=\"token class-name\">ebs</span>\n  parameters<span class=\"token punctuation\">:</span>\n  type<span class=\"token punctuation\">:</span> <span class=\"token class-name\">gp2</span>\n  reclaimPolicy<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Retain</span>\n  allowVolumeExpansion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">true</span>\n  mountOptions<span class=\"token punctuation\">:</span>\n   <span class=\"token operator\">-</span> <span class=\"token class-name\">debug</span>\n  volumeBindingMode<span class=\"token punctuation\">:</span> Immediate</code></pre></div>\n<ul>\n<li>ì¦‰ ê°„ë‹¨í•˜ê²Œ ë§í•´ì„œ PVë¥¼ ë¯¸ë¦¬ ì„ ì–¸í•´ì£¼ëŠ” ê²ƒì´ë¼ê³  ì´í•´í•˜ëŠ”ê²Œ í¸í•˜ë‹¤.</li>\n<li>ë³´í†µ PV ì„ ì–¸ -> PVC ì„ ì–¸ì˜ ê³¼ì •ì„ ê±°ì³ì•¼ í•˜ì§€ë§Œ ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ë¥¼ ë¯¸ë¦¬ ì •ì˜í•´ë†“ìœ¼ë©´ PVì„ ì–¸ ê³¼ì •ì„ ìƒëµí•  ìˆ˜ ìˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-ì´ì œ-gcpì˜-nfsfilestoreë¥¼-êµ¬ì„±í•´ë³´ì£ \" style=\"position:relative;\"><a href=\"#-%EC%9D%B4%EC%A0%9C-gcp%EC%9D%98-nfsfilestore%EB%A5%BC-%EA%B5%AC%EC%84%B1%ED%95%B4%EB%B3%B4%EC%A3%A0\" aria-label=\" ì´ì œ gcpì˜ nfsfilestoreë¥¼ êµ¬ì„±í•´ë³´ì£  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœŒ ì´ì œ GCPì˜ NFS(Filestore)ë¥¼ êµ¬ì„±í•´ë³´ì£ </h2>\n<br/>\n<h3 id=\"gcp-nfs-ì„¤ì •\" style=\"position:relative;\"><a href=\"#gcp-nfs-%EC%84%A4%EC%A0%95\" aria-label=\"gcp nfs ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GCP NFS ì„¤ì •</h3>\n<br/>\n<ul>\n<li>\n<p>ìš°ì„  GCP Consoleì—ì„œ FILEStore APIë¥¼ ì„¤ì¹˜í•´ì¤ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96854037-0404b780-1496-11eb-81c4-922d294a441d.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-22 18-39-50\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ í›„ Console TAPì˜ Filestore ë©”ë‰´ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96854705-c3f20480-1496-11eb-89dc-3a46f4b99df6.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-22 18-45-28\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ìƒì„±ì´ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ìë™ìœ¼ë¡œ NFSê°€ ì—°ë™ë©ë‹ˆë‹¤. ì„ì‹œë¡œ Jenkins ì¸ìŠ¤í„´ìŠ¤ì—ì„œ Showmount ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•´ë´…ì‹œë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@jenkins <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># \n<span class=\"token punctuation\">[</span>root@jenkins <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># showmount <span class=\"token operator\">-</span>e <span class=\"token number\">10.254</span><span class=\"token number\">.194</span><span class=\"token number\">.122</span>\nExport list <span class=\"token keyword\">for</span> <span class=\"token number\">10.254</span><span class=\"token number\">.194</span><span class=\"token number\">.122</span><span class=\"token punctuation\">:</span>\n<span class=\"token operator\">/</span>nfs_share <span class=\"token number\">192.168</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span><span class=\"token number\">16</span><span class=\"token punctuation\">,</span><span class=\"token number\">172.16</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span><span class=\"token number\">10.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span><span class=\"token number\">8</span>\n<span class=\"token punctuation\">[</span>root@jenkins <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># \n<span class=\"token punctuation\">[</span>root@jenkins <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># </code></pre></div>\n<p>NFSë¼ë¦¬ ì˜ ì—°ê²°ë˜ì–´ìˆëŠ”ê±¸ í™•ì¸í–ˆìŠµë‹ˆë‹¤!!</p>\n</li>\n</ul>\n<br/>\n<p><code class=\"language-text\">FileStoreë¥¼ ì´ìš©í•œ NFS êµ¬ì„±ì€ ì •ë§ ê°„ë‹¨í•©ë‹ˆë‹¤. ë¹„ìš©ë§Œì•„ë‹ˆë©´ ë§¤ì¼ ì“°ê³  ì‹¶ë„¤ìš”</code></p>\n<br/>\n<hr>\n<h3 id=\"nfsë¥¼-gkeì˜-ë³¼ë¥¨ìœ¼ë¡œ-ì‚¬ìš©\" style=\"position:relative;\"><a href=\"#nfs%EB%A5%BC-gke%EC%9D%98-%EB%B3%BC%EB%A5%A8%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9\" aria-label=\"nfsë¥¼ gkeì˜ ë³¼ë¥¨ìœ¼ë¡œ ì‚¬ìš© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NFSë¥¼ GKEì˜ ë³¼ë¥¨ìœ¼ë¡œ ì‚¬ìš©</h3>\n<p><a href=\"https://cloud.google.com/filestore/docs/accessing-fileshares?hl=ko\">ê³µì‹ ë¬¸ì„œ</a></p>\n<br/>\n<br/>\n<h3 id=\"pv-ìƒì„±\" style=\"position:relative;\"><a href=\"#pv-%EC%83%9D%EC%84%B1\" aria-label=\"pv ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PV ìƒì„±</h3>\n<ul>\n<li>\n<p>NFSë¥¼ ë³¼ë¥¨ìœ¼ë¡œ ì´ìš©í•˜ê¸° ìœ„í•´ì„œ ì•„ë˜ì™€ ê°™ì€ ë©”ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PersistentVolume</span>\nmetadata<span class=\"token punctuation\">:</span>\n    name<span class=\"token punctuation\">:</span> dbserver\n    <span class=\"token keyword\">namespace</span><span class=\"token punctuation\">:</span> cd<span class=\"token operator\">-</span><span class=\"token class-name\">test</span>\nspec<span class=\"token punctuation\">:</span>\n    capacity<span class=\"token punctuation\">:</span>\n    storage<span class=\"token punctuation\">:</span> 10Gi\nvolumeMode<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Filesystem</span>\naccessModes<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> <span class=\"token class-name\">ReadWriteMany</span>\npersistentVolumeReclaimPolicy<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Retain</span>\nstorageClassName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span>\nnfs<span class=\"token punctuation\">:</span>\n    path<span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span><span class=\"token class-name\">nfs_share</span>\n    server<span class=\"token punctuation\">:</span> <span class=\"token number\">10.254</span><span class=\"token number\">.194</span><span class=\"token number\">.122</span></code></pre></div>\n<p>PVë¥¼ ìƒì„±í• ë•Œ NFSì„œë²„ì˜ IPì™€ pathë¥¼ ì œëŒ€ë¡œ ì„¤ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´<br>\nì•„ë˜ì™€ ê°™ì€ <code class=\"language-text\">NFS MOUNT ERROR</code>ê°€ ë°œìƒí•©ë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">Search\nWarning\tFailedMount\tUnable to attach <span class=\"token keyword\">or</span> <span class=\"token class-name\">mount</span> volumes<span class=\"token punctuation\">:</span> <span class=\"token class-name\">unmounted</span> volumes<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>mysql<span class=\"token operator\">-</span>vol<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">unattached</span> volumes<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span>token<span class=\"token operator\">-</span>6778k mysql<span class=\"token operator\">-</span>vol<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> timed <span class=\"token keyword\">out</span> waiting <span class=\"token keyword\">for</span> the condition\t<span class=\"token number\">2</span> minutes ago\nWarning\tFailedMount\tMountVolume<span class=\"token punctuation\">.</span>SetUp failed <span class=\"token keyword\">for</span> volume <span class=\"token string\">\"dbserver\"</span> <span class=\"token punctuation\">:</span> <span class=\"token class-name\">mount</span> failed<span class=\"token punctuation\">:</span> exit status <span class=\"token number\">1</span> <span class=\"token class-name\">Mounting</span> command<span class=\"token punctuation\">:</span> systemd<span class=\"token operator\">-</span>run <span class=\"token class-name\">Mounting</span> arguments<span class=\"token punctuation\">:</span> <span class=\"token operator\">--</span>description<span class=\"token operator\">=</span>Kubernetes transient mount <span class=\"token keyword\">for</span> <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>kubelet<span class=\"token operator\">/</span>pods<span class=\"token operator\">/</span>d28155b1<span class=\"token operator\">-</span>9c27<span class=\"token operator\">-</span>4f6e<span class=\"token operator\">-</span>b1b7<span class=\"token operator\">-</span>9169c926f784<span class=\"token operator\">/</span>volumes<span class=\"token operator\">/</span>kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">~</span>nfs<span class=\"token operator\">/</span>dbserver <span class=\"token operator\">--</span>scope <span class=\"token operator\">--</span> <span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>kubernetes<span class=\"token operator\">/</span>containerized_mounter<span class=\"token operator\">/</span>mounter mount <span class=\"token operator\">-</span>t nfs <span class=\"token operator\">-</span><span class=\"token class-name\">o</span> hard<span class=\"token punctuation\">,</span>nfsvers<span class=\"token operator\">=</span><span class=\"token number\">3</span> <span class=\"token number\">10.254</span><span class=\"token number\">.194</span><span class=\"token number\">.120</span><span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>file<span class=\"token operator\">-</span>share <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>kubelet<span class=\"token operator\">/</span>pods<span class=\"token operator\">/</span>d28155b1<span class=\"token operator\">-</span>9c27<span class=\"token operator\">-</span>4f6e<span class=\"token operator\">-</span>b1b7<span class=\"token operator\">-</span>9169c926f784<span class=\"token operator\">/</span>volumes<span class=\"token operator\">/</span>kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">~</span>nfs<span class=\"token operator\">/</span><span class=\"token class-name\">dbserver</span> Output<span class=\"token punctuation\">:</span> Running scope <span class=\"token keyword\">as</span> <span class=\"token class-name\">unit</span><span class=\"token punctuation\">:</span> run<span class=\"token operator\">-</span>r3af88159402a4b1ab6bc70512f1cbc1d<span class=\"token punctuation\">.</span>scope <span class=\"token class-name\">Mount</span> failed<span class=\"token punctuation\">:</span> <span class=\"token class-name\">mount</span> failed<span class=\"token punctuation\">:</span> exit status <span class=\"token number\">32</span> <span class=\"token class-name\">Mounting</span> command<span class=\"token punctuation\">:</span> chroot <span class=\"token class-name\">Mounting</span> arguments<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>kubernetes<span class=\"token operator\">/</span>containerized_mounter<span class=\"token operator\">/</span>rootfs mount <span class=\"token operator\">-</span>t nfs <span class=\"token operator\">-</span><span class=\"token class-name\">o</span> hard<span class=\"token punctuation\">,</span>nfsvers<span class=\"token operator\">=</span><span class=\"token number\">3</span> <span class=\"token number\">10.254</span><span class=\"token number\">.194</span><span class=\"token number\">.120</span><span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>file<span class=\"token operator\">-</span>share <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>kubelet<span class=\"token operator\">/</span>pods<span class=\"token operator\">/</span>d28155b1<span class=\"token operator\">-</span>9c27<span class=\"token operator\">-</span>4f6e<span class=\"token operator\">-</span>b1b7<span class=\"token operator\">-</span>9169c926f784<span class=\"token operator\">/</span>volumes<span class=\"token operator\">/</span>kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">~</span>nfs<span class=\"token operator\">/</span>dbserver<span class=\"token punctuation\">]</span> Output<span class=\"token punctuation\">:</span> mount<span class=\"token punctuation\">.</span>nfs<span class=\"token punctuation\">:</span> Connection timed <span class=\"token keyword\">out</span>\t<span class=\"token number\">2</span> minutes ago</code></pre></div>\n<br/>\n</li>\n<li>ì¶”ê°€ì ìœ¼ë¡œ storageClassName: \"\" í•­ëª©ì„ Noneìœ¼ë¡œ ë‘¬ì•¼ë§Œ í•©ë‹ˆë‹¤.<br>\nê·¸ë˜ì•¼ GKE ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ì¸ GCP-PD í˜•ì‹ì˜ PVë¥¼ ìƒì„±í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—<br>\nNONEì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤! ì´ í•­ëª©ë„ NONEì´ ì•„ë‹ ê²½ìš° ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"pvc-ìƒì„±\" style=\"position:relative;\"><a href=\"#pvc-%EC%83%9D%EC%84%B1\" aria-label=\"pvc ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PVC ìƒì„±</h3>\n<ul>\n<li>\n<p>NFSë¥¼ ë³¼ë¥¨ìœ¼ë¡œ ì´ìš©í•˜ê¸° ìœ„í•´ì„œ ì•„ë˜ì™€ ê°™ì€ ë©”ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PersistentVolumeClaim</span>\nmetadata<span class=\"token punctuation\">:</span>\n    creationTimestamp<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span>\n    labels<span class=\"token punctuation\">:</span>\n        io<span class=\"token punctuation\">.</span>kompose<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">:</span> <span class=\"token class-name\">mysql</span>\n    name<span class=\"token punctuation\">:</span> mysql<span class=\"token operator\">-</span>pvc\n    <span class=\"token keyword\">namespace</span><span class=\"token punctuation\">:</span> cd<span class=\"token operator\">-</span><span class=\"token class-name\">test</span>\nspec<span class=\"token punctuation\">:</span>\n  accessModes<span class=\"token punctuation\">:</span>\n  <span class=\"token operator\">-</span> <span class=\"token class-name\">ReadWriteMany</span>\n  storageClassName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span>\n  volumeName<span class=\"token punctuation\">:</span> <span class=\"token class-name\">dbserver</span>\n  resources<span class=\"token punctuation\">:</span>\n    requests<span class=\"token punctuation\">:</span>\n      storage<span class=\"token punctuation\">:</span> 5Gi\nstatus<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>PVCì˜ ê²½ìš° ë³„ë¡œ ë°”ê¿”ì¤„ ê²ƒì´ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë§Œ <code class=\"language-text\">storageClassName = NONE</code>ì´ê¸° ë•Œë¬¸ì—<br>\n<code class=\"language-text\">volumeName: dbserver</code> í•­ëª©ìœ¼ë¡œ PVë¥¼ ì¡ì•„ì£¼ì–´ì•¼ ì›í• í•˜ê²Œ ë°”ìš´ë”© ë©ë‹ˆë‹¤!</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ëŸ¼ PVCë¥¼ ìƒì„±í–ˆìœ¼ë‹ˆ PV &#x3C;-> PVCê°€ ë°”ìš´ë”©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">></span> kubectl <span class=\"token keyword\">get</span> pv <span class=\"token operator\">-</span>n cd<span class=\"token operator\">-</span>test\nNAME       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM               STORAGECLASS   REASON   AGE\ndbserver   10Gi       RWX            Retain           Bound    cd<span class=\"token operator\">-</span>test<span class=\"token operator\">/</span>mysql<span class=\"token operator\">-</span>pvc                           <span class=\"token number\">28m</span>\n<span class=\"token operator\">></span> kubectl <span class=\"token keyword\">get</span> pvc <span class=\"token operator\">-</span>n cd<span class=\"token operator\">-</span>test\nNAME        STATUS   VOLUME     CAPACITY   ACCESS MODES   STORAGECLASS   AGE\nmysql<span class=\"token operator\">-</span>pvc   Bound    dbserver   10Gi       RWX                           <span class=\"token number\">28m</span></code></pre></div>\n<p>ë„ˆë¬´ ì •ìƒì ì…ë‹ˆë‹¤~ ì´ì œ MYSQL PODë¥¼ ë°°í¬í•´ë´…ì‹œë‹¤!</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"mysql-pod-ë°°í¬\" style=\"position:relative;\"><a href=\"#mysql-pod-%EB%B0%B0%ED%8F%AC\" aria-label=\"mysql pod ë°°í¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MYSQL POD ë°°í¬</h3>\n<br/>\n<ul>\n<li>\n<p>MYSQL ë°°í¬ë¥¼ ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ë©”ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> apps<span class=\"token operator\">/</span><span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Deployment</span>\nmetadata<span class=\"token punctuation\">:</span>\nannotations<span class=\"token punctuation\">:</span>\n    kompose<span class=\"token punctuation\">.</span>cmd<span class=\"token punctuation\">:</span> kompose convert\n    kompose<span class=\"token punctuation\">.</span>version<span class=\"token punctuation\">:</span> <span class=\"token number\">1.21</span><span class=\"token number\">.0</span> <span class=\"token punctuation\">(</span>992df58d8<span class=\"token punctuation\">)</span>\ncreationTimestamp<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span>\nlabels<span class=\"token punctuation\">:</span>\n    io<span class=\"token punctuation\">.</span>kompose<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">:</span> <span class=\"token class-name\">mysql</span>\nname<span class=\"token punctuation\">:</span> <span class=\"token class-name\">mysql</span>\nspec<span class=\"token punctuation\">:</span>\nreplicas<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\nselector<span class=\"token punctuation\">:</span>\n    matchLabels<span class=\"token punctuation\">:</span>\n    io<span class=\"token punctuation\">.</span>kompose<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">:</span> <span class=\"token class-name\">mysql</span>\nstrategy<span class=\"token punctuation\">:</span>\n    type<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Recreate</span>\ntemplate<span class=\"token punctuation\">:</span>\n    metadata<span class=\"token punctuation\">:</span>\n    annotations<span class=\"token punctuation\">:</span>\n        kompose<span class=\"token punctuation\">.</span>cmd<span class=\"token punctuation\">:</span> kompose convert\n        kompose<span class=\"token punctuation\">.</span>version<span class=\"token punctuation\">:</span> <span class=\"token number\">1.21</span><span class=\"token number\">.0</span> <span class=\"token punctuation\">(</span>992df58d8<span class=\"token punctuation\">)</span>\n    creationTimestamp<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span>\n    labels<span class=\"token punctuation\">:</span>\n        io<span class=\"token punctuation\">.</span>kompose<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">:</span> <span class=\"token class-name\">mysql</span>\n    spec<span class=\"token punctuation\">:</span>\n    containers<span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">-</span> env<span class=\"token punctuation\">:</span>\n        <span class=\"token operator\">-</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">MYSQL_ROOT_PASSWORD</span>\n        <span class=\"token keyword\">value</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>ë¹„ë²ˆì€ ì•ˆëŒ‘ë‹ˆë‹¤<span class=\"token punctuation\">]</span>\n        image<span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">:</span><span class=\"token number\">5.5</span>\n        imagePullPolicy<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span>\n        name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">mysql</span>\n        resources<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n        volumeMounts<span class=\"token punctuation\">:</span>\n        <span class=\"token operator\">-</span> mountPath<span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span><span class=\"token class-name\">mysql</span>\n        name<span class=\"token punctuation\">:</span> mysql<span class=\"token operator\">-</span><span class=\"token class-name\">vol</span>\n    restartPolicy<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Always</span>\n    serviceAccountName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span>\n    volumes<span class=\"token punctuation\">:</span>\n    <span class=\"token operator\">-</span> name<span class=\"token punctuation\">:</span> mysql<span class=\"token operator\">-</span><span class=\"token class-name\">vol</span>\n        persistentVolumeClaim<span class=\"token punctuation\">:</span>\n        claimName<span class=\"token punctuation\">:</span> mysql<span class=\"token operator\">-</span><span class=\"token class-name\">pvc</span>\n    status<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë‹¤ìŒê³¼ ê°™ì€ ë°°í¬ ë©”ë‹ˆí˜ìŠ¤íŠ¸ë¡œ ë°°í¬ë¥¼ í•˜ë©´! ì•„ë˜ì™€ ê°™ì´ ì •ìƒì ìœ¼ë¡œ êµ¬ë™ì´ ë©ë‹ˆë‹¤!!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96962891-a7aba180-1542-11eb-9d2d-3eb34c814aed.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-23 15-15-52\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"ì—ëŸ¬-ë°œìƒã… \" style=\"position:relative;\"><a href=\"#%EC%97%90%EB%9F%AC-%EB%B0%9C%EC%83%9D%E3%85%A0\" aria-label=\"ì—ëŸ¬ ë°œìƒã…  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì—ëŸ¬ ë°œìƒ..ã… </h3>\n<p><code class=\"language-text\">MYSQL Unable to lock ./ib_logfile0, error: 11</code></p>\n<br/>\n<ul>\n<li>\n<p>MYSQL Deploymentì— Replicas ë¥¼ 2ë¡œ ì„¤ì • í›„ ì´ì¤‘í™”ë¥¼ í•˜ë ¤ë‹ˆê¹ ì•„ë˜ì™€ ê°™ì€ ERRORê°€ ë°œìƒí•˜ì˜€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> <span class=\"token punctuation\">[</span>Note<span class=\"token punctuation\">]</span> <span class=\"token operator\">--</span>secure<span class=\"token operator\">-</span>file<span class=\"token operator\">-</span>priv <span class=\"token keyword\">is</span> <span class=\"token keyword\">set</span> to NULL<span class=\"token punctuation\">.</span> Operations related to importing <span class=\"token keyword\">and</span> exporting data are disabled\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> <span class=\"token punctuation\">[</span>Note<span class=\"token punctuation\">]</span> mysqld <span class=\"token punctuation\">(</span>mysqld <span class=\"token number\">5.5</span><span class=\"token number\">.62</span><span class=\"token punctuation\">)</span> starting <span class=\"token keyword\">as</span> <span class=\"token class-name\">process</span> <span class=\"token number\">1</span> <span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> <span class=\"token punctuation\">[</span>Note<span class=\"token punctuation\">]</span> Plugin 'FEDERATED' <span class=\"token keyword\">is</span> <span class=\"token class-name\">disabled</span><span class=\"token punctuation\">.</span>\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> InnoDB<span class=\"token punctuation\">:</span> The InnoDB memory heap <span class=\"token keyword\">is</span> <span class=\"token class-name\">disabled</span>\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> InnoDB<span class=\"token punctuation\">:</span> Mutexes <span class=\"token keyword\">and</span> rw_locks use GCC atomic builtins\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> InnoDB<span class=\"token punctuation\">:</span> Compressed tables use zlib <span class=\"token number\">1.2</span><span class=\"token number\">.11</span>\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> InnoDB<span class=\"token punctuation\">:</span> Using Linux native AIO\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> InnoDB<span class=\"token punctuation\">:</span> Initializing <span class=\"token class-name\">buffer</span> pool<span class=\"token punctuation\">,</span> size <span class=\"token operator\">=</span> <span class=\"token number\">128.0M</span>\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> InnoDB<span class=\"token punctuation\">:</span> Completed initialization of buffer <span class=\"token class-name\">pool</span>\nInnoDB<span class=\"token punctuation\">:</span> Unable to <span class=\"token keyword\">lock</span> <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>ib_logfile0<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">error</span><span class=\"token punctuation\">:</span> <span class=\"token number\">11</span>\nInnoDB<span class=\"token punctuation\">:</span> Check that you <span class=\"token keyword\">do</span> <span class=\"token keyword\">not</span> already have another mysqld <span class=\"token class-name\">process</span>\nInnoDB<span class=\"token punctuation\">:</span> <span class=\"token keyword\">using</span> the same InnoDB data <span class=\"token keyword\">or</span> log files<span class=\"token punctuation\">.</span>\nInnoDB<span class=\"token punctuation\">:</span> Error <span class=\"token keyword\">in</span> opening <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>ib_logfile0\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> <span class=\"token punctuation\">[</span>ERROR<span class=\"token punctuation\">]</span> Plugin 'InnoDB' init function returned error<span class=\"token punctuation\">.</span>\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> <span class=\"token punctuation\">[</span>ERROR<span class=\"token punctuation\">]</span> Plugin 'InnoDB' registration <span class=\"token keyword\">as</span> <span class=\"token class-name\">a</span> STORAGE ENGINE failed<span class=\"token punctuation\">.</span>\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> <span class=\"token punctuation\">[</span>ERROR<span class=\"token punctuation\">]</span> Unknown<span class=\"token operator\">/</span>unsupported <span class=\"token class-name\">storage</span> engine<span class=\"token punctuation\">:</span> InnoDB\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> <span class=\"token punctuation\">[</span>ERROR<span class=\"token punctuation\">]</span> Aborting\n<span class=\"token number\">201023</span>  <span class=\"token number\">5</span><span class=\"token punctuation\">:</span><span class=\"token number\">30</span><span class=\"token punctuation\">:</span><span class=\"token number\">32</span> <span class=\"token punctuation\">[</span>Note<span class=\"token punctuation\">]</span> mysqld<span class=\"token punctuation\">:</span> Shutdown complete</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>ê²€ìƒ‰ì„ ì«Œ í•´ë³´ë‹ˆ ë‚´ í™˜ê²½ì€ NFSë¡œ dataíŒŒì¼ì„ ë°›ì•„ì˜¤ëŠ” êµ¬ì¡°ì´ë‹¤ ë³´ë‹ˆ í•œìª½ì˜ MYSQL Podê°€ mysqlì„ ì‹¤í–‰ì‹œí‚¤ë©´ì„œ<br>\ní•´ë‹¹ ë°ì´í„°íŒŒì¼ì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë©´ ë‹¤ë¥¸ìª½ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ì´ìŠˆì˜€ë‹¤.</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Rancher UIì—ì„œ í™•ì¸í•´ë³´ë‹ˆ ì»¨í…Œì´ë„ˆê°€ ê³„ì† ì¬ì‹œì‘ ë˜ê³  ìˆë‹¤ ã… ã… </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96963063-f35e4b00-1542-11eb-8671-2c25c1f6236d.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-23 14-15-19\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>ë¨¸ë¦¬ë§ì—ì„œë„ ì–¸ê¸‰í–ˆë“¯ì´ ì´ì¤‘í™”ë³´ë‹¤ëŠ” NFSë¡œ DB ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒê³¼ ë³„ ì°¨ì´ê°€ ì—†ë‹¤ê³  ìƒê°ì„ í–ˆìŠµë‹ˆë‹¤.<br>\nê·¸ë˜ì„œ ìœ„ì˜ Mysql ë°°í¬ ë©”ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì˜ replicasë¥¼ 1ë¡œ ë‘ëŠ” ê²ƒìœ¼ë¡œ ë§ˆë¬´ë¦¬ í–ˆìŠµë‹ˆë‹¤</li>\n</ul>\n<hr>\n<h3 id=\"nfs---mysql-data-ì—°ë™-í™•ì¸\" style=\"position:relative;\"><a href=\"#nfs---mysql-data-%EC%97%B0%EB%8F%99-%ED%99%95%EC%9D%B8\" aria-label=\"nfs   mysql data ì—°ë™ í™•ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NFS &#x3C;-> Mysql Data ì—°ë™ í™•ì¸</h3>\n<p>replicasë¥¼ 1ë¡œ ë‘ì–´ NFSì™€ ë°ì´í„°íŒŒì¼ì„ ì—°ë™í•œ PODì—ì„œ í™•ì¸í•´ë´…ì‹œë‹¤!</p>\n<ul>\n<li>\n<p>ìš°ì„  MYSQLê³¼ ì—°ë™í•œ ì·¨ì•½ì  ê²€ì‚¬ WEBì—ì„œ ì•„ì´ë””ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ë³´ì£  í•´ë‹¹ ID ë°ì´í„°ëŠ” MYSQL DBì— ì €ì¥ë©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96963398-8c8d6180-1543-11eb-8cb1-52c331066848.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-23 15-22-18\"></p>\n<p>test2ë¼ëŠ” Userë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96963649-f148bc00-1543-11eb-9ff7-25c533985471.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-23 15-25-06\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>MYSQL PODë¡œ ê°€ì„œ ë°ì´í„°ë¥¼ í™•ì¸í•´ë´…ì‹œë‹¤.</p>\n<p>ì•„ë˜ì™€ ê°™ì´ DB Tableì— Account ì •ë³´ê°€ ì˜ ë“¤ì–´ì™€ ìˆë„¤ìš”</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">mysql<span class=\"token operator\">></span> \nmysql<span class=\"token operator\">></span> <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> users<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span>\n<span class=\"token operator\">|</span> id <span class=\"token operator\">|</span> name  <span class=\"token operator\">|</span> login <span class=\"token operator\">|</span> email           <span class=\"token operator\">|</span> password                         <span class=\"token operator\">|</span> created_at          <span class=\"token operator\">|</span> updated_at          <span class=\"token operator\">|</span> role <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">18</span> <span class=\"token operator\">|</span> test  <span class=\"token operator\">|</span> test  <span class=\"token operator\">|</span> test@gmail<span class=\"token punctuation\">.</span>com  <span class=\"token operator\">|</span> 098f6bcd4621d373cade4e832627b4f6 <span class=\"token operator\">|</span> <span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">23</span> <span class=\"token number\">05</span><span class=\"token punctuation\">:</span><span class=\"token number\">46</span><span class=\"token punctuation\">:</span><span class=\"token number\">19</span> <span class=\"token operator\">|</span> <span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">23</span> <span class=\"token number\">05</span><span class=\"token punctuation\">:</span><span class=\"token number\">46</span><span class=\"token punctuation\">:</span><span class=\"token number\">19</span> <span class=\"token operator\">|</span> NULL <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">19</span> <span class=\"token operator\">|</span> test2 <span class=\"token operator\">|</span> test2 <span class=\"token operator\">|</span> test2@naver<span class=\"token punctuation\">.</span>com <span class=\"token operator\">|</span> ad0234829205b9033196ba818f7a872b <span class=\"token operator\">|</span> <span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">23</span> <span class=\"token number\">06</span><span class=\"token punctuation\">:</span><span class=\"token number\">24</span><span class=\"token punctuation\">:</span><span class=\"token number\">54</span> <span class=\"token operator\">|</span> <span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">23</span> <span class=\"token number\">06</span><span class=\"token punctuation\">:</span><span class=\"token number\">24</span><span class=\"token punctuation\">:</span><span class=\"token number\">54</span> <span class=\"token operator\">|</span> NULL <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span>\n<span class=\"token number\">2</span> rows <span class=\"token keyword\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"ì´ì œ-mysql-podë¥¼-ê°•ì œë¡œ-ì£½ì¸-ë’¤-ë‹¤ì‹œ-ê°€ë™ì‹œì¼œì„œ-db-dataë¥¼-í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%9C-mysql-pod%EB%A5%BC-%EA%B0%95%EC%A0%9C%EB%A1%9C-%EC%A3%BD%EC%9D%B8-%EB%92%A4-%EB%8B%A4%EC%8B%9C-%EA%B0%80%EB%8F%99%EC%8B%9C%EC%BC%9C%EC%84%9C-db-data%EB%A5%BC-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EA%B2%A0%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"ì´ì œ mysql podë¥¼ ê°•ì œë¡œ ì£½ì¸ ë’¤ ë‹¤ì‹œ ê°€ë™ì‹œì¼œì„œ db dataë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì´ì œ MYSQL PODë¥¼ ê°•ì œë¡œ ì£½ì¸ ë’¤ ë‹¤ì‹œ ê°€ë™ì‹œì¼œì„œ DB DATAë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤</h3>\n<br/>\n<ul>\n<li>\n<p>Rancherì—ì„œëŠ” PODë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ê°„ë‹¨í•˜ê²Œ ì¢…ë£Œ ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96963953-8ea3f000-1544-11eb-9963-c488299be958.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-23 15-29-29\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Deployementê°€ PODë¥¼ ì¬ì‹œì‘ ì‹œì¼œ ì´ì „ê³¼ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì»¨í…Œì´ë„ˆê°€ ê°€ë™ ëìŠµë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96964025-ad09eb80-1544-11eb-9bd6-0f30336e6e03.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-23 15-30-20\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ìƒˆë¡œ ìƒì„±ëœ ì»¨í…Œì´ë„ˆì— ì ‘ì†í•´ì„œ DB ë°ì´í„°ë¥¼ ë³´ë©´ ê¸°ì¡´ì— ì¶”ê°€í–ˆë˜ test2 user ì •ë³´ê°€ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">mysql<span class=\"token operator\">></span> use dvja\nReading table information <span class=\"token keyword\">for</span> completion of table <span class=\"token keyword\">and</span> column names\nYou can turn off <span class=\"token keyword\">this</span> feature to <span class=\"token keyword\">get</span> a quicker startup with <span class=\"token operator\">-</span>A\n\nDatabase changed\nmysql<span class=\"token operator\">></span> <span class=\"token class-name\">show</span> tables<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span>\n<span class=\"token operator\">|</span> Tables_in_dvja <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span>\n<span class=\"token operator\">|</span> products       <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> users          <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span>\n<span class=\"token number\">2</span> rows <span class=\"token keyword\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">></span> \nmysql<span class=\"token operator\">></span> <span class=\"token keyword\">select</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> users<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span>\n<span class=\"token operator\">|</span> id <span class=\"token operator\">|</span> name  <span class=\"token operator\">|</span> login <span class=\"token operator\">|</span> email           <span class=\"token operator\">|</span> password                         <span class=\"token operator\">|</span> created_at          <span class=\"token operator\">|</span> updated_at          <span class=\"token operator\">|</span> role <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">18</span> <span class=\"token operator\">|</span> test  <span class=\"token operator\">|</span> test  <span class=\"token operator\">|</span> test@gmail<span class=\"token punctuation\">.</span>com  <span class=\"token operator\">|</span> 098f6bcd4621d373cade4e832627b4f6 <span class=\"token operator\">|</span> <span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">23</span> <span class=\"token number\">05</span><span class=\"token punctuation\">:</span><span class=\"token number\">46</span><span class=\"token punctuation\">:</span><span class=\"token number\">19</span> <span class=\"token operator\">|</span> <span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">23</span> <span class=\"token number\">05</span><span class=\"token punctuation\">:</span><span class=\"token number\">46</span><span class=\"token punctuation\">:</span><span class=\"token number\">19</span> <span class=\"token operator\">|</span> NULL <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span> <span class=\"token number\">19</span> <span class=\"token operator\">|</span> test2 <span class=\"token operator\">|</span> test2 <span class=\"token operator\">|</span> test2@naver<span class=\"token punctuation\">.</span>com <span class=\"token operator\">|</span> ad0234829205b9033196ba818f7a872b <span class=\"token operator\">|</span> <span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">23</span> <span class=\"token number\">06</span><span class=\"token punctuation\">:</span><span class=\"token number\">24</span><span class=\"token punctuation\">:</span><span class=\"token number\">54</span> <span class=\"token operator\">|</span> <span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">23</span> <span class=\"token number\">06</span><span class=\"token punctuation\">:</span><span class=\"token number\">24</span><span class=\"token punctuation\">:</span><span class=\"token number\">54</span> <span class=\"token operator\">|</span> NULL <span class=\"token operator\">|</span>\n<span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span><span class=\"token operator\">+</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">+</span>\n<span class=\"token number\">2</span> rows <span class=\"token keyword\">in</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0.00</span> sec<span class=\"token punctuation\">)</span>\n\nmysql<span class=\"token operator\">></span> </code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë¬¼ë¡  ì›¹í˜ì´ì§€ì—ì„œë„ ì ‘ì†ì´ ì›í™œí•©ë‹ˆë‹¤</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/96964242-17229080-1545-11eb-8632-0a6251fc34d8.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-23 15-33-20\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h2>\n<p>ì´ë²ˆì— ìƒˆë¡­ê²Œ FileStoreë¼ëŠ” GCPì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë´¤ìŠµë‹ˆë‹¤.<br>\nì§„ì§œ ì´ì „ì— ë…¸ê°€ë‹¤ì‹ìœ¼ë¡œ í–ˆì—ˆë˜ NFS ì„œë²„ êµ¬ì„±ì´ ë„ˆë¬´ ë¬´ì˜ë¯¸í•´ì§€ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤<br>\nì´ë²ˆ ì‹¤ìŠµì€ ì™œ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ í•˜ëŠ”ì§€ ì•Œ ê²ƒê°™ì€ ì‹¤ìŠµì´ì—ˆìŠµë‹ˆë‹¤<br>\në¹„ë¡ ê¸°ì¡´ì— ìƒê°í•˜ë˜ MYSQL PODì˜ Active/slave,Heartbeat ë°©ì‹ì˜ ì´ì¤‘í™”ëŠ” ëª»í–ˆì§€ë§Œ nfsì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒë„ ë§Œì¡±í•œ ì„œë¹„ìŠ¤ ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì´ë²ˆ í¬ìŠ¤íŠ¸ê¹Œì§€ ì´ì œ ì „ë°˜ì ì¸ ì„œë¹„ìŠ¤ êµ¬ì„±ì„ ë§ˆë¬´ë¦¬ ì§€ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\nì´ì œëŠ” ë³´ì•ˆíˆ´ê³¼ ì·¨ì•½ì  ê²€ì‚¬, ARgo-cd ìë™í™” ë“±ì„ ì§„í–‰í•´ì•¼ê² ì£ â€¦</p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%EB%B0%9C%EC%83%9D-%EC%9D%B4%EC%8A%88\">âœ” ë°œìƒ ì´ìŠˆ</a></li>\n<li>\n<p><a href=\"#-%EC%9D%B4%EC%A0%9C-gcp%EC%9D%98-nfsfilestore%EB%A5%BC-%EA%B5%AC%EC%84%B1%ED%95%B4%EB%B3%B4%EC%A3%A0\">âœŒ ì´ì œ GCPì˜ NFS(Filestore)ë¥¼ êµ¬ì„±í•´ë³´ì£ </a></p>\n<ul>\n<li><a href=\"#gcp-nfs-%EC%84%A4%EC%A0%95\">GCP NFS ì„¤ì •</a></li>\n<li><a href=\"#nfs%EB%A5%BC-gke%EC%9D%98-%EB%B3%BC%EB%A5%A8%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9\">NFSë¥¼ GKEì˜ ë³¼ë¥¨ìœ¼ë¡œ ì‚¬ìš©</a></li>\n<li><a href=\"#pv-%EC%83%9D%EC%84%B1\">PV ìƒì„±</a></li>\n<li><a href=\"#pvc-%EC%83%9D%EC%84%B1\">PVC ìƒì„±</a></li>\n<li><a href=\"#mysql-pod-%EB%B0%B0%ED%8F%AC\">MYSQL POD ë°°í¬</a></li>\n<li><a href=\"#%EC%97%90%EB%9F%AC-%EB%B0%9C%EC%83%9D%E3%85%A0\">ì—ëŸ¬ ë°œìƒ..ã… </a></li>\n<li><a href=\"#nfs---mysql-data-%EC%97%B0%EB%8F%99-%ED%99%95%EC%9D%B8\">NFS &#x3C;-> Mysql Data ì—°ë™ í™•ì¸</a></li>\n<li><a href=\"#%EC%9D%B4%EC%A0%9C-mysql-pod%EB%A5%BC-%EA%B0%95%EC%A0%9C%EB%A1%9C-%EC%A3%BD%EC%9D%B8-%EB%92%A4-%EB%8B%A4%EC%8B%9C-%EA%B0%80%EB%8F%99%EC%8B%9C%EC%BC%9C%EC%84%9C-db-data%EB%A5%BC-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EA%B2%A0%EC%8A%B5%EB%8B%88%EB%8B%A4\">ì´ì œ MYSQL PODë¥¼ ê°•ì œë¡œ ì£½ì¸ ë’¤ ë‹¤ì‹œ ê°€ë™ì‹œì¼œì„œ DB DATAë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</div>","frontmatter":{"date":"August 07, 2021","title":"[DEVOPS] - GCPì˜ FileStore (NFS) ë¥¼ PVë¡œ ì‚¬ìš©í•´ë³´ì","categories":"DevOps CLOUD","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/devops-gcpfilestore/"}},"prev":{"id":"08b7b481-d22d-5769-b198-a051e19e0c19","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” êµ¬ì¶•ëœ DevSecOps íŒŒì´í”„ë¼ì¸ì—ì„œ ë³´ì•ˆìª½ì„ ê°•í™”í•˜ê¸° ìœ„í•´ì„œ OWASP ZAPì„ ë„ì…í•œ ë„ì…ê¸° í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.<br>\në³´í†µ ì™¸ë¶€ ì„œë²„ë¡œ ë‘ê³  ì„œë¹„ìŠ¤ì˜ Portë‚˜ IPë“±ì„ ìŠ¤ìº”í•˜ì§€ë§Œ ì €í¬ëŠ” k8s í´ëŸ¬ìŠ¤í„°ì— ì§ì ‘ ì˜¬ë ¤ podë“¤ì„ ìŠ¤ìºë‹ í•˜ë ¤ê³  í–ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<ul>\n<li>\n<p>ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  </p>\n<ul>\n<li>Jenkins</li>\n<li>OWASP ZAP</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-gcpì˜-lb-ipë¥¼-ê³ ì •\" style=\"position:relative;\"><a href=\"#-gcp%EC%9D%98-lb-ip%EB%A5%BC-%EA%B3%A0%EC%A0%95\" aria-label=\" gcpì˜ lb ipë¥¼ ê³ ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” GCPì˜ LB IPë¥¼ ê³ ì •</h2>\n<ul>\n<li>\n<p>ì €ëŠ” gcloud-sdkë¥¼ ì´ìš©í•˜ì—¬ Cloud Shellì—ì„œ ì‘ì—…ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤</p>\n<p>ì•„ë˜ì™€ ê°™ì´ CLoud Shellì— ì›ê²© ì ‘ì† í›„ GKE í´ëŸ¬ìŠ¤í„°ì— ëŒ€í•œ ê¶Œí•œì„ ë°›ì•„ì˜µë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">h43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>etc <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud config <span class=\"token keyword\">set</span> compute<span class=\"token operator\">/</span>zone us<span class=\"token operator\">-</span>central1<span class=\"token operator\">-</span>f\nUpdated property <span class=\"token punctuation\">[</span>compute<span class=\"token operator\">/</span>zone<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>\nh43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>etc <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ \nh43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>etc <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud container clusters <span class=\"token keyword\">get</span><span class=\"token operator\">-</span>credentials c<span class=\"token operator\">-</span>dcn6h\nFetching cluster endpoint <span class=\"token keyword\">and</span> auth data<span class=\"token punctuation\">.</span>\nkubeconfig entry generated <span class=\"token keyword\">for</span> c<span class=\"token operator\">-</span>dcn6h<span class=\"token punctuation\">.</span>\nh43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>etc <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ kubectl <span class=\"token keyword\">get</span> nodes\nNAME                                  STATUS   ROLES    AGE     VERSION\ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>b3hf   Ready    <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>   2d21h   v1<span class=\"token punctuation\">.</span><span class=\"token number\">17.12</span><span class=\"token operator\">-</span>gke<span class=\"token punctuation\">.</span><span class=\"token number\">1501</span>\ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7   Ready    <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>   2d21h   v1<span class=\"token punctuation\">.</span><span class=\"token number\">17.12</span><span class=\"token operator\">-</span>gke<span class=\"token punctuation\">.</span><span class=\"token number\">1501</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ í›„ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì™¸ë¶€ ê³ ì • IPë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">h43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">~</span> <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud compute addresses create app<span class=\"token operator\">-</span>lb\nFor the <span class=\"token class-name\">following</span> address<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>test<span class=\"token operator\">-</span>lb<span class=\"token operator\">-</span>ip<span class=\"token punctuation\">]</span>\nchoose a region <span class=\"token keyword\">or</span> <span class=\"token keyword\">global</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">global</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>east1\n<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>east2\n<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>northeast1\n<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>northeast2\n<span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>northeast3\n<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>south1\n<span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>southeast1\n<span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>southeast2\n<span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> australia<span class=\"token operator\">-</span>southeast1\n<span class=\"token punctuation\">[</span><span class=\"token number\">11</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>north1\n<span class=\"token punctuation\">[</span><span class=\"token number\">12</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west1\n<span class=\"token punctuation\">[</span><span class=\"token number\">13</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west2\n<span class=\"token punctuation\">[</span><span class=\"token number\">14</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west3\n<span class=\"token punctuation\">[</span><span class=\"token number\">15</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west4\n<span class=\"token punctuation\">[</span><span class=\"token number\">16</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west6\n<span class=\"token punctuation\">[</span><span class=\"token number\">17</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> northamerica<span class=\"token operator\">-</span>northeast1\n<span class=\"token punctuation\">[</span><span class=\"token number\">18</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> southamerica<span class=\"token operator\">-</span>east1\n<span class=\"token punctuation\">[</span><span class=\"token number\">19</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>central1\n<span class=\"token punctuation\">[</span><span class=\"token number\">20</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>east1\n<span class=\"token punctuation\">[</span><span class=\"token number\">21</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>east4\n<span class=\"token punctuation\">[</span><span class=\"token number\">22</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>west1\n<span class=\"token punctuation\">[</span><span class=\"token number\">23</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>west2\n<span class=\"token punctuation\">[</span><span class=\"token number\">24</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>west3\n<span class=\"token punctuation\">[</span><span class=\"token number\">25</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>west4\nPlease enter your <span class=\"token class-name\">numeric</span> choice<span class=\"token punctuation\">:</span>  <span class=\"token number\">19</span>         \n\nCreated <span class=\"token punctuation\">[</span>https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>www<span class=\"token punctuation\">.</span>googleapis<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>compute<span class=\"token operator\">/</span>v1<span class=\"token operator\">/</span>projects<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token operator\">/</span>regions<span class=\"token operator\">/</span>us<span class=\"token operator\">-</span>central1<span class=\"token operator\">/</span>addresses<span class=\"token operator\">/</span>app<span class=\"token operator\">-</span>lb<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>\nh43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">~</span> <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud compute addresses list\nNAME                 ADDRESS<span class=\"token operator\">/</span>RANGE   TYPE      PURPOSE  NETWORK  REGION           SUBNET  STATUS\napp<span class=\"token operator\">-</span>lb               <span class=\"token number\">35.223</span><span class=\"token number\">.27</span><span class=\"token number\">.28</span>    EXTERNAL                    us<span class=\"token operator\">-</span>central1              RESERVED\njenkins<span class=\"token operator\">-</span>external<span class=\"token operator\">-</span>ip  <span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>   EXTERNAL                    asia<span class=\"token operator\">-</span>northeast3          IN_USE\nrancher              <span class=\"token number\">34.64</span><span class=\"token number\">.228</span><span class=\"token number\">.193</span>   EXTERNAL                    asia<span class=\"token operator\">-</span>northeast3          IN_USE</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´í›„ì— ë°°í¬ í•  ì„œë¹„ìŠ¤ì˜ ë©”ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì— <code class=\"language-text\">spec.loadBalancerIP</code>í•­ëª©ì„ ì •ì˜í•˜ì—¬ LB IPë¥¼ ê³ ì •í•˜ì—¬ ë„£ì–´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>GCPì˜ ê²½ìš° LoadBalancerIP í•­ëª©ì„ ëª…ì‹œí•´ì£¼ë©´ ìë™ìœ¼ë¡œ ë§¤ì¹­ë˜ì–´ ì„œë¹„ìŠ¤ê°€ ì˜¬ë¼ì˜µë‹ˆë‹¤!</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Service</span>\nmetadata<span class=\"token punctuation\">:</span>\nannotations<span class=\"token punctuation\">:</span>\n    cloud<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>neg<span class=\"token punctuation\">:</span> '<span class=\"token punctuation\">{</span><span class=\"token string\">\"ingress\"</span><span class=\"token punctuation\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span>'\n    field<span class=\"token punctuation\">.</span>cattle<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>publicEndpoints<span class=\"token punctuation\">:</span> '<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"addresses\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"35.223.27.28\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"port\"</span><span class=\"token punctuation\">:</span><span class=\"token number\">8080</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"protocol\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"TCP\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"serviceName\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"cd-test:app\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"allNodes\"</span><span class=\"token punctuation\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>'\n    kompose<span class=\"token punctuation\">.</span>cmd<span class=\"token punctuation\">:</span> kompose convert\n    kompose<span class=\"token punctuation\">.</span>version<span class=\"token punctuation\">:</span> <span class=\"token number\">1.21</span><span class=\"token number\">.0</span> <span class=\"token punctuation\">(</span>992df58d8<span class=\"token punctuation\">)</span>\nlabels<span class=\"token punctuation\">:</span>\n    io<span class=\"token punctuation\">.</span>kompose<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>Values<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span>app <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\nname<span class=\"token punctuation\">:</span> app<span class=\"token operator\">-</span>lb\n<span class=\"token keyword\">namespace</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>Values<span class=\"token punctuation\">.</span><span class=\"token keyword\">namespace</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\nspec<span class=\"token punctuation\">:</span>\nexternalTrafficPolicy<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Cluster</span>\nports<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"8080\"</span>\n    port<span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span>\n    protocol<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TCP</span>\n    targetPort<span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span>\nselector<span class=\"token punctuation\">:</span>\n    io<span class=\"token punctuation\">.</span>kompose<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>Values<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span>app <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\nsessionAffinity<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ClientIP</span>\ntype<span class=\"token punctuation\">:</span> <span class=\"token class-name\">LoadBalancer</span>\nloadBalancerIP<span class=\"token punctuation\">:</span> <span class=\"token number\">35.223</span><span class=\"token number\">.27</span><span class=\"token number\">.28</span>    <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span>ì´ë¶€ë¶„<span class=\"token operator\">>></span><span class=\"token operator\">>></span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Serviceì˜ ë°°í¬ê°€ ì™„ë£Œë˜ë©´ ì•„ë˜ì™€ ê°™ì´ <code class=\"language-text\">App-lb</code>ê°€ <code class=\"language-text\">IN_USE</code>ë¡œ ë°”ë€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">h43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">~</span> <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud compute addresses list\nNAME                 ADDRESS<span class=\"token operator\">/</span>RANGE  TYPE      PURPOSE  NETWORK  REGION           SUBNET  STATUS\napp<span class=\"token operator\">-</span>lb               <span class=\"token number\">35.223</span><span class=\"token number\">.27</span><span class=\"token number\">.28</span>   EXTERNAL                    us<span class=\"token operator\">-</span>central1              IN_USE\njenkins<span class=\"token operator\">-</span>external<span class=\"token operator\">-</span>ip  <span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>  EXTERNAL                    asia<span class=\"token operator\">-</span>northeast3          IN_USE\nrancher              <span class=\"token number\">34.64</span><span class=\"token number\">.228</span><span class=\"token number\">.193</span>  EXTERNAL                    asia<span class=\"token operator\">-</span>northeast3          IN_USE</code></pre></div>\n<br/>\n</li>\n<li>\n<p>ë˜í•œ k8s í´ëŸ¬ìŠ¤í„°ì—ì„œë„ í•´ë‹¹ LB IPë¡œ ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ìƒì„±ë¨ì„ í™•ì¸!</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">h43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">~</span> <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ kubectl <span class=\"token keyword\">get</span> svc <span class=\"token operator\">-</span>n cd<span class=\"token operator\">-</span>test\nNAME     TYPE           CLUSTER<span class=\"token operator\">-</span>IP    EXTERNAL<span class=\"token operator\">-</span><span class=\"token return-type class-name\">IP</span>    <span class=\"token function\">PORT</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">)</span>          AGE\napp<span class=\"token operator\">-</span>lb   LoadBalancer   <span class=\"token number\">10.0</span><span class=\"token number\">.30</span><span class=\"token number\">.127</span>   <span class=\"token number\">35.223</span><span class=\"token number\">.27</span><span class=\"token number\">.28</span>   <span class=\"token number\">8080</span><span class=\"token punctuation\">:</span><span class=\"token number\">32530</span><span class=\"token operator\">/</span>TCP   9m2s\nmysql    ClusterIP      <span class=\"token number\">10.0</span><span class=\"token number\">.24</span><span class=\"token number\">.243</span>   <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>         <span class=\"token number\">3306</span><span class=\"token operator\">/</span>TCP         18h</code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-jenkinsì—-owasp-zap-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#-jenkins%EC%97%90-owasp-zap-%EC%84%A4%EC%B9%98\" aria-label=\" jenkinsì— owasp zap ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœŒ Jenkinsì— OWASP ZAP ì„¤ì¹˜</h2>\n<p>ì²˜ìŒì—ëŠ” Kubernetesì˜ Helmìœ¼ë¡œ ZAPì„ ë°°í¬í•˜ë ¤ê³  í–ˆì—ˆì§€ë§Œ<br>\nURLì„ ì½ì–´ì˜¤ëŠ” SPIDERë“±ì˜ ì„¤ì • ê°€ì´ë“œê°€ ë§ì´ ë¶€ì¡±í•´ì„œ Jnekinsì™€ ì—°ë™í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤</p>\n<br/>\n<ul>\n<li>\n<p>ì œì¼ ì²˜ìŒìœ¼ë¡œ ê°€ì¥ ìµœì‹  ë¦´ë¦¬ì¦ˆ ë²„ì „ì˜ ZAPPROXYë¥¼ ë‹¤ìš´ë°›ìŠµë‹ˆë‹¤.</p>\n<ul>\n<li><a href=\"https://github.com/zaproxy/zaproxy/releases\">ë§í¬</a></li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97682414-78b1a480-1adb-11eb-958b-0e649ab8c4b3.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-12-23\"></p>\n<br/>\n<ul>\n<li>ì´í›„ ë‹¤ìš´ë°›ì€ ZipíŒŒì¼ì„ Jenkins ì¸ìŠ¤í„´ìŠ¤ì— <code class=\"language-text\">ë³µì‚¬</code>í•©ë‹ˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root<span class=\"token class-name\">@jenkins</span> bin<span class=\"token punctuation\">]</span># pwd\n<span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin\n<span class=\"token punctuation\">[</span>root<span class=\"token class-name\">@jenkins</span> bin<span class=\"token punctuation\">]</span># ls <span class=\"token operator\">-</span>alrt ZAP_D<span class=\"token operator\">-</span><span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">26</span><span class=\"token operator\">/</span>\ntotal <span class=\"token number\">5472</span>\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins    <span class=\"token number\">4187</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> zap<span class=\"token punctuation\">.</span>sh\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins  <span class=\"token number\">123778</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> zap<span class=\"token punctuation\">.</span>ico\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins <span class=\"token number\">5440213</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> zap<span class=\"token operator\">-</span>D<span class=\"token operator\">-</span><span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">26</span><span class=\"token punctuation\">.</span>jar\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins     <span class=\"token number\">206</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> zap<span class=\"token punctuation\">.</span>bat\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins     <span class=\"token number\">161</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> xml\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">3</span> jenkins jenkins      <span class=\"token number\">23</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> scripts\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins    <span class=\"token number\">2157</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> README\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins    <span class=\"token number\">4096</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> plugin\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins     <span class=\"token number\">265</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> license\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins    <span class=\"token number\">4096</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> lib\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins    <span class=\"token number\">4096</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> lang\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins     <span class=\"token number\">140</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> db\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">3</span> root    root         <span class=\"token number\">86</span> Oct <span class=\"token number\">28</span> <span class=\"token number\">07</span><span class=\"token punctuation\">:</span><span class=\"token number\">09</span> <span class=\"token range operator\">..</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">9</span> jenkins jenkins     <span class=\"token number\">180</span> Oct <span class=\"token number\">29</span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span> <span class=\"token punctuation\">.</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë³µì‚¬ê°€ ëë‚¬ë‹¤ë©´ Jenkinsì— OWASP ZAP ê´€ë ¨ Plugin ë“¤ì„ ëª¨ë‘ ì„¤ì¹˜í•©ë‹ˆë‹¤.  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97674610-279cb300-1ad1-11eb-9494-067695600318.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 16-58-32\"></p>\n<ul>\n<li>Official OWASP ZAP Jenkins Plugin</li>\n<li>OWASP Dependency-Check Plugin</li>\n<li>OWASP Dependency-Track Plugin</li>\n<li>OWASP Markup Formatter Plugin</li>\n<li>JDK</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>í”ŒëŸ¬ê·¸ì¸ì´ ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ZAPì˜ í™˜ê²½ë³€ìˆ˜ ì„¤ì •ì„ í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>Manage Jenkins -> configure System íƒ­ì—ì„œ ì„¤ì •</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë¯¸ë¦¬ Jenkins ì¸ìŠ¤í„´ìŠ¤ ë‚´ì— Clone í•´ë†“ì•˜ë˜ zap.sh ìŠ¤í¬ë¦½íŠ¸ê°€ ì¡´ì¬í•˜ëŠ” ìœ„ì¹˜ ì§€ì •  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97678244-d7c0ea80-1ad6-11eb-8024-da31b3d943ee.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-39-16\"></p>\n<ul>\n<li>Environment variables : ì²´í¬</li>\n<li>List of variables.name : ZAPROXY_HOME -> ë‚˜ì¤‘ì— í”„ë¡œì íŠ¸ì—ì„œ ì„¤ì •í•  ìœ„ì¹˜</li>\n<li>List of variables.Value : ì‹¤ì œ Jenkins ì„œë²„ì˜ zap.sh ìŠ¤í¬ë¦½íŠ¸ ìœ„ì¹˜.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ZAP PROXY ì„¤ì •  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97678185-c4ae1a80-1ad6-11eb-8db4-eda98456b84b.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-38-45\"></p>\n<ul>\n<li>Default Host : Jenkins ì„œë²„ì˜ ë¡œì»¬ë¡œ ëŒë¦¬ê¸° ìœ„í•œ ê°’.</li>\n<li>Default Port : Jenkins ì„œë²„ì—ì„œ ë™ì‘í•  Port ë²ˆí˜¸</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>í™˜ê²½ë³€ìˆ˜ ì„¤ì • í›„ freestyleì˜ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97674823-83673c00-1ad1-11eb-99ed-53a6f5531b41.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 16-57-15\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´í›„ Build tabì—ì„œ <code class=\"language-text\">Excute ZAP</code>ì„ ì¶”ê°€í•´ Zap PROXYì˜ ì„¤ì •ì„ í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97674988-ccb78b80-1ad1-11eb-9f85-b09ca675f922.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-03-11\"></p>\n<ul>\n<li>localhost : Jenkins ì„œë²„ì˜ ë¡œì»¬ì—ì„œ ë™ì‘.</li>\n<li>override Port : Jenkins ì„œë²„ì—ì„œ ë™ì‘í•  Zapì˜ ì‚¬ìš©í¬íŠ¸</li>\n<li>JAVA : OWASP ZAPì€ JAVAê¸°ë°˜ìœ¼ë¡œ ëŒê¸°ë•Œë¬¸ì— JDK í”ŒëŸ¬ê·¸ì¸ì˜ ì¶”ê°€ ì„¤ì¹˜ê°€ í•„ìš”í•©ë‹ˆë‹¤</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´ì œ ZAPì˜ ì‹¤í–‰ Methodì˜ ê´€ë ¨ ì„¤ì •ì„ í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97675101-0ab4af80-1ad2-11eb-8ca4-a1d424602fb4.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-04-54\"></p>\n<ul>\n<li>Environment Variable : ì´ì „ì— ì„¤ì •í–ˆë˜ OWASP ZAPì˜ í™˜ê²½ë³€ìˆ˜ ê°’ ê¸°ì…</li>\n<li>ZAP Home Directory : Jenkins ì„œë²„ì— ë¯¸ë¦¬ Clone í•´ë†“ì€ Zap.sh íŒŒì¼ì˜ ìœ„ì¹˜ ê¸°ì…</li>\n<li>Filename : job-seesionìœ¼ë¡œ default ì¡ì•„ì£¼ë©´ ë©ë‹ˆë‹¤</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´ì œ Session Properties ì„¤ì •ì„ í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97675273-5ebf9400-1ad2-11eb-962e-d710a3dc9968.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-07-17\"></p>\n<ul>\n<li>Context Name : defaultë¡œ ì»¨íƒìŠ¤íŠ¸ë¥¼ ì¡ì•„ì£¼ë©´ ë©ë‹ˆë‹¤.</li>\n<li>Include in Context : ê²€ì‚¬í•  URLì˜ ì£¼ì†Œë¥¼ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤</li>\n<li>Username : ì‹¤ì œ ì‚¬ì´íŠ¸ì— ë“¤ì–´ê°€ê¸° ìœ„í•œ Account User ì •ë³´</li>\n<li>Password : Account Userì˜ PASSWORD ì •ë³´</li>\n<li>Logged in Indicator\t: ìŠ¤ìº”ì„ ë§ˆì¹˜ê³  ë‚˜ì˜¬ ë©”ì„¸ì§€ë¥¼ ì ìœ¼ë©´ ë©ë‹ˆë‹¤ <code class=\"language-text\">\\QLogout\\E</code></li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” Form-based Authentication ì„¤ì •ë„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97677213-469d4400-1ad5-11eb-93c7-7c2bdd55344c.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-28-05\"></p>\n<ul>\n<li>Login Form Target URL : ë¡œê·¸ì¸ Parameterë¥¼ ê¸°ì…í•  URL ì£¼ì†Œë¥¼ ê¸°ì…</li>\n<li>Username Parameter : Username Parameter ê°’ì„ ê¸°ì…í•´ì¤ë‹ˆë‹¤.</li>\n<li>Password Parameter : Password Parameter ê°’ì„ ê¸°ì…í•´ì¤ë‹ˆë‹¤.  </li>\n<li>Attack Mode.Starting Point\t: ìŠ¤ìº”í•  URLì˜ ê°€ì¥ ì´ˆê¸° URLì„ ì ì–´ì¤ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” Spider Scan ì„¤ì •ë„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97677451-9b40bf00-1ad5-11eb-93a2-87d01ae6fe77.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-30-26\"></p>\n<ul>\n<li>Spider Scan : ì²´í¬</li>\n<li>Recurse : ì²´í¬</li>\n<li>Subtree Only : ì²´í¬</li>\n<li>Active Scan : ì²´í¬</li>\n<li>Policy : default Policy ë¡œ ì„¤ì •</li>\n<li>Recurse : ì²´í¬</li>\n</ul>\n</li>\n<li>\n<p>ìŠ¤ìº” ê²°ê³¼ì˜ ë¦¬í¬íŠ¸ íŒŒì¼ì„ ë‚¨ê¸°ê¸° ìœ„í•´ì„œ Generate Reports ì„¤ì •ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>Generate Reports : ì²´í¬</li>\n<li>Clean Workspace Reports : ì²´í¬</li>\n<li>Filename : ~ {BUILD_ID} ë¹Œë“œ ë„˜ë²„ë¡œ ë‚¨ê¸°ê¸° ìœ„í•œ ì„¤ì •</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Report íŒŒì¼ì˜ í˜•ì‹ì´ ë‹¤ìŒê³¼ ê°™ìŒì„ í™•ì¸í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97677724-11452600-1ad6-11eb-9a15-0b11ac43f947.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-33-45\"></p>\n<ul>\n<li>Generate Report : xml, html ì„¤ì • í™•ì¸</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>POST Build ACTIONì„ ì„¤ì •í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97677797-2de15e00-1ad6-11eb-9611-b0d58fd7988c.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-34-32\"></p>\n<ul>\n<li>Files to archive : ê²°ê³¼ íŒŒì¼ë¡œ ë„ì›Œì¤„ ë¡œê·¸ì™€ ë¦¬í¬íŠ¸ íŒŒì¼ì˜ ìœ„ì¹˜.</li>\n<li>HTML directory to archive : Report íŒŒì¼ì˜ ë””ë ‰í† ë¦¬ ê¸°ì…</li>\n<li>Index page[s] : ìœ„ì—ì„œ ìƒì„±í•´ì¤¬ë˜ <code class=\"language-text\">[REPORT íŒŒì¼ëª…].html</code> ê¸°ì….</li>\n<li>Report title : htmlë¡œ ë„ì›Œì¤„ ë¦¬í¬íŠ¸ ê²°ê³¼ì˜ ì œëª©</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-ë¹Œë“œ-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#-%EB%B9%8C%EB%93%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\" ë¹Œë“œ í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ™Œ ë¹Œë“œ í…ŒìŠ¤íŠ¸!</h2>\n<ul>\n<li>\n<p>Jenkinsì˜ OWASP ZAP í”„ë¡œì íŠ¸ì—ì„œ ë¹Œë“œ!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97683734-d34b0080-1adb-11eb-9785-af9b9eb6d381.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-14-55\"></p>\n<ul>\n<li>ë¹Œë“œê°€ ì™„ë£Œë˜ë©´ ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ html,xml ë¡œê·¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì‹¤ì œ í•´ë‹¹ Report íŒŒì¼ì— ì ‘ì†í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë¦¬í¬íŠ¸ í•´ì£¼ëŠ” ê²ƒì„ í™•ì¸ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97684035-f5dd1980-1adb-11eb-8207-790e2b143e8b.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-15-54\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë¦¬í¬íŠ¸ íŒŒì¼ì„ í™•ì¸í•´ë³´ë©´ í™ˆí˜ì´ì§€ì˜ A1,A2ë“±ì˜ ì·¨ì•½ì  ê²€ì‚¬ë¥¼ ìë™ìœ¼ë¡œ í•œ ê²ƒì´ í™•ì¸ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97684390-17d69c00-1adc-11eb-8c1e-9c0dd0cd26c2.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-16-51\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì‹¤ì œ ë™ì‘ì€ í•´ë‹¹ ì›¹í˜ì´ì§€ì— user, passwordë¥¼ ìë™ìœ¼ë¡œ ê¸°ì…í•´ì£¼ê³ </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97684956-3fc5ff80-1adc-11eb-8c9f-be7222b8a14b.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-17-57\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë©”ì¸ í˜ì´ì§€ì— ì—°ê²°ë˜ì–´ìˆëŠ” 1~10ê¹Œì§€ì˜ ë³´ì•ˆì·¨ì•½ì ì— ëŒ€í•´ ìë™ìœ¼ë¡œ ìŠ¤ìº”ì„ í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97685276-58361a00-1adc-11eb-8b96-c86e60d393e4.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-18-39\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h2>\n<p>ì‚¬ì‹¤ ë³´ì•ˆíˆ´ì˜ ìë™í™”ëŠ” ë¬¼ë¡ ì´ê³  ë³´ì•ˆíˆ´ì„ ì˜¬ë ¤ë³´ëŠ” ê²ƒ ì¡°ì°¨ ì´ë²ˆì´ ì²˜ìŒì´ì—ˆìŠµë‹ˆë‹¤.<br>\nì²˜ìŒì—” Helmìœ¼ë¡œ k8s í´ëŸ¬ìŠ¤í„°ì— ë°°í¬í•˜ë ¤ëŠ” ì‹œí–‰ì°©ì˜¤ë¥¼ 3ì¼ì •ë„ ê²ªê³ , ì‹¤íŒ¨í•˜ê³ , Docker ì»¨í…Œì´ë„ˆ ê¸°ë°˜ìœ¼ë¡œ ì˜¬ë¦¬ê³ , ì‹¤íŒ¨í•˜ê³ ë¥¼ ë°˜ë³µí•˜ë©´ì„œ 5ì¼ì •ë„ë¥¼ ë‚ ë ¸ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\nê²°êµ­ Jenkinsë¡œ íŒŒì´í”„ë¼ì¸ì— ìë™ì ìœ¼ë¡œ ìŠ¤ìº”í•˜ë„ë¡ ì„¤ì •í•¨ìœ¼ë¡œ ë§ˆë¬´ë¦¬ë¥¼ ì§€ì—ˆì§€ë§Œ ì•„ì§ ë¯¸ë ¨ì€ ì¡°ê¸ˆ ë‚¨ì•„ìˆëŠ” ìƒíƒœì…ë‹ˆë‹¤.<br>\ní”„ë¡œì íŠ¸ê°€ ëë‚˜ê³  ê°œì¸ì ìœ¼ë¡œ Helmì„ ì´ìš©í•´ í´ëŸ¬ìŠ¤í„°ì— ì§ì ‘ ë°°í¬í•˜ëŠ” ê²ƒë„ ì„±ê³µí•´ë´ì•¼ê² ìŠµë‹ˆë‹¤<br>\nì´ë²ˆ OWASP ZAP ë„ì…ê¸°ë¥¼ ì‘ì„±í•˜ë©´ì„œ DevSecOps íŒŒì´í”„ë¼ì¸ì˜ ë³´ì•ˆì— ëŒ€í•´ì„œ ì¡°ê¸ˆì˜ ê°ì€ ì¡ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\nì‹¤ì œë¡œ OWASP ZAP ê´€ë ¨í•´ì„œ í•œê¸€ë¬¸ì„œë‚˜ ì •í™•í•œ ì„¤ì • ê°€ì´ë“œê°€ ë¯¸í¡í•˜ë‹¤ ë³´ë‹ˆ<br>\nì´ë²ˆ í¬ìŠ¤íŠ¸ê°€ ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.</p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-gcp%EC%9D%98-lb-ip%EB%A5%BC-%EA%B3%A0%EC%A0%95\">âœ” GCPì˜ LB IPë¥¼ ê³ ì •</a></li>\n<li><a href=\"#-jenkins%EC%97%90-owasp-zap-%EC%84%A4%EC%B9%98\">âœŒ Jenkinsì— OWASP ZAP ì„¤ì¹˜</a></li>\n<li><a href=\"#-%EB%B9%8C%EB%93%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8\">ğŸ™Œ ë¹Œë“œ í…ŒìŠ¤íŠ¸!</a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</div>","frontmatter":{"date":"August 09, 2021","title":"[DEVOPS] - Jenkins Pipelineì— OWASP ZAP ë„ì…ê¸°","categories":"DevOps","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/devops-owaspzap/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/devops-jenkinspush/","nextSlug":"/devops-gcpfilestore/","prevSlug":"/devops-owaspzap/"}},"staticQueryHashes":["1073350324","2938748437"]}