{"componentChunkName":"component---src-templates-blog-template-js","path":"/devops-owaspzap/","result":{"data":{"cur":{"id":"08b7b481-d22d-5769-b198-a051e19e0c19","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” êµ¬ì¶•ëœ DevSecOps íŒŒì´í”„ë¼ì¸ì—ì„œ ë³´ì•ˆìª½ì„ ê°•í™”í•˜ê¸° ìœ„í•´ì„œ OWASP ZAPì„ ë„ì…í•œ ë„ì…ê¸° í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.<br>\në³´í†µ ì™¸ë¶€ ì„œë²„ë¡œ ë‘ê³  ì„œë¹„ìŠ¤ì˜ Portë‚˜ IPë“±ì„ ìŠ¤ìº”í•˜ì§€ë§Œ ì €í¬ëŠ” k8s í´ëŸ¬ìŠ¤í„°ì— ì§ì ‘ ì˜¬ë ¤ podë“¤ì„ ìŠ¤ìºë‹ í•˜ë ¤ê³  í–ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<ul>\n<li>\n<p>ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  </p>\n<ul>\n<li>Jenkins</li>\n<li>OWASP ZAP</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-gcpì˜-lb-ipë¥¼-ê³ ì •\" style=\"position:relative;\"><a href=\"#-gcp%EC%9D%98-lb-ip%EB%A5%BC-%EA%B3%A0%EC%A0%95\" aria-label=\" gcpì˜ lb ipë¥¼ ê³ ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” GCPì˜ LB IPë¥¼ ê³ ì •</h2>\n<ul>\n<li>\n<p>ì €ëŠ” gcloud-sdkë¥¼ ì´ìš©í•˜ì—¬ Cloud Shellì—ì„œ ì‘ì—…ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤</p>\n<p>ì•„ë˜ì™€ ê°™ì´ CLoud Shellì— ì›ê²© ì ‘ì† í›„ GKE í´ëŸ¬ìŠ¤í„°ì— ëŒ€í•œ ê¶Œí•œì„ ë°›ì•„ì˜µë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">h43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>etc <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud config <span class=\"token keyword\">set</span> compute<span class=\"token operator\">/</span>zone us<span class=\"token operator\">-</span>central1<span class=\"token operator\">-</span>f\nUpdated property <span class=\"token punctuation\">[</span>compute<span class=\"token operator\">/</span>zone<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>\nh43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>etc <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ \nh43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>etc <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud container clusters <span class=\"token keyword\">get</span><span class=\"token operator\">-</span>credentials c<span class=\"token operator\">-</span>dcn6h\nFetching cluster endpoint <span class=\"token keyword\">and</span> auth data<span class=\"token punctuation\">.</span>\nkubeconfig entry generated <span class=\"token keyword\">for</span> c<span class=\"token operator\">-</span>dcn6h<span class=\"token punctuation\">.</span>\nh43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>etc <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ kubectl <span class=\"token keyword\">get</span> nodes\nNAME                                  STATUS   ROLES    AGE     VERSION\ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>b3hf   Ready    <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>   2d21h   v1<span class=\"token punctuation\">.</span><span class=\"token number\">17.12</span><span class=\"token operator\">-</span>gke<span class=\"token punctuation\">.</span><span class=\"token number\">1501</span>\ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7   Ready    <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>   2d21h   v1<span class=\"token punctuation\">.</span><span class=\"token number\">17.12</span><span class=\"token operator\">-</span>gke<span class=\"token punctuation\">.</span><span class=\"token number\">1501</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ í›„ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì™¸ë¶€ ê³ ì • IPë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">h43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">~</span> <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud compute addresses create app<span class=\"token operator\">-</span>lb\nFor the <span class=\"token class-name\">following</span> address<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>test<span class=\"token operator\">-</span>lb<span class=\"token operator\">-</span>ip<span class=\"token punctuation\">]</span>\nchoose a region <span class=\"token keyword\">or</span> <span class=\"token keyword\">global</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">global</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>east1\n<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>east2\n<span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>northeast1\n<span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>northeast2\n<span class=\"token punctuation\">[</span><span class=\"token number\">6</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>northeast3\n<span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>south1\n<span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>southeast1\n<span class=\"token punctuation\">[</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> asia<span class=\"token operator\">-</span>southeast2\n<span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> australia<span class=\"token operator\">-</span>southeast1\n<span class=\"token punctuation\">[</span><span class=\"token number\">11</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>north1\n<span class=\"token punctuation\">[</span><span class=\"token number\">12</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west1\n<span class=\"token punctuation\">[</span><span class=\"token number\">13</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west2\n<span class=\"token punctuation\">[</span><span class=\"token number\">14</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west3\n<span class=\"token punctuation\">[</span><span class=\"token number\">15</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west4\n<span class=\"token punctuation\">[</span><span class=\"token number\">16</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> europe<span class=\"token operator\">-</span>west6\n<span class=\"token punctuation\">[</span><span class=\"token number\">17</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> northamerica<span class=\"token operator\">-</span>northeast1\n<span class=\"token punctuation\">[</span><span class=\"token number\">18</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> southamerica<span class=\"token operator\">-</span>east1\n<span class=\"token punctuation\">[</span><span class=\"token number\">19</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>central1\n<span class=\"token punctuation\">[</span><span class=\"token number\">20</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>east1\n<span class=\"token punctuation\">[</span><span class=\"token number\">21</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>east4\n<span class=\"token punctuation\">[</span><span class=\"token number\">22</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>west1\n<span class=\"token punctuation\">[</span><span class=\"token number\">23</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>west2\n<span class=\"token punctuation\">[</span><span class=\"token number\">24</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>west3\n<span class=\"token punctuation\">[</span><span class=\"token number\">25</span><span class=\"token punctuation\">]</span> region<span class=\"token punctuation\">:</span> us<span class=\"token operator\">-</span>west4\nPlease enter your <span class=\"token class-name\">numeric</span> choice<span class=\"token punctuation\">:</span>  <span class=\"token number\">19</span>         \n\nCreated <span class=\"token punctuation\">[</span>https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>www<span class=\"token punctuation\">.</span>googleapis<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>compute<span class=\"token operator\">/</span>v1<span class=\"token operator\">/</span>projects<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token operator\">/</span>regions<span class=\"token operator\">/</span>us<span class=\"token operator\">-</span>central1<span class=\"token operator\">/</span>addresses<span class=\"token operator\">/</span>app<span class=\"token operator\">-</span>lb<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>\nh43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">~</span> <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud compute addresses list\nNAME                 ADDRESS<span class=\"token operator\">/</span>RANGE   TYPE      PURPOSE  NETWORK  REGION           SUBNET  STATUS\napp<span class=\"token operator\">-</span>lb               <span class=\"token number\">35.223</span><span class=\"token number\">.27</span><span class=\"token number\">.28</span>    EXTERNAL                    us<span class=\"token operator\">-</span>central1              RESERVED\njenkins<span class=\"token operator\">-</span>external<span class=\"token operator\">-</span>ip  <span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>   EXTERNAL                    asia<span class=\"token operator\">-</span>northeast3          IN_USE\nrancher              <span class=\"token number\">34.64</span><span class=\"token number\">.228</span><span class=\"token number\">.193</span>   EXTERNAL                    asia<span class=\"token operator\">-</span>northeast3          IN_USE</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´í›„ì— ë°°í¬ í•  ì„œë¹„ìŠ¤ì˜ ë©”ë‹ˆí˜ìŠ¤íŠ¸ íŒŒì¼ì— <code class=\"language-text\">spec.loadBalancerIP</code>í•­ëª©ì„ ì •ì˜í•˜ì—¬ LB IPë¥¼ ê³ ì •í•˜ì—¬ ë„£ì–´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>\n<p>GCPì˜ ê²½ìš° LoadBalancerIP í•­ëª©ì„ ëª…ì‹œí•´ì£¼ë©´ ìë™ìœ¼ë¡œ ë§¤ì¹­ë˜ì–´ ì„œë¹„ìŠ¤ê°€ ì˜¬ë¼ì˜µë‹ˆë‹¤!</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">apiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Service</span>\nmetadata<span class=\"token punctuation\">:</span>\nannotations<span class=\"token punctuation\">:</span>\n    cloud<span class=\"token punctuation\">.</span>google<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>neg<span class=\"token punctuation\">:</span> '<span class=\"token punctuation\">{</span><span class=\"token string\">\"ingress\"</span><span class=\"token punctuation\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span>'\n    field<span class=\"token punctuation\">.</span>cattle<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>publicEndpoints<span class=\"token punctuation\">:</span> '<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"addresses\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"35.223.27.28\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"port\"</span><span class=\"token punctuation\">:</span><span class=\"token number\">8080</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"protocol\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"TCP\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"serviceName\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"cd-test:app\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"allNodes\"</span><span class=\"token punctuation\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>'\n    kompose<span class=\"token punctuation\">.</span>cmd<span class=\"token punctuation\">:</span> kompose convert\n    kompose<span class=\"token punctuation\">.</span>version<span class=\"token punctuation\">:</span> <span class=\"token number\">1.21</span><span class=\"token number\">.0</span> <span class=\"token punctuation\">(</span>992df58d8<span class=\"token punctuation\">)</span>\nlabels<span class=\"token punctuation\">:</span>\n    io<span class=\"token punctuation\">.</span>kompose<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>Values<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span>app <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\nname<span class=\"token punctuation\">:</span> app<span class=\"token operator\">-</span>lb\n<span class=\"token keyword\">namespace</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>Values<span class=\"token punctuation\">.</span><span class=\"token keyword\">namespace</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\nspec<span class=\"token punctuation\">:</span>\nexternalTrafficPolicy<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Cluster</span>\nports<span class=\"token punctuation\">:</span>\n<span class=\"token operator\">-</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"8080\"</span>\n    port<span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span>\n    protocol<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TCP</span>\n    targetPort<span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span>\nselector<span class=\"token punctuation\">:</span>\n    io<span class=\"token punctuation\">.</span>kompose<span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">.</span>Values<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span>app <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\nsessionAffinity<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ClientIP</span>\ntype<span class=\"token punctuation\">:</span> <span class=\"token class-name\">LoadBalancer</span>\nloadBalancerIP<span class=\"token punctuation\">:</span> <span class=\"token number\">35.223</span><span class=\"token number\">.27</span><span class=\"token number\">.28</span>    <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span>ì´ë¶€ë¶„<span class=\"token operator\">>></span><span class=\"token operator\">>></span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Serviceì˜ ë°°í¬ê°€ ì™„ë£Œë˜ë©´ ì•„ë˜ì™€ ê°™ì´ <code class=\"language-text\">App-lb</code>ê°€ <code class=\"language-text\">IN_USE</code>ë¡œ ë°”ë€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">h43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">~</span> <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ gcloud compute addresses list\nNAME                 ADDRESS<span class=\"token operator\">/</span>RANGE  TYPE      PURPOSE  NETWORK  REGION           SUBNET  STATUS\napp<span class=\"token operator\">-</span>lb               <span class=\"token number\">35.223</span><span class=\"token number\">.27</span><span class=\"token number\">.28</span>   EXTERNAL                    us<span class=\"token operator\">-</span>central1              IN_USE\njenkins<span class=\"token operator\">-</span>external<span class=\"token operator\">-</span>ip  <span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>  EXTERNAL                    asia<span class=\"token operator\">-</span>northeast3          IN_USE\nrancher              <span class=\"token number\">34.64</span><span class=\"token number\">.228</span><span class=\"token number\">.193</span>  EXTERNAL                    asia<span class=\"token operator\">-</span>northeast3          IN_USE</code></pre></div>\n<br/>\n</li>\n<li>\n<p>ë˜í•œ k8s í´ëŸ¬ìŠ¤í„°ì—ì„œë„ í•´ë‹¹ LB IPë¡œ ì„œë¹„ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ìƒì„±ë¨ì„ í™•ì¸!</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">h43254@cloudshell<span class=\"token punctuation\">:</span><span class=\"token operator\">~</span> <span class=\"token punctuation\">(</span>cccr<span class=\"token operator\">-</span>nov2<span class=\"token punctuation\">)</span>$ kubectl <span class=\"token keyword\">get</span> svc <span class=\"token operator\">-</span>n cd<span class=\"token operator\">-</span>test\nNAME     TYPE           CLUSTER<span class=\"token operator\">-</span>IP    EXTERNAL<span class=\"token operator\">-</span><span class=\"token return-type class-name\">IP</span>    <span class=\"token function\">PORT</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">)</span>          AGE\napp<span class=\"token operator\">-</span>lb   LoadBalancer   <span class=\"token number\">10.0</span><span class=\"token number\">.30</span><span class=\"token number\">.127</span>   <span class=\"token number\">35.223</span><span class=\"token number\">.27</span><span class=\"token number\">.28</span>   <span class=\"token number\">8080</span><span class=\"token punctuation\">:</span><span class=\"token number\">32530</span><span class=\"token operator\">/</span>TCP   9m2s\nmysql    ClusterIP      <span class=\"token number\">10.0</span><span class=\"token number\">.24</span><span class=\"token number\">.243</span>   <span class=\"token operator\">&lt;</span>none<span class=\"token operator\">></span>         <span class=\"token number\">3306</span><span class=\"token operator\">/</span>TCP         18h</code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-jenkinsì—-owasp-zap-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#-jenkins%EC%97%90-owasp-zap-%EC%84%A4%EC%B9%98\" aria-label=\" jenkinsì— owasp zap ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœŒ Jenkinsì— OWASP ZAP ì„¤ì¹˜</h2>\n<p>ì²˜ìŒì—ëŠ” Kubernetesì˜ Helmìœ¼ë¡œ ZAPì„ ë°°í¬í•˜ë ¤ê³  í–ˆì—ˆì§€ë§Œ<br>\nURLì„ ì½ì–´ì˜¤ëŠ” SPIDERë“±ì˜ ì„¤ì • ê°€ì´ë“œê°€ ë§ì´ ë¶€ì¡±í•´ì„œ Jnekinsì™€ ì—°ë™í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤</p>\n<br/>\n<ul>\n<li>\n<p>ì œì¼ ì²˜ìŒìœ¼ë¡œ ê°€ì¥ ìµœì‹  ë¦´ë¦¬ì¦ˆ ë²„ì „ì˜ ZAPPROXYë¥¼ ë‹¤ìš´ë°›ìŠµë‹ˆë‹¤.</p>\n<ul>\n<li><a href=\"https://github.com/zaproxy/zaproxy/releases\">ë§í¬</a></li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97682414-78b1a480-1adb-11eb-958b-0e649ab8c4b3.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-12-23\"></p>\n<br/>\n<ul>\n<li>ì´í›„ ë‹¤ìš´ë°›ì€ ZipíŒŒì¼ì„ Jenkins ì¸ìŠ¤í„´ìŠ¤ì— <code class=\"language-text\">ë³µì‚¬</code>í•©ë‹ˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root<span class=\"token class-name\">@jenkins</span> bin<span class=\"token punctuation\">]</span># pwd\n<span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin\n<span class=\"token punctuation\">[</span>root<span class=\"token class-name\">@jenkins</span> bin<span class=\"token punctuation\">]</span># ls <span class=\"token operator\">-</span>alrt ZAP_D<span class=\"token operator\">-</span><span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">26</span><span class=\"token operator\">/</span>\ntotal <span class=\"token number\">5472</span>\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins    <span class=\"token number\">4187</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> zap<span class=\"token punctuation\">.</span>sh\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins  <span class=\"token number\">123778</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> zap<span class=\"token punctuation\">.</span>ico\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins <span class=\"token number\">5440213</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> zap<span class=\"token operator\">-</span>D<span class=\"token operator\">-</span><span class=\"token number\">2020</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">-</span><span class=\"token number\">26</span><span class=\"token punctuation\">.</span>jar\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins     <span class=\"token number\">206</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> zap<span class=\"token punctuation\">.</span>bat\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins     <span class=\"token number\">161</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> xml\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">3</span> jenkins jenkins      <span class=\"token number\">23</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> scripts\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">--</span>r<span class=\"token operator\">--</span><span class=\"token punctuation\">.</span> <span class=\"token number\">1</span> jenkins jenkins    <span class=\"token number\">2157</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> README\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins    <span class=\"token number\">4096</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> plugin\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins     <span class=\"token number\">265</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> license\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins    <span class=\"token number\">4096</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> lib\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins    <span class=\"token number\">4096</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> lang\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">2</span> jenkins jenkins     <span class=\"token number\">140</span> Feb  <span class=\"token number\">1</span>  <span class=\"token number\">1980</span> db\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">3</span> root    root         <span class=\"token number\">86</span> Oct <span class=\"token number\">28</span> <span class=\"token number\">07</span><span class=\"token punctuation\">:</span><span class=\"token number\">09</span> <span class=\"token range operator\">..</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x<span class=\"token punctuation\">.</span> <span class=\"token number\">9</span> jenkins jenkins     <span class=\"token number\">180</span> Oct <span class=\"token number\">29</span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span><span class=\"token number\">40</span> <span class=\"token punctuation\">.</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë³µì‚¬ê°€ ëë‚¬ë‹¤ë©´ Jenkinsì— OWASP ZAP ê´€ë ¨ Plugin ë“¤ì„ ëª¨ë‘ ì„¤ì¹˜í•©ë‹ˆë‹¤.  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97674610-279cb300-1ad1-11eb-9494-067695600318.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 16-58-32\"></p>\n<ul>\n<li>Official OWASP ZAP Jenkins Plugin</li>\n<li>OWASP Dependency-Check Plugin</li>\n<li>OWASP Dependency-Track Plugin</li>\n<li>OWASP Markup Formatter Plugin</li>\n<li>JDK</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>í”ŒëŸ¬ê·¸ì¸ì´ ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ZAPì˜ í™˜ê²½ë³€ìˆ˜ ì„¤ì •ì„ í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>Manage Jenkins -> configure System íƒ­ì—ì„œ ì„¤ì •</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë¯¸ë¦¬ Jenkins ì¸ìŠ¤í„´ìŠ¤ ë‚´ì— Clone í•´ë†“ì•˜ë˜ zap.sh ìŠ¤í¬ë¦½íŠ¸ê°€ ì¡´ì¬í•˜ëŠ” ìœ„ì¹˜ ì§€ì •  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97678244-d7c0ea80-1ad6-11eb-8024-da31b3d943ee.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-39-16\"></p>\n<ul>\n<li>Environment variables : ì²´í¬</li>\n<li>List of variables.name : ZAPROXY_HOME -> ë‚˜ì¤‘ì— í”„ë¡œì íŠ¸ì—ì„œ ì„¤ì •í•  ìœ„ì¹˜</li>\n<li>List of variables.Value : ì‹¤ì œ Jenkins ì„œë²„ì˜ zap.sh ìŠ¤í¬ë¦½íŠ¸ ìœ„ì¹˜.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ZAP PROXY ì„¤ì •  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97678185-c4ae1a80-1ad6-11eb-8db4-eda98456b84b.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-38-45\"></p>\n<ul>\n<li>Default Host : Jenkins ì„œë²„ì˜ ë¡œì»¬ë¡œ ëŒë¦¬ê¸° ìœ„í•œ ê°’.</li>\n<li>Default Port : Jenkins ì„œë²„ì—ì„œ ë™ì‘í•  Port ë²ˆí˜¸</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>í™˜ê²½ë³€ìˆ˜ ì„¤ì • í›„ freestyleì˜ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97674823-83673c00-1ad1-11eb-99ed-53a6f5531b41.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 16-57-15\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´í›„ Build tabì—ì„œ <code class=\"language-text\">Excute ZAP</code>ì„ ì¶”ê°€í•´ Zap PROXYì˜ ì„¤ì •ì„ í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97674988-ccb78b80-1ad1-11eb-9f85-b09ca675f922.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-03-11\"></p>\n<ul>\n<li>localhost : Jenkins ì„œë²„ì˜ ë¡œì»¬ì—ì„œ ë™ì‘.</li>\n<li>override Port : Jenkins ì„œë²„ì—ì„œ ë™ì‘í•  Zapì˜ ì‚¬ìš©í¬íŠ¸</li>\n<li>JAVA : OWASP ZAPì€ JAVAê¸°ë°˜ìœ¼ë¡œ ëŒê¸°ë•Œë¬¸ì— JDK í”ŒëŸ¬ê·¸ì¸ì˜ ì¶”ê°€ ì„¤ì¹˜ê°€ í•„ìš”í•©ë‹ˆë‹¤</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´ì œ ZAPì˜ ì‹¤í–‰ Methodì˜ ê´€ë ¨ ì„¤ì •ì„ í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97675101-0ab4af80-1ad2-11eb-8ca4-a1d424602fb4.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-04-54\"></p>\n<ul>\n<li>Environment Variable : ì´ì „ì— ì„¤ì •í–ˆë˜ OWASP ZAPì˜ í™˜ê²½ë³€ìˆ˜ ê°’ ê¸°ì…</li>\n<li>ZAP Home Directory : Jenkins ì„œë²„ì— ë¯¸ë¦¬ Clone í•´ë†“ì€ Zap.sh íŒŒì¼ì˜ ìœ„ì¹˜ ê¸°ì…</li>\n<li>Filename : job-seesionìœ¼ë¡œ default ì¡ì•„ì£¼ë©´ ë©ë‹ˆë‹¤</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì´ì œ Session Properties ì„¤ì •ì„ í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97675273-5ebf9400-1ad2-11eb-962e-d710a3dc9968.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-07-17\"></p>\n<ul>\n<li>Context Name : defaultë¡œ ì»¨íƒìŠ¤íŠ¸ë¥¼ ì¡ì•„ì£¼ë©´ ë©ë‹ˆë‹¤.</li>\n<li>Include in Context : ê²€ì‚¬í•  URLì˜ ì£¼ì†Œë¥¼ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤</li>\n<li>Username : ì‹¤ì œ ì‚¬ì´íŠ¸ì— ë“¤ì–´ê°€ê¸° ìœ„í•œ Account User ì •ë³´</li>\n<li>Password : Account Userì˜ PASSWORD ì •ë³´</li>\n<li>Logged in Indicator\t: ìŠ¤ìº”ì„ ë§ˆì¹˜ê³  ë‚˜ì˜¬ ë©”ì„¸ì§€ë¥¼ ì ìœ¼ë©´ ë©ë‹ˆë‹¤ <code class=\"language-text\">\\QLogout\\E</code></li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” Form-based Authentication ì„¤ì •ë„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97677213-469d4400-1ad5-11eb-93c7-7c2bdd55344c.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-28-05\"></p>\n<ul>\n<li>Login Form Target URL : ë¡œê·¸ì¸ Parameterë¥¼ ê¸°ì…í•  URL ì£¼ì†Œë¥¼ ê¸°ì…</li>\n<li>Username Parameter : Username Parameter ê°’ì„ ê¸°ì…í•´ì¤ë‹ˆë‹¤.</li>\n<li>Password Parameter : Password Parameter ê°’ì„ ê¸°ì…í•´ì¤ë‹ˆë‹¤.  </li>\n<li>Attack Mode.Starting Point\t: ìŠ¤ìº”í•  URLì˜ ê°€ì¥ ì´ˆê¸° URLì„ ì ì–´ì¤ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” Spider Scan ì„¤ì •ë„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97677451-9b40bf00-1ad5-11eb-93a2-87d01ae6fe77.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-30-26\"></p>\n<ul>\n<li>Spider Scan : ì²´í¬</li>\n<li>Recurse : ì²´í¬</li>\n<li>Subtree Only : ì²´í¬</li>\n<li>Active Scan : ì²´í¬</li>\n<li>Policy : default Policy ë¡œ ì„¤ì •</li>\n<li>Recurse : ì²´í¬</li>\n</ul>\n</li>\n<li>\n<p>ìŠ¤ìº” ê²°ê³¼ì˜ ë¦¬í¬íŠ¸ íŒŒì¼ì„ ë‚¨ê¸°ê¸° ìœ„í•´ì„œ Generate Reports ì„¤ì •ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>Generate Reports : ì²´í¬</li>\n<li>Clean Workspace Reports : ì²´í¬</li>\n<li>Filename : ~ {BUILD_ID} ë¹Œë“œ ë„˜ë²„ë¡œ ë‚¨ê¸°ê¸° ìœ„í•œ ì„¤ì •</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Report íŒŒì¼ì˜ í˜•ì‹ì´ ë‹¤ìŒê³¼ ê°™ìŒì„ í™•ì¸í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97677724-11452600-1ad6-11eb-9a15-0b11ac43f947.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-33-45\"></p>\n<ul>\n<li>Generate Report : xml, html ì„¤ì • í™•ì¸</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>POST Build ACTIONì„ ì„¤ì •í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97677797-2de15e00-1ad6-11eb-9611-b0d58fd7988c.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 17-34-32\"></p>\n<ul>\n<li>Files to archive : ê²°ê³¼ íŒŒì¼ë¡œ ë„ì›Œì¤„ ë¡œê·¸ì™€ ë¦¬í¬íŠ¸ íŒŒì¼ì˜ ìœ„ì¹˜.</li>\n<li>HTML directory to archive : Report íŒŒì¼ì˜ ë””ë ‰í† ë¦¬ ê¸°ì…</li>\n<li>Index page[s] : ìœ„ì—ì„œ ìƒì„±í•´ì¤¬ë˜ <code class=\"language-text\">[REPORT íŒŒì¼ëª…].html</code> ê¸°ì….</li>\n<li>Report title : htmlë¡œ ë„ì›Œì¤„ ë¦¬í¬íŠ¸ ê²°ê³¼ì˜ ì œëª©</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-ë¹Œë“œ-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#-%EB%B9%8C%EB%93%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\" ë¹Œë“œ í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ™Œ ë¹Œë“œ í…ŒìŠ¤íŠ¸!</h2>\n<ul>\n<li>\n<p>Jenkinsì˜ OWASP ZAP í”„ë¡œì íŠ¸ì—ì„œ ë¹Œë“œ!</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97683734-d34b0080-1adb-11eb-9785-af9b9eb6d381.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-14-55\"></p>\n<ul>\n<li>ë¹Œë“œê°€ ì™„ë£Œë˜ë©´ ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ html,xml ë¡œê·¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì‹¤ì œ í•´ë‹¹ Report íŒŒì¼ì— ì ‘ì†í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë¦¬í¬íŠ¸ í•´ì£¼ëŠ” ê²ƒì„ í™•ì¸ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97684035-f5dd1980-1adb-11eb-8207-790e2b143e8b.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-15-54\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë¦¬í¬íŠ¸ íŒŒì¼ì„ í™•ì¸í•´ë³´ë©´ í™ˆí˜ì´ì§€ì˜ A1,A2ë“±ì˜ ì·¨ì•½ì  ê²€ì‚¬ë¥¼ ìë™ìœ¼ë¡œ í•œ ê²ƒì´ í™•ì¸ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97684390-17d69c00-1adc-11eb-8c1e-9c0dd0cd26c2.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-16-51\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ì‹¤ì œ ë™ì‘ì€ í•´ë‹¹ ì›¹í˜ì´ì§€ì— user, passwordë¥¼ ìë™ìœ¼ë¡œ ê¸°ì…í•´ì£¼ê³ </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97684956-3fc5ff80-1adc-11eb-8c9f-be7222b8a14b.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-17-57\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë©”ì¸ í˜ì´ì§€ì— ì—°ê²°ë˜ì–´ìˆëŠ” 1~10ê¹Œì§€ì˜ ë³´ì•ˆì·¨ì•½ì ì— ëŒ€í•´ ìë™ìœ¼ë¡œ ìŠ¤ìº”ì„ í•´ì¤ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/97685276-58361a00-1adc-11eb-8b96-c86e60d393e4.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-10-30 18-18-39\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h2>\n<p>ì‚¬ì‹¤ ë³´ì•ˆíˆ´ì˜ ìë™í™”ëŠ” ë¬¼ë¡ ì´ê³  ë³´ì•ˆíˆ´ì„ ì˜¬ë ¤ë³´ëŠ” ê²ƒ ì¡°ì°¨ ì´ë²ˆì´ ì²˜ìŒì´ì—ˆìŠµë‹ˆë‹¤.<br>\nì²˜ìŒì—” Helmìœ¼ë¡œ k8s í´ëŸ¬ìŠ¤í„°ì— ë°°í¬í•˜ë ¤ëŠ” ì‹œí–‰ì°©ì˜¤ë¥¼ 3ì¼ì •ë„ ê²ªê³ , ì‹¤íŒ¨í•˜ê³ , Docker ì»¨í…Œì´ë„ˆ ê¸°ë°˜ìœ¼ë¡œ ì˜¬ë¦¬ê³ , ì‹¤íŒ¨í•˜ê³ ë¥¼ ë°˜ë³µí•˜ë©´ì„œ 5ì¼ì •ë„ë¥¼ ë‚ ë ¸ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\nê²°êµ­ Jenkinsë¡œ íŒŒì´í”„ë¼ì¸ì— ìë™ì ìœ¼ë¡œ ìŠ¤ìº”í•˜ë„ë¡ ì„¤ì •í•¨ìœ¼ë¡œ ë§ˆë¬´ë¦¬ë¥¼ ì§€ì—ˆì§€ë§Œ ì•„ì§ ë¯¸ë ¨ì€ ì¡°ê¸ˆ ë‚¨ì•„ìˆëŠ” ìƒíƒœì…ë‹ˆë‹¤.<br>\ní”„ë¡œì íŠ¸ê°€ ëë‚˜ê³  ê°œì¸ì ìœ¼ë¡œ Helmì„ ì´ìš©í•´ í´ëŸ¬ìŠ¤í„°ì— ì§ì ‘ ë°°í¬í•˜ëŠ” ê²ƒë„ ì„±ê³µí•´ë´ì•¼ê² ìŠµë‹ˆë‹¤<br>\nì´ë²ˆ OWASP ZAP ë„ì…ê¸°ë¥¼ ì‘ì„±í•˜ë©´ì„œ DevSecOps íŒŒì´í”„ë¼ì¸ì˜ ë³´ì•ˆì— ëŒ€í•´ì„œ ì¡°ê¸ˆì˜ ê°ì€ ì¡ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\nì‹¤ì œë¡œ OWASP ZAP ê´€ë ¨í•´ì„œ í•œê¸€ë¬¸ì„œë‚˜ ì •í™•í•œ ì„¤ì • ê°€ì´ë“œê°€ ë¯¸í¡í•˜ë‹¤ ë³´ë‹ˆ<br>\nì´ë²ˆ í¬ìŠ¤íŠ¸ê°€ ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.</p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-gcp%EC%9D%98-lb-ip%EB%A5%BC-%EA%B3%A0%EC%A0%95\">âœ” GCPì˜ LB IPë¥¼ ê³ ì •</a></li>\n<li><a href=\"#-jenkins%EC%97%90-owasp-zap-%EC%84%A4%EC%B9%98\">âœŒ Jenkinsì— OWASP ZAP ì„¤ì¹˜</a></li>\n<li><a href=\"#-%EB%B9%8C%EB%93%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8\">ğŸ™Œ ë¹Œë“œ í…ŒìŠ¤íŠ¸!</a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</div>","excerpt":"ë¨¸ë¦¬ë§   ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” êµ¬ì¶•ëœ DevSecOps íŒŒì´í”„ë¼ì¸ì—ì„œ ë³´ì•ˆìª½ì„ ê°•í™”í•˜ê¸° ìœ„í•´ì„œ OWASP ZAPì„ ë„ì…í•œ ë„ì…ê¸° í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ë³´í†µ ì™¸ë¶€ ì„œë²„ë¡œ ë‘ê³  ì„œë¹„ìŠ¤ì˜ Portë‚˜ IPë“±ì„ ìŠ¤ìº”í•˜ì§€ë§Œ ì €í¬ëŠ” k8s í´ëŸ¬ìŠ¤í„°ì— ì§ì ‘ ì˜¬ë ¤ podë“¤ì„ ìŠ¤ìºë‹ í•˜ë ¤ê³  í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.   Jenkins OWASP ZAP âœ” GCPì˜ LB IPë¥¼ ê³ ì • ì €ëŠ” gcloud-sdkë¥¼ ì´ìš©í•˜ì—¬ Cloud Shellì—ì„œ ì‘ì—…ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤ ì•„ë˜ì™€ ê°™ì´ CLoud Shellì— ì›ê²© ì ‘ì† í›„ GKE í´ëŸ¬ìŠ¤í„°ì— ëŒ€í•œ ê¶Œí•œì„ ë°›ì•„ì˜µë‹ˆë‹¤ ê·¸ í›„ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì™¸ë¶€ ê³ ì • IPë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤ ì´í›„ì— ë°°í¬ í•  ì„œë¹„ìŠ¤ì˜ ë©”â€¦","frontmatter":{"date":"August 09, 2021","title":"[DEVOPS] - Jenkins Pipelineì— OWASP ZAP ë„ì…ê¸°","categories":"DevOps","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/devops-owaspzap/"}},"next":{"id":"b022c64e-b03d-5890-807a-f79d479433c2","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ì´ì „ í¬ìŠ¤íŠ¸ì—ì„œ ê°„ë‹¨í•˜ê²Œ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•œ ë’¤ ArgoCDì™€ SYNCë¥¼ ë§ì¶° ë°°í¬ë¥¼ ìë™í™”í•œ íŒŒì´í”„ ë¼ì¸ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.<br>\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Jenkinsì—ì„œ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•´ì„œ í¬ìŠ¤íŠ¸ í–ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<ul>\n<li>\n<p>ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  </p>\n<ul>\n<li>Jenkins</li>\n<li>maven</li>\n<li>github</li>\n<li>ArgoCD</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"-ì „ì²´-jenkins-íŒŒì´í”„ë¼ì¸\" style=\"position:relative;\"><a href=\"#-%EC%A0%84%EC%B2%B4-jenkins-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8\" aria-label=\" ì „ì²´ jenkins íŒŒì´í”„ë¼ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” ì „ì²´ Jenkins íŒŒì´í”„ë¼ì¸</h2>\n<ul>\n<li>\n<p>íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token function\">properties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n<span class=\"token function\">parameters</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'sonar<span class=\"token punctuation\">.</span>projectKey'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> 'com<span class=\"token punctuation\">.</span>appsecco<span class=\"token punctuation\">:</span>dvja'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'sonar<span class=\"token punctuation\">.</span>host<span class=\"token punctuation\">.</span>url'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> 'http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span><span class=\"token punctuation\">:</span><span class=\"token number\">9000</span>'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'sonar<span class=\"token punctuation\">.</span>login'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> '608cacd6bb83c50712ebb34c4cba377c841cdebb'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'ARGOCD_DOMAIN'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> '<span class=\"token number\">34.67</span><span class=\"token number\">.162</span><span class=\"token number\">.44</span><span class=\"token punctuation\">:</span><span class=\"token number\">30357</span>'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'ARGOCD_PW'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> 'argo<span class=\"token operator\">-</span>cd<span class=\"token operator\">-</span>argocd<span class=\"token operator\">-</span>server<span class=\"token operator\">-</span>6d5f98cf57<span class=\"token operator\">-</span>wmf46'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'ARGOCD_APP_NAME'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> 'test'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">string</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">name</span><span class=\"token punctuation\">:</span> 'tag_num'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">defaultValue</span><span class=\"token punctuation\">:</span> ''<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\npipeline <span class=\"token punctuation\">{</span>\n    environment <span class=\"token punctuation\">{</span>\n        slack_channel <span class=\"token operator\">=</span> '#studying'\n        REGISTRY <span class=\"token operator\">=</span> 'cccr<span class=\"token operator\">/</span>jisun'\n        REGISTRY_IP <span class=\"token operator\">=</span> '<span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>'\n        REGISTRYCREDENTIAL <span class=\"token operator\">=</span> 'harbor' \n        DOCKER_IMAGE <span class=\"token operator\">=</span> ''\n        TAG_NUM <span class=\"token operator\">=</span> ''\n    <span class=\"token punctuation\">}</span>\n    agent <span class=\"token return-type class-name\">any</span>\n    tools <span class=\"token punctuation\">{</span> \n        maven 'mvn' \n    <span class=\"token punctuation\">}</span>\n    stages <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Git clone'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                git 'https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>JisunParkRea<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token punctuation\">.</span>git'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Build Test'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                sh 'mvn clean package <span class=\"token operator\">-</span>Dcheckstyle<span class=\"token punctuation\">.</span>skip <span class=\"token operator\">-</span>Dspotbugs<span class=\"token punctuation\">.</span>skip <span class=\"token operator\">-</span>Dpmd<span class=\"token punctuation\">.</span>skip'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        stage <span class=\"token punctuation\">(</span>'Dependency<span class=\"token operator\">-</span>Check Analysis'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                sh '<span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>jenkins<span class=\"token operator\">/</span>dependency<span class=\"token operator\">-</span>check<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>dependency<span class=\"token operator\">-</span>check<span class=\"token punctuation\">.</span>sh <span class=\"token operator\">--</span>scan `pwd` <span class=\"token operator\">--</span>format XML <span class=\"token operator\">--</span><span class=\"token keyword\">out</span> <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>jenkins<span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>ci<span class=\"token operator\">-</span>build<span class=\"token operator\">-</span>pipeline<span class=\"token operator\">/</span>dependency<span class=\"token operator\">-</span>check<span class=\"token operator\">-</span>report <span class=\"token operator\">--</span>prettyPrint'\n                \n                <span class=\"token class-name\">dependencyCheckPublisher</span> pattern<span class=\"token punctuation\">:</span> 'dependency<span class=\"token operator\">-</span>check<span class=\"token operator\">-</span>report<span class=\"token operator\">/</span>dependency<span class=\"token operator\">-</span>check<span class=\"token operator\">-</span>report<span class=\"token punctuation\">.</span>xml'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Sonarqube <span class=\"token keyword\">and</span> Quality gate'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            options <span class=\"token punctuation\">{</span>\n                timeout<span class=\"token return-type class-name\"><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">:</span> 5<span class=\"token punctuation\">,</span> unit<span class=\"token punctuation\">:</span> 'MINUTES'<span class=\"token punctuation\">)</span></span>\n                <span class=\"token function\">retry</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n            steps <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">withSonarQubeEnv</span><span class=\"token punctuation\">(</span>'SonarQube Server'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    sh <span class=\"token string\">\"mvn sonar:sonar\"</span>\n                <span class=\"token punctuation\">}</span>\n                script <span class=\"token punctuation\">{</span>\n                    qualitygate <span class=\"token operator\">=</span> <span class=\"token function\">waitForQualityGate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>qualitygate<span class=\"token punctuation\">.</span>status <span class=\"token operator\">!=</span> <span class=\"token string\">\"OK\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        currentBuild<span class=\"token punctuation\">.</span>result <span class=\"token operator\">=</span> <span class=\"token string\">\"FAILURE\"</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Docker image build'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> \n            steps<span class=\"token punctuation\">{</span>\n                script <span class=\"token punctuation\">{</span>\n                    DOCKER_IMAGE <span class=\"token operator\">=</span> docker<span class=\"token punctuation\">.</span>build registry\n                \n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> \n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Docker image push to Harbor'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps<span class=\"token punctuation\">{</span>\n                script <span class=\"token punctuation\">{</span>\n                    docker<span class=\"token punctuation\">.</span><span class=\"token function\">withRegistry</span><span class=\"token punctuation\">(</span>'http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>$REGISTRY_IP'<span class=\"token punctuation\">,</span> REGISTRYCREDENTIAL<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        DOCKER_IMAGE<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>'$<span class=\"token punctuation\">{</span>BUILD_NUMBER<span class=\"token punctuation\">}</span>'<span class=\"token punctuation\">)</span>\n                        DOCKER_IMAGE<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"latest\"</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                sh 'docker rmi $REGISTRY<span class=\"token punctuation\">:</span>latest'\n                sh 'docker rmi $REGISTRY_IP<span class=\"token operator\">/</span>$REGISTRY<span class=\"token punctuation\">:</span>$BUILD_NUMBER'\n                sh 'docker rmi $REGISTRY_IP<span class=\"token operator\">/</span>$REGISTRY<span class=\"token punctuation\">:</span>latest'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Anchore analyse'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n            steps <span class=\"token punctuation\">{</span>  \n                <span class=\"token function\">catchError</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">buildResult</span><span class=\"token punctuation\">:</span> 'SUCCESS'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">stageResult</span><span class=\"token punctuation\">:</span> 'SUCCESS'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">writeFile</span> file<span class=\"token punctuation\">:</span> 'anchore_images'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">text</span><span class=\"token punctuation\">:</span> '<span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span><span class=\"token operator\">/</span>cccr<span class=\"token operator\">/</span>jisun'  \n                <span class=\"token class-name\">anchore</span> name<span class=\"token punctuation\">:</span> 'anchore_images'  \n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Push Yaml'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                script<span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token class-name\">git</span> url<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://github.com/JisunParkRea/cccr-dvwa-helm\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">branch</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"main\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">credentialsId</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"github\"</span>\n                        sh <span class=\"token string\">\"rm -rf /var/lib/jenkins/workspace/${env.JOB_NAME}/helm-service/values.yaml\"</span>\n                        sh <span class=\"token string\">\"\"</span>\"\n                        cd helm<span class=\"token operator\">-</span>service\n                        <span class=\"token preprocessor property\">#!/bin/bash</span>\n                        cat<span class=\"token operator\">></span>values<span class=\"token punctuation\">.</span>yaml<span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">-</span>EOF\n<span class=\"token preprocessor property\"># Default values for ghost.</span>\n<span class=\"token preprocessor property\"># This is a YAML-formatted file.</span>\n<span class=\"token preprocessor property\"># Declare variables to be passed into your templates.</span>\n\nreplicaCount<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>\n\nimage<span class=\"token punctuation\">:</span>\nrepository<span class=\"token punctuation\">:</span> jisunpark<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token operator\">-</span>java<span class=\"token operator\">-</span><span class=\"token class-name\">web</span>\ntag<span class=\"token punctuation\">:</span> $<span class=\"token class-name\">BUILD_NUMBER</span>\npullPolicy<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span>\n\n\n<span class=\"token keyword\">value</span><span class=\"token punctuation\">:</span> ec95c258266b8e985848cae688effa2b\n\n<span class=\"token keyword\">namespace</span><span class=\"token punctuation\">:</span> cd<span class=\"token operator\">-</span><span class=\"token class-name\">test</span>\n\nname<span class=\"token punctuation\">:</span> \napp<span class=\"token punctuation\">:</span> app\nEOF<span class=\"token string\">\"\"</span>\"\n                        sh <span class=\"token string\">\"cat /var/lib/jenkins/workspace/${env.JOB_NAME}/helm-service/values.yaml\"</span>\n                        <span class=\"token function\">withCredentials</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">usernamePassword</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">credentialsId</span><span class=\"token punctuation\">:</span> 'github'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">passwordVariable</span><span class=\"token punctuation\">:</span> 'GIT_PASSWORD'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">usernameVariable</span><span class=\"token punctuation\">:</span> 'GIT_USERNAME'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            sh <span class=\"token string\">\"\"</span>\"\n                            git <span class=\"token keyword\">add</span> <span class=\"token operator\">--</span>all <span class=\"token punctuation\">.</span>\n                            git commit <span class=\"token operator\">-</span>m <span class=\"token string\">\"Deploy ${env.JOB_NAME} ${env.BUILD_NUMBER}\"</span>\n                            git <span class=\"token class-name\">push</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>$<span class=\"token punctuation\">{</span>GIT_USERNAME<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>GIT_PASSWORD<span class=\"token punctuation\">}</span>@github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>JisunParkRea<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token operator\">-</span>helm\n                            <span class=\"token string\">\"\"</span>\"\n                        <span class=\"token punctuation\">}</span>                      \n                        env<span class=\"token punctuation\">.</span>pushYamlResult<span class=\"token operator\">=</span><span class=\"token boolean\">true</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n                        echo 'Remove Deploy Files'\n                        <span class=\"token function\">withCredentials</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">usernamePassword</span><span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">credentialsId</span><span class=\"token punctuation\">:</span> 'github'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">passwordVariable</span><span class=\"token punctuation\">:</span> 'GIT_PASSWORD'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">usernameVariable</span><span class=\"token punctuation\">:</span> 'GIT_USERNAME'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            sh <span class=\"token string\">\"\"</span>\"\n                            git reset <span class=\"token operator\">--</span>hard HEAD<span class=\"token operator\">^</span>\n                            git push <span class=\"token operator\">--</span><span class=\"token class-name\">force</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>$<span class=\"token punctuation\">{</span>GIT_USERNAME<span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span>$<span class=\"token punctuation\">{</span>GIT_PASSWORD<span class=\"token punctuation\">}</span>@github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>JisunParkRea<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token operator\">-</span>helm\n                            <span class=\"token string\">\"\"</span>\"\n                        <span class=\"token punctuation\">}</span>\n                        env<span class=\"token punctuation\">.</span>pushYamlResult<span class=\"token operator\">=</span><span class=\"token boolean\">false</span>\n                        currentBuild<span class=\"token punctuation\">.</span>result <span class=\"token operator\">=</span> 'FAILURE'\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Argo Deploy'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                script<span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">withEnv</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"PATH=/usr/local/bin:$PATH\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            sh<span class=\"token string\">\"\"</span>\"\n<span class=\"token preprocessor property\">#!/bin/bash</span>\nexpect <span class=\"token operator\">&lt;&lt;</span> EOF\nspawn argocd login <span class=\"token operator\">--</span>grpc<span class=\"token operator\">-</span>web $ARGOCD_DOMAIN\n\nexpect <span class=\"token string\">\"WARNING: server certificate had error: x509: cannot validate certificate for 34.67.162.44 because it doesn't contain any IP SANs. Proceed insecurely (y/n)?\"</span>\nsend <span class=\"token string\">\"y\\r\"</span><span class=\"token punctuation\">;</span>\n\nexpect <span class=\"token string\">\"Username:\"</span>\nsend <span class=\"token string\">\"admin\\r\"</span><span class=\"token punctuation\">;</span>    \n\nexpect <span class=\"token string\">\"Password:\"</span>\nsend <span class=\"token string\">\"$ARGOCD_PW\\r\"</span><span class=\"token punctuation\">;</span>    \n                                \nexpect eof\nEOF\n                                argocd app <span class=\"token keyword\">get</span> $ARGOCD_APP_NAME\n                                argocd app sync $ARGOCD_APP_NAME\n                            <span class=\"token string\">\"\"</span>\"\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span>\n                        currentBuild<span class=\"token punctuation\">.</span>result <span class=\"token operator\">=</span> 'FAILURE'\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n    post <span class=\"token punctuation\">{</span> \n    success <span class=\"token punctuation\">{</span> \n        slackSend <span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">channel</span><span class=\"token punctuation\">:</span> SLACK_CHANNEL<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">color</span><span class=\"token punctuation\">:</span> 'good'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">message</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"SUCCESSFUL: Job '${env.JOB_NAME} [${env.BUILD_NUMBER}]' (${env.BUILD_URL})\"</span><span class=\"token punctuation\">)</span> \n    <span class=\"token punctuation\">}</span>\n    failure <span class=\"token punctuation\">{</span>\n        slackSend <span class=\"token punctuation\">(</span><span class=\"token named-parameter punctuation\">channel</span><span class=\"token punctuation\">:</span> SLACK_CHANNEL<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">color</span><span class=\"token punctuation\">:</span> 'bad'<span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">message</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"FAILURE: '${env.JOB_NAME} [${env.BUILD_NUMBER}]' (${env.BUILD_URL})\"</span><span class=\"token punctuation\">)</span>\t\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<h3 id=\"íŒŒì´í”„ë¼ì¸ì˜-í”„ë¡œì„¸ìŠ¤\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%98-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\" aria-label=\"íŒŒì´í”„ë¼ì¸ì˜ í”„ë¡œì„¸ìŠ¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>íŒŒì´í”„ë¼ì¸ì˜ í”„ë¡œì„¸ìŠ¤</h3>\n<ol>\n<li>ì†ŒìŠ¤ì½”ë“œë¥¼ Clone í•´ì˜¨ ë’¤ Build í…ŒìŠ¤íŠ¸  </li>\n<li>Dependency-Check Analysis ë¡œ ì½”ë“œ ì •ì ë¶„ì„  </li>\n<li>Sonarqube and Quality gate ì •ì ë¶„ì„  </li>\n<li>ìœ„ì˜ ê²€ì‚¬ì—ì„œ ì—ëŸ¬ê°€ ì—†ìœ¼ë©´ Docker image build  </li>\n<li>ë¹Œë“œí•œ ë„ì»¤ì´ë¯¸ì§€ë¥¼ HARBOR ì €ì¥ì†Œì— PUSH  </li>\n<li>HARBORì— ì €ì¥ëœ ì´ë¯¸ì§€ì˜ ì—ëŸ¬ ê²€ì‚¬  </li>\n<li>ìƒˆë¡œìš´ ë¹Œë“œ ë„˜ë²„ë¡œ ë©”ë‹ˆí˜ìŠ¤íŠ¸ ìˆ˜ì • í›„ GITOPS ì €ì¥ì†Œë¡œ í‘¸ì‹œ  </li>\n<li>ArgoCDë¡œ Sync ìš”ì²­</li>\n</ol>\n<br/>\n<hr>\n<h3 id=\"dvwa-ë¹Œë“œ-ì†ŒìŠ¤-ì €ì¥ì†Œ\" style=\"position:relative;\"><a href=\"#dvwa-%EB%B9%8C%EB%93%9C-%EC%86%8C%EC%8A%A4-%EC%A0%80%EC%9E%A5%EC%86%8C\" aria-label=\"dvwa ë¹Œë“œ ì†ŒìŠ¤ ì €ì¥ì†Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DVWA! ë¹Œë“œ ì†ŒìŠ¤ ì €ì¥ì†Œ!</h3>\n<br/>\n<ul>\n<li>\n<p>DVWA ë¹Œë“œì†ŒìŠ¤ ì €ì¥ì†ŒëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.<br>\n<a href=\"https://github.com/nasa1515/cccr-dvwa\">ì €ì¥ì†Œë§í¬</a> </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/98904414-e3f86f00-24fc-11eb-8576-c3088ed9babd.png\" alt=\"ìŠ¤í¬ë¦°ìƒ·, 2020-11-12 15-36-51\"></p>\n<p>Jenkins ì—ì„œëŠ” í•´ë‹¹ ì €ì¥ì†Œë¥¼ Clone í›„ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œ í•  ì˜ˆì •ì…ë‹ˆë‹¤.</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"maven-ë¹Œë“œ-ì „-ì‚¬ì „ì‘ì—…\" style=\"position:relative;\"><a href=\"#maven-%EB%B9%8C%EB%93%9C-%EC%A0%84-%EC%82%AC%EC%A0%84%EC%9E%91%EC%97%85\" aria-label=\"maven ë¹Œë“œ ì „ ì‚¬ì „ì‘ì—… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MAVEN ë¹Œë“œ ì „ ì‚¬ì „ì‘ì—…</h3>\n<br/>\n<p>ì•„ë˜ ë‘ ì„¤ì •ì„ ëª¨ë‘ ë§Œì¡±í•´ì•¼ ì •ìƒì ì¸ ë¹Œë“œê°€ ë©ë‹ˆë‹¤.</p>\n<ol>\n<li>\n<p>Jenkinsì—ì„œ JDK ì„¤ì •  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/102846942-b506de80-4454-11eb-8bb9-90cd582d3447.PNG\" alt=\"ìº¡ì²˜\"></p>\n</li>\n</ol>\n<br/>\n<ol start=\"2\">\n<li>\n<p>Jenkinsì—ì„œ MAVEN ì„¤ì •</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/102846986-cc45cc00-4454-11eb-89e4-28471be55ba7.PNG\" alt=\"ìº¡ì²˜2\"></p>\n</li>\n</ol>\n<br/>\n<hr>\n<h3 id=\"ë¹Œë“œ-íŒŒì´í”„ë¼ì¸-ìŠ¤í¬ë¦½íŠ¸\" style=\"position:relative;\"><a href=\"#%EB%B9%8C%EB%93%9C-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\"ë¹Œë“œ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¹Œë“œ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸</h3>\n<br/>\n<ul>\n<li>\n<p>ì „ì²´ì ì¸ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ MAVEN ë¹Œë“œ ë¶€ë¶„ë§Œ ë–¼ì–´ëƒˆìŠµë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">pipeline <span class=\"token punctuation\">{</span>\n    agent <span class=\"token return-type class-name\">any</span>\n    tools <span class=\"token punctuation\">{</span> \n        maven 'mvn' \n    <span class=\"token punctuation\">}</span>\n    stages <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Git clone'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                git 'https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>JisunParkRea<span class=\"token operator\">/</span>cccr<span class=\"token operator\">-</span>dvwa<span class=\"token punctuation\">.</span>git'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Build Test'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n               sh 'mvn clean package <span class=\"token operator\">-</span>Dcheckstyle<span class=\"token punctuation\">.</span>skip <span class=\"token operator\">-</span>Dspotbugs<span class=\"token punctuation\">.</span>skip <span class=\"token operator\">-</span>Dpmd<span class=\"token punctuation\">.</span>skip'\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•œ ì„¤ëª…ì—†ì´ë„ ì•„ë§ˆ ëŒ€ë¶€ë¶„ì€ ì´í•´ê°€ ë  ê²ƒì…ë‹ˆë‹¤.<br>\nê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ìë©´ Agent anyë¡œ jdk, mvnë“¤ì˜ íˆ´ì„ ì„ ì–¸í•´ì¤€ ë’¤<br>\në¹Œë“œ ì†ŒìŠ¤ì˜ ì €ì¥ì†Œë¥¼ clone í•œ ë’¤ í•´ë‹¹ ì†ŒìŠ¤ë“¤ì„ MVNìœ¼ë¡œ ë¹Œë“œí•˜ëŠ” ê°„ë‹¨í•œ êµ¬ë¬¸ì…ë‹ˆë‹¤<br>\në¬¸ë²•ì´ ê¶ê¸ˆí•˜ì‹ ë¶„ë“¤ì€ <a href=\"https://jojoldu.tistory.com/355\">ì°¸ê³ ë§í¬</a>ë¥¼ ì½ì–´ë³´ì‹œë©´ ë¹ ë¥´ê²Œ ì´í•´ ë  ê²ƒì…ë‹ˆë‹¤.<br>\në‹¤ìŒ í¬ìŠ¤íŠ¸ ë¶€í„°ëŠ” ì „ì²´ì ì¸ ì •ì ë¶„ì„ íˆ´ì˜ ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•´ì„œ ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h2>\n<p>Jenkinsë¥¼ ë§Œì ¸ë³¸ê²Œ ì´ë²ˆì´ ì²˜ìŒì´ì—ˆìŠµë‹ˆë‹¤.<br>\në¬¸ë²•ë¶€í„° í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ë°°ì›Œê°€ë©° í•˜ë‹¤ë³´ë‹ˆ ì˜¤íˆë ¤ ì´ ë¶€ë¶„ì—ì„œ ì‹œê°„ì´ ë§ì´ ë‚­ë¹„ëœ ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤.<br>\nê·¸ë ‡ì§€ë§Œ ì´ˆë°˜ì— ê³„íší–ˆë˜ í”„ë¡œì íŠ¸ì˜ ì„±ê²©ê³¼ ì ì  ë§ì•„ ë–¨ì–´ì ¸ê°€ê³  ìˆë‹¤ëŠ” ê²ƒì— ë„ˆë¬´ ê¸°ì©ë‹ˆë‹¤.  </p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%EC%A0%84%EC%B2%B4-jenkins-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8\">âœ” ì „ì²´ Jenkins íŒŒì´í”„ë¼ì¸</a></p>\n<ul>\n<li><a href=\"#%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%98-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\">íŒŒì´í”„ë¼ì¸ì˜ í”„ë¡œì„¸ìŠ¤</a></li>\n<li><a href=\"#dvwa-%EB%B9%8C%EB%93%9C-%EC%86%8C%EC%8A%A4-%EC%A0%80%EC%9E%A5%EC%86%8C\">DVWA! ë¹Œë“œ ì†ŒìŠ¤ ì €ì¥ì†Œ!</a></li>\n<li><a href=\"#maven-%EB%B9%8C%EB%93%9C-%EC%A0%84-%EC%82%AC%EC%A0%84%EC%9E%91%EC%97%85\">MAVEN ë¹Œë“œ ì „ ì‚¬ì „ì‘ì—…</a></li>\n<li><a href=\"#%EB%B9%8C%EB%93%9C-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\">ë¹Œë“œ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</div>","frontmatter":{"date":"August 08, 2021","title":"[DEVOPS] - Jenkinsë¡œ Dvmn ì•± ì´ë¯¸ì§€ ìë™ ë¹Œë“œ ë° í‘¸ì‹œí•˜ê¸°","categories":"DevOps","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/devops-jenkinspush/"}},"prev":{"id":"f1f3cd19-e979-5f14-987a-47d3f564c240","html":"<p>ë¨¸ë¦¬ë§  </p>\n<p>ê·¸ë™ì•ˆ ë¹Œë“œëœ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•˜ê±°ë‚˜ ì •ì ë¶„ì„ í•  ë•Œ Docker hubë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±í–ˆìœ¼ë‚˜<br>\nì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì–´ë–»ê²Œ í•˜ë©´ ë³´ì•ˆì— ì¡°ê¸ˆ ë” ì¤‘ì ì„ ë‘˜ ìˆ˜ ìˆì„ê¹Œë¥¼ ìƒê°í•˜ë‹¤<br>\nHarborë¥¼ ì‚¬ìš©í•˜ì—¬ ë…ë¦½ì ì¸ ì €ì¥ì†Œë¡œ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•˜ê¸°ë¡œ ê²°ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<hr>\n<ul>\n<li>\n<p>ì‚¬ìš© í•  íˆ´ì„ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  </p>\n<ul>\n<li>Jenkins</li>\n<li>OWASP ZAP</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"-harbor-ì„¤ì¹˜-docker\" style=\"position:relative;\"><a href=\"#-harbor-%EC%84%A4%EC%B9%98-docker\" aria-label=\" harbor ì„¤ì¹˜ docker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœ” Harbor ì„¤ì¹˜ (Docker)</h2>\n<p>Harbor ì„¤ì¹˜ì˜ ê²½ìš° ì´ë¯¸ ë§ì€ ë¶„ë“¤ì´ ë” ì‰½ê²Œ ì„¤ëª…í•´ë†“ìœ¼ì…”ì„œ ê°„ë‹¨íˆ ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤.  </p>\n<p><img src=\"https://user-images.githubusercontent.com/51220344/102866432-99163380-447a-11eb-8d9f-ded27807e327.jpg\" alt=\"img\"></p>\n<ul>\n<li>ìš°ì„  HarborëŠ” íŠ¹ì • OSì— ë§ëŠ” docker, docker-composeê°€ ìš”êµ¬ë©ë‹ˆë‹¤ [Centos 7ì„ ê¸°ë°˜ìœ¼ë¡œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.]</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"docker-compose\" style=\"position:relative;\"><a href=\"#docker-compose\" aria-label=\"docker compose permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>docker-compose</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">sudo curl <span class=\"token operator\">-</span>L <span class=\"token string\">\"https://github.com/docker/compose/releases/download/1.25.0/docker-compose-$(uname -s)-$(uname -m)\"</span> <span class=\"token operator\">-</span>o <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>compose\nsudo chmod <span class=\"token operator\">+</span>x <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>docker<span class=\"token operator\">-</span>compose\ndocker<span class=\"token operator\">-</span>compose <span class=\"token operator\">-</span>v</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"harbor-ê´€ë ¨-ë§í¬\" style=\"position:relative;\"><a href=\"#harbor-%EA%B4%80%EB%A0%A8-%EB%A7%81%ED%81%AC\" aria-label=\"harbor ê´€ë ¨ ë§í¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Harbor <a href=\"https://github.com/goharbor/harbor/releases\">ê´€ë ¨ ë§í¬</a></h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token class-name\">wget</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>goharbor<span class=\"token operator\">/</span>harbor<span class=\"token operator\">/</span>releases<span class=\"token operator\">/</span>download<span class=\"token operator\">/</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">9.4</span><span class=\"token operator\">/</span>harbor<span class=\"token operator\">-</span>online<span class=\"token operator\">-</span>installer<span class=\"token operator\">-</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">9.4</span><span class=\"token punctuation\">.</span>tgz\ntar xvfz harbor<span class=\"token operator\">-</span>online<span class=\"token operator\">-</span>installer<span class=\"token operator\">-</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">9.4</span><span class=\"token punctuation\">.</span>tgz\ncd harbor\nvi harbor<span class=\"token punctuation\">.</span>yml <span class=\"token comment\">// port ë³€ê²½ê°€ëŠ¥</span>\n<span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>install<span class=\"token punctuation\">.</span>sh</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"ìœ„ì˜-ê°„ë‹¨í•œ-ëª…ë ¹ì–´ë¡œ-ì„¤ì¹˜ê°€-ì™„ë£Œë˜ë©´-ì„¤ì •í•œ-public-ipë¡œ-ì ‘ê·¼ë©ë‹ˆë‹¤\" style=\"position:relative;\"><a href=\"#%EC%9C%84%EC%9D%98-%EA%B0%84%EB%8B%A8%ED%95%9C-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%EC%84%A4%EC%B9%98%EA%B0%80-%EC%99%84%EB%A3%8C%EB%90%98%EB%A9%B4-%EC%84%A4%EC%A0%95%ED%95%9C-public-ip%EB%A1%9C-%EC%A0%91%EA%B7%BC%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"ìœ„ì˜ ê°„ë‹¨í•œ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ì„¤ì •í•œ public ipë¡œ ì ‘ê·¼ë©ë‹ˆë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìœ„ì˜ ê°„ë‹¨í•œ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ì„¤ì •í•œ Public IPë¡œ ì ‘ê·¼ë©ë‹ˆë‹¤.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/51220344/102866526-c19e2d80-447a-11eb-9e5c-ded42c1df7fc.png\" alt=\"img1\"></p>\n<blockquote>\n<p>ID : admin / Pass : Harbor12345</p>\n</blockquote>\n</li>\n</ul>\n<br/>\n<ul>\n<li>ì‚¬ìš© ë° ìˆ˜ì •í•œ Harvor.xmlì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</li>\n<li>\n<h3 id=\"harbor-conf\" style=\"position:relative;\"><a href=\"#harbor-conf\" aria-label=\"harbor conf permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Harbor conf</h3>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">vi harbor<span class=\"token punctuation\">.</span>xml\n<span class=\"token preprocessor property\"># hostname</span>\n<span class=\"token preprocessor property\"># https ì£¼ì„(ë¯¸ì‚¬ìš©ì‹œ)</span>\n<span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>prepare\n<span class=\"token preprocessor property\">#docker-compose reset</span>\ndocker<span class=\"token operator\">-</span>compose down <span class=\"token operator\">-</span>v\ndocker<span class=\"token operator\">-</span>compose up <span class=\"token operator\">-</span>d</code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"-ê·¸ëŸ¬ë‚˜-harborëŠ”-httpsê°€-ê¸°ë³¸ì…ë‹ˆë‹¤\" style=\"position:relative;\"><a href=\"#-%EA%B7%B8%EB%9F%AC%EB%82%98-harbor%EB%8A%94-https%EA%B0%80-%EA%B8%B0%EB%B3%B8%EC%9E%85%EB%8B%88%EB%8B%A4\" aria-label=\" ê·¸ëŸ¬ë‚˜ harborëŠ” httpsê°€ ê¸°ë³¸ì…ë‹ˆë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>âœŒ ê·¸ëŸ¬ë‚˜ HarborëŠ” HTTPSê°€ ê¸°ë³¸ì…ë‹ˆë‹¤.</h3>\n<br/>\n<ul>\n<li>\n<p>ì €í¬ëŠ” SSL ì¸ì¦ì„œì— ë§ì€ ì‹œê°„ì„ ì“°ê³  ì‹¶ì§€ ì•Šì•„ ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ HTTPë¡œ Harborë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>Harborë¥¼ ì„¤ì¹˜í•œ ì„œë²„ì™€ ì—°ê²°í•  nodeë“¤ì— í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ ì¼ì¼íˆ ê¸°ì…í•´ì•¼í•©ë‹ˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">ke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7 <span class=\"token operator\">~</span> # vim <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span><span class=\"token keyword\">default</span><span class=\"token operator\">/</span>docker \ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7 <span class=\"token operator\">~</span> # \ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7 <span class=\"token operator\">~</span> # systemctl restart docker\ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7 <span class=\"token operator\">~</span> # \ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7 <span class=\"token operator\">~</span> # \ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7 <span class=\"token operator\">~</span> # cat <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span><span class=\"token keyword\">default</span><span class=\"token operator\">/</span><span class=\"token class-name\">docker</span> \nDOCKER_OPTS<span class=\"token operator\">=</span>\"<span class=\"token operator\">-</span>p <span class=\"token operator\">/</span><span class=\"token keyword\">var</span><span class=\"token operator\">/</span>run<span class=\"token operator\">/</span>docker<span class=\"token punctuation\">.</span>pid <span class=\"token operator\">--</span>iptables<span class=\"token operator\">=</span><span class=\"token boolean\">false</span> <span class=\"token operator\">--</span>ip<span class=\"token operator\">-</span>masq<span class=\"token operator\">=</span><span class=\"token boolean\">false</span> <span class=\"token operator\">--</span>log<span class=\"token operator\">-</span>level<span class=\"token operator\">=</span>warn <span class=\"token operator\">--</span>bip<span class=\"token operator\">=</span>\n<span class=\"token number\">169.254</span><span class=\"token number\">.123</span><span class=\"token number\">.1</span><span class=\"token operator\">/</span><span class=\"token number\">24</span> <span class=\"token operator\">--</span>registry<span class=\"token operator\">-</span>mirror<span class=\"token operator\">=</span>https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>mirror<span class=\"token punctuation\">.</span>gcr<span class=\"token punctuation\">.</span>io <span class=\"token operator\">--</span>log<span class=\"token operator\">-</span>driver<span class=\"token operator\">=</span>json<span class=\"token operator\">-</span>file <span class=\"token operator\">--</span>log<span class=\"token operator\">-</span>opt<span class=\"token operator\">=</span>ma\nx<span class=\"token operator\">-</span>size<span class=\"token operator\">=</span><span class=\"token number\">10m</span> <span class=\"token operator\">--</span>log<span class=\"token operator\">-</span>opt<span class=\"token operator\">=</span>max<span class=\"token operator\">-</span>file<span class=\"token operator\">=</span><span class=\"token number\">5</span> <span class=\"token operator\">--</span>insecure<span class=\"token operator\">-</span>registry <span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>\"\n\n\ngke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7 <span class=\"token operator\">~</span> # docker info <span class=\"token operator\">|</span> grep Insecure <span class=\"token operator\">-</span>A2\n<span class=\"token class-name\">Insecure</span> Registries<span class=\"token punctuation\">:</span>\n<span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>\n<span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.0</span><span class=\"token operator\">/</span><span class=\"token number\">8</span></code></pre></div>\n<ul>\n<li>/etc/default/docker íŒŒì¼ì˜ â€”insecure-registry êµ¬ë¬¸ì„ ìˆ˜ì •í•œ ë’¤ Dockerë¥¼ ì¬ì‹œì‘ ì‹œì¼œì£¼ë©´ ë˜ëŠ” ê°„ë‹¨í•œ ì‘ì—…ì…ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"-ë¡œê·¸ì¸ì´-ì•ˆë˜ëŠ”-ë¬¸ì œê°€-ë°œìƒí–ˆìŠµë‹ˆë‹¤\" style=\"position:relative;\"><a href=\"#-%EB%A1%9C%EA%B7%B8%EC%9D%B8%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\" ë¡œê·¸ì¸ì´ ì•ˆë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ‘€ ë¡œê·¸ì¸ì´ ì•ˆë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</h3>\n<br/>\n<ul>\n<li>\n<p>ì•„ë˜ì™€ ê°™ì´ Harbor ì €ì¥ì†Œë¥¼ HTTPë¡œ ì—°ê²°í•˜ë ¤í•˜ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">gke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7 <span class=\"token operator\">~</span> # docker <span class=\"token class-name\">login</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>\nUsername<span class=\"token punctuation\">:</span> <span class=\"token class-name\">admin</span>\nPassword<span class=\"token punctuation\">:</span> \nError response <span class=\"token keyword\">from</span> daemon<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Get</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span><span class=\"token operator\">/</span>v2<span class=\"token operator\">/</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Get</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>jenkins<span class=\"token operator\">/</span>service<span class=\"token operator\">/</span>token<span class=\"token punctuation\">?</span><span class=\"token class-name\">a</span>\nccount<span class=\"token operator\">=</span>admin<span class=\"token operator\">&amp;</span>client_id<span class=\"token operator\">=</span>docker<span class=\"token operator\">&amp;</span>offline_token<span class=\"token operator\">=</span><span class=\"token boolean\">true</span><span class=\"token operator\">&amp;</span>service<span class=\"token operator\">=</span>harbor<span class=\"token operator\">-</span>registry<span class=\"token punctuation\">:</span> <span class=\"token class-name\">dial</span> tcp<span class=\"token punctuation\">:</span> lookup j\nenkins <span class=\"token keyword\">on</span> <span class=\"token number\">169.254</span><span class=\"token number\">.169</span><span class=\"token number\">.254</span><span class=\"token punctuation\">:</span><span class=\"token number\">53</span><span class=\"token punctuation\">:</span> no such host</code></pre></div>\n<ul>\n<li>lookup jenkins on 169.254.169.254:53: no such host ë¡œê·¸ë‚´ìš©ì„ ë³´ë‹ˆ DNS or HOSTSì˜ ë¬¸ì œì¸ ê²ƒìœ¼ë¡œ íŒë‹¨ë©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë‹¤ìŒê³¼ ê°™ì´ hostsì— ì¶”ê°€í•´ì¤˜ë´…ì‹œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">gke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>zkp7 <span class=\"token operator\">~</span> # cat <span class=\"token operator\">/</span>etc<span class=\"token operator\">/</span>hosts <span class=\"token operator\">|</span> grep jenkins\n<span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>   jenkins</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ëŸ¼ ì•„ë˜ì™€ ê°™ì´ ì •ìƒì ìœ¼ë¡œ ì €ì¥ì†Œì— ë¡œê·¸ì¸ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">gke<span class=\"token operator\">-</span>c<span class=\"token operator\">-</span>dcn6h<span class=\"token operator\">-</span><span class=\"token keyword\">default</span><span class=\"token operator\">-</span><span class=\"token number\">0</span><span class=\"token operator\">-</span>41c99d2b<span class=\"token operator\">-</span>b3hf <span class=\"token operator\">~</span> # docker <span class=\"token class-name\">login</span> http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>\nUsername<span class=\"token punctuation\">:</span> <span class=\"token class-name\">admin</span>\nPassword<span class=\"token punctuation\">:</span> \nWARNING<span class=\"token operator\">!</span> Your password will be <span class=\"token class-name\">stored</span> unencrypted <span class=\"token keyword\">in</span> <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>docker<span class=\"token operator\">/</span>config<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">.</span>\nConfigure a credential helper to <span class=\"token keyword\">remove</span> <span class=\"token keyword\">this</span> <span class=\"token class-name\">warning<span class=\"token punctuation\">.</span> See</span>\nhttps<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>docs<span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>engine<span class=\"token operator\">/</span>reference<span class=\"token operator\">/</span>commandline<span class=\"token operator\">/</span>login<span class=\"token operator\">/</span>#credentials<span class=\"token operator\">-</span>store\nError <span class=\"token class-name\">saving</span> credentials<span class=\"token punctuation\">:</span> mkdir <span class=\"token operator\">/</span>root<span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>docker<span class=\"token punctuation\">:</span> read<span class=\"token operator\">-</span>only file system</code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ë¬¼ë¡  ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒë„ ììœ ë¡­ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token punctuation\">[</span>root@rancher <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># docker pull <span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span><span class=\"token operator\">/</span>cccr<span class=\"token operator\">/</span>centos<span class=\"token punctuation\">:</span><span class=\"token class-name\">latest</span>\nlatest<span class=\"token punctuation\">:</span> Pulling <span class=\"token keyword\">from</span> cccr<span class=\"token operator\">/</span><span class=\"token class-name\">centos</span>\ne4c3d3e4f7b0<span class=\"token punctuation\">:</span> Pull complete \n101c41d0463b<span class=\"token punctuation\">:</span> Pull complete \n8275efcd805f<span class=\"token punctuation\">:</span> Pull complete \n751620502a7a<span class=\"token punctuation\">:</span> Pull <span class=\"token class-name\">complete</span> \na59da3a7d0e7<span class=\"token punctuation\">:</span> Pull complete \n5ad32ac1e527<span class=\"token punctuation\">:</span> Pull complete \n50f250ce9768<span class=\"token punctuation\">:</span> Pull complete \n3dd70b2a7b06<span class=\"token punctuation\">:</span> Pull complete \n8c2eed4e2f48<span class=\"token punctuation\">:</span> Pull complete \n724b4bfec817<span class=\"token punctuation\">:</span> Pull complete \n61ae8c03d512<span class=\"token punctuation\">:</span> Pull complete \n9a94fab24995<span class=\"token punctuation\">:</span> Pull <span class=\"token class-name\">complete</span> \nda240281d421<span class=\"token punctuation\">:</span> Pull <span class=\"token class-name\">complete</span> \na3770e71565d<span class=\"token punctuation\">:</span> Pull <span class=\"token class-name\">complete</span> \ne1c790c868f5<span class=\"token punctuation\">:</span> Pull complete \n70b50f1bf238<span class=\"token punctuation\">:</span> Pull <span class=\"token class-name\">complete</span> \nDigest<span class=\"token punctuation\">:</span> sha256<span class=\"token punctuation\">:</span><span class=\"token class-name\">cc72b06299df2ca6ed89a93190f062cb918185742afe270a5e179b2ab52c1d17</span>\nStatus<span class=\"token punctuation\">:</span> Downloaded newer image <span class=\"token keyword\">for</span> <span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span><span class=\"token operator\">/</span>cccr<span class=\"token operator\">/</span>centos<span class=\"token punctuation\">:</span>latest\n<span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span><span class=\"token operator\">/</span>cccr<span class=\"token operator\">/</span>centos<span class=\"token punctuation\">:</span>latest\n<span class=\"token punctuation\">[</span>root@rancher <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span># docker images\nREPOSITORY                  TAG                 IMAGE ID            CREATED             SIZE\n<span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span><span class=\"token operator\">/</span>cccr<span class=\"token operator\">/</span>centos   latest              d35d713b85e5        <span class=\"token number\">12</span> days ago         <span class=\"token number\">892M</span>\nB</code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"argcod-ì¸ì¦\" style=\"position:relative;\"><a href=\"#argcod-%EC%9D%B8%EC%A6%9D\" aria-label=\"argcod ì¸ì¦ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Argcod ì¸ì¦</h3>\n<ul>\n<li>\n<p>ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ì•„ë˜ì™€ ê°™ì´ ì‹œí¬ë¦¿ì„ ì¶”ê°€í•´ì¤˜ì•¼ ì •ìƒì ìœ¼ë¡œ ì—°ë™ì´ ë©ë‹ˆë‹¤..</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">kubectl <span class=\"token keyword\">get</span> secret regcred <span class=\"token operator\">--</span>output<span class=\"token operator\">=</span><span class=\"token class-name\">yaml</span>\napiVersion<span class=\"token punctuation\">:</span> <span class=\"token class-name\">v1</span>\ndata<span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">.</span>dockerconfigjson<span class=\"token punctuation\">:</span> <span class=\"token class-name\">eyJhdXRocyI6eyJodHRwOi8vMzQuNjQuMjM3LjExMiI6eyJ1c2VybmFtZSI6ImFkbWluIiwicGFzc3dvcmQiOiJIYXJib3IxMjM0NSIsImF1dGgiOiJZV1J0YVc0NlNHRnlZbTl5TVRJek5EVT0ifX19</span>\nkind<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Secret</span>\nmetadata<span class=\"token punctuation\">:</span>\ncreationTimestamp<span class=\"token punctuation\">:</span> <span class=\"token string\">\"2020-11-12T09:29:40Z\"</span>\nname<span class=\"token punctuation\">:</span> regcred\n<span class=\"token keyword\">namespace</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">default</span>\nresourceVersion<span class=\"token punctuation\">:</span> <span class=\"token string\">\"13089794\"</span>\nselfLink<span class=\"token punctuation\">:</span> <span class=\"token operator\">/</span>api<span class=\"token operator\">/</span>v1<span class=\"token operator\">/</span>namespaces<span class=\"token operator\">/</span><span class=\"token keyword\">default</span><span class=\"token operator\">/</span>secrets<span class=\"token operator\">/</span><span class=\"token class-name\">regcred</span>\nuid<span class=\"token punctuation\">:</span> 50cc6a2d<span class=\"token operator\">-</span>0f39<span class=\"token operator\">-</span>4fed<span class=\"token operator\">-</span><span class=\"token number\">96e7</span><span class=\"token operator\">-</span><span class=\"token class-name\">d5edde4e0f37</span>\ntype<span class=\"token punctuation\">:</span> kubernetes<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>dockerconfigjson\n<span class=\"token operator\">></span> \n<span class=\"token operator\">></span> \n<span class=\"token operator\">></span> kubectl <span class=\"token keyword\">get</span> secret regcred <span class=\"token operator\">--</span>output<span class=\"token operator\">=</span><span class=\"token string\">\"jsonpath={.data.\\.dockerconfigjson}\"</span> <span class=\"token operator\">|</span> base64 <span class=\"token operator\">--</span><span class=\"token class-name\">decode</span>\nbase64<span class=\"token punctuation\">:</span> <span class=\"token class-name\">unrecognized</span> option<span class=\"token punctuation\">:</span> decode\nBusyBox v1<span class=\"token punctuation\">.</span><span class=\"token number\">31.1</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> multi<span class=\"token operator\">-</span>call binary<span class=\"token punctuation\">.</span>\n\nUsage<span class=\"token punctuation\">:</span> base64 <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span>d<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token attribute\"><span class=\"token class-name\">FILE</span></span><span class=\"token punctuation\">]</span>\n\nBase64 encode <span class=\"token keyword\">or</span> decode FILE to standard output\n        <span class=\"token operator\">-</span>d      Decode data\n<span class=\"token operator\">></span> \n<span class=\"token operator\">></span> \n<span class=\"token operator\">></span> kubectl <span class=\"token keyword\">get</span> secret regcred <span class=\"token operator\">--</span>output<span class=\"token operator\">=</span><span class=\"token string\">\"jsonpath={.data.\\.dockerconfigjson}\"</span> <span class=\"token operator\">|</span> base64 <span class=\"token operator\">-</span>d\n<span class=\"token punctuation\">{</span><span class=\"token string\">\"auths\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"http://34.64.237.112\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"admin\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"Harbor12345\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"auth\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"YWRtaW46SGFyYm9yMTIzNDU=\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span></code></pre></div>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"jenkinsì—ì„œ-ë‹¤ìŒê³¼-ê°™ì´-ì—°ê²°í•©ë‹ˆë‹¤\" style=\"position:relative;\"><a href=\"#jenkins%EC%97%90%EC%84%9C-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%9D%B4-%EC%97%B0%EA%B2%B0%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"jenkinsì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì—°ê²°í•©ë‹ˆë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jenkinsì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì—°ê²°í•©ë‹ˆë‹¤.</h3>\n<br/>\n<p>Harborì˜ ê²½ìš° ë³„ ë‹¤ë¥¸ APP ì„¤ì¹˜ ì—†ì´ íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë°”ë¡œ ì—°ê²°ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>\n<ul>\n<li>\n<p>ì €ì˜ ê²½ìš° ìŠ¤í¬ë¦½íŠ¸ í™˜ê²½ë³€ìˆ˜ì— ë‹¤ìŒê³¼ ê°™ì´ í• ë‹¹í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">pipeline <span class=\"token punctuation\">{</span>\n    environment <span class=\"token punctuation\">{</span>\n        slack_channel <span class=\"token operator\">=</span> '#studying'\n        REGISTRY <span class=\"token operator\">=</span> 'cccr<span class=\"token operator\">/</span>jisun'\n        REGISTRY_IP <span class=\"token operator\">=</span> '<span class=\"token number\">34.64</span><span class=\"token number\">.237</span><span class=\"token number\">.112</span>'       <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">--</span> Harbor <span class=\"token class-name\">IP</span>\n        REGISTRYCREDENTIAL <span class=\"token operator\">=</span> 'harbor'       <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">--</span> <span class=\"token class-name\">Credential</span>\n        DOCKER_IMAGE <span class=\"token operator\">=</span> ''\n        TAG_NUM <span class=\"token operator\">=</span> ''\n    <span class=\"token punctuation\">}</span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span>\n<span class=\"token range operator\">..</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>ì¤‘ëµ<span class=\"token punctuation\">)</span>\n\n        <span class=\"token function\">stage</span><span class=\"token punctuation\">(</span>'Docker image push to Harbor'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>    <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">--</span> ë‹¤ìŒê³¼ ê°™ì´ í‘¸ì‹œí•˜ë„ë¡<span class=\"token punctuation\">.</span>\n            steps<span class=\"token punctuation\">{</span>\n                script <span class=\"token punctuation\">{</span>\n                    docker<span class=\"token punctuation\">.</span><span class=\"token function\">withRegistry</span><span class=\"token punctuation\">(</span>'http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>$REGISTRY_IP'<span class=\"token punctuation\">,</span> REGISTRYCREDENTIAL<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        DOCKER_IMAGE<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>'$<span class=\"token punctuation\">{</span>BUILD_NUMBER<span class=\"token punctuation\">}</span>'<span class=\"token punctuation\">)</span>\n                        DOCKER_IMAGE<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"latest\"</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                sh 'docker rmi $REGISTRY<span class=\"token punctuation\">:</span>latest'\n                sh 'docker rmi $REGISTRY_IP<span class=\"token operator\">/</span>$REGISTRY<span class=\"token punctuation\">:</span>$BUILD_NUMBER'\n                sh 'docker rmi $REGISTRY_IP<span class=\"token operator\">/</span>$REGISTRY<span class=\"token punctuation\">:</span>latest'\n            <span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>ê·¸ëŸ¼ ìµœì¢…ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì´ Harborë¥¼ í†µí•´ì„œ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/102946406-eee2ee00-4503-11eb-87d6-fad094b4187f.PNG\" alt=\"gg\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"ë§ˆì¹˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"ë§ˆì¹˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆì¹˜ë©°â€¦</h2>\n<p>ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì²˜ìŒ ë‹¤ë¤„ë³¸ íˆ´ì´ ë„ˆë¬´ ë§ì•˜ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë”ìš± ë§ì€ ë¶„ë“¤ì˜ í¬ìŠ¤íŠ¸ë¥¼ ë³´ê³ , ê³µì‹ë¬¸ì„œë¥¼ ë³´ë‹¤ë³´ë‹ˆ<br>\nì²˜ìŒ ë‹¤ë¤„ë³´ê±°ë‚˜, ì ‘í•´ë³´ëŠ” íˆ´ë“¤ì˜ ëŒ€í•œ ì´í•´ë„ì™€ ìˆ™ë ¨ë„ë¥¼ ì˜¬ë¦¬ëŠ” ë°©ë²•ì„ ì•Œê²Œ ë˜ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.<br>\nHarborë¥¼ ì„¤ì¹˜í•˜ë©´ì„œ ëŠë‚€ê±´ ì¿ ë²„ë„¤í‹°ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ì˜¤í”ˆì†ŒìŠ¤ íˆ´ë“¤ì„ ì˜ ì •ë¦¬í•œ ë¸”ë¡œê·¸ë“¤ì€ ë§ì´ ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.<br>\níŠ¹íˆ í´ëŸ¬ìŠ¤í„°ë¥¼ ì—°ê²°í•˜ëŠ” ë¶€ë¶„ì—ì„œâ€¦<br>\nì•ìœ¼ë¡œ ë” ë§ì€ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì´ ë‚˜ì˜¬í…í…Œ ì €ëŠ” ê·¸ê²ƒë“¤ì„ ë‹¤ë¤„ë³´ëŠ” ê²ƒì„ ì·¨ë¯¸ë¡œ ê°€ì ¸ë´ì•¼ ê² ìŠµë‹ˆë‹¤.</p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-harbor-%EC%84%A4%EC%B9%98-docker\">âœ” Harbor ì„¤ì¹˜ (Docker)</a></p>\n<ul>\n<li><a href=\"#-%EA%B7%B8%EB%9F%AC%EB%82%98-harbor%EB%8A%94-https%EA%B0%80-%EA%B8%B0%EB%B3%B8%EC%9E%85%EB%8B%88%EB%8B%A4\">âœŒ ê·¸ëŸ¬ë‚˜ HarborëŠ” HTTPSê°€ ê¸°ë³¸ì…ë‹ˆë‹¤.</a></li>\n<li><a href=\"#-%EB%A1%9C%EA%B7%B8%EC%9D%B8%EC%9D%B4-%EC%95%88%EB%90%98%EB%8A%94-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4\">ğŸ‘€ ë¡œê·¸ì¸ì´ ì•ˆë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</a></li>\n<li><a href=\"#argcod-%EC%9D%B8%EC%A6%9D\">Argcod ì¸ì¦</a></li>\n<li><a href=\"#jenkins%EC%97%90%EC%84%9C-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%9D%B4-%EC%97%B0%EA%B2%B0%ED%95%A9%EB%8B%88%EB%8B%A4\">Jenkinsì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì—°ê²°í•©ë‹ˆë‹¤.</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">ë§ˆì¹˜ë©°â€¦</a></li>\n</ul>\n</div>","frontmatter":{"date":"August 10, 2021","title":"[DEVOPS] - Private ì´ë¯¸ì§€ ì €ì¥ì†Œ Harbor ë„ì…","categories":"DevOps","author":"nasa1515","emoji":"ğŸ¤¦â€â™‚ï¸"},"fields":{"slug":"/devops-harbor/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/devops-owaspzap/","nextSlug":"/devops-jenkinspush/","prevSlug":"/devops-harbor/"}},"staticQueryHashes":["1073350324","2938748437"]}