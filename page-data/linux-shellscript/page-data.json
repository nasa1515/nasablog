{"componentChunkName":"component---src-templates-blog-template-js","path":"/linux-shellscript/","result":{"data":{"cur":{"id":"bb2ad5b9-0ebe-541d-90f7-19beb2914965","html":"<p>머리말  </p>\n<p>이전 포스트에서는 정규표현식에 대한 내용을 포스팅 했었습니다.<br>\n이번 포스트에서부터는 이제 실제 스크립트를 작성하는데 많은 도움이 되는 매개변수등에 대해서 설명 할 예정입니다.</p>\n<hr>\n<h2 id=\"-특수-매개변수\" style=\"position:relative;\"><a href=\"#-%ED%8A%B9%EC%88%98-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98\" aria-label=\" 특수 매개변수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ 특수 매개변수</h2>\n<ul>\n<li>특수매개변수 (Special Parameters)   </li>\n<li>\n<p>매개변수를 설명하기 전 알고가야 할 사항은 <code class=\"language-text\">위치매개 변수</code>인지, <code class=\"language-text\">특수매개 변수</code>인지  사실 별로 중요하지 않습니다.<br>\n그저 미리 내장된 특수한 변수들이 있고, 해당 코드들이 무슨 의미인지만 알면 됩니다.</p>\n<p>매개변수들의 상관관계<br>\n<img src=\"https://user-images.githubusercontent.com/69498804/90600521-ac499600-e231-11ea-8f23-30d9cfdbbae2.png\" alt=\"스크린샷, 2020-08-19 15-35-50\"></p>\n</li>\n</ul>\n<br/>\n<h3 id=\"특수-매개-변수-사용-예\" style=\"position:relative;\"><a href=\"#%ED%8A%B9%EC%88%98-%EB%A7%A4%EA%B0%9C-%EB%B3%80%EC%88%98-%EC%82%AC%EC%9A%A9-%EC%98%88\" aria-label=\"특수 매개 변수 사용 예 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>특수 매개 변수 사용 예</h3>\n<ul>\n<li>\n<p>간단하게 스크립트를 하나 짜봤습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">#!/bin/bash</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> $# <span class=\"token operator\">-</span>ne <span class=\"token number\">3</span> <span class=\"token punctuation\">]</span> \n    then echo <span class=\"token string\">\"plz check arguments again\"</span> \n<span class=\"token keyword\">else</span> \n    echo <span class=\"token string\">\"$0 script is running\"</span> \nfi</code></pre></div>\n<p>코드에 보이는 <code class=\"language-text\">'$#'</code>과 <code class=\"language-text\">'$0'</code>와 같이 달러 표시로<br>\n시작되는 것들이 내부적으로 지정되어 있는 변수입니다.</p>\n<ul>\n<li><code class=\"language-text\">'$#'</code>은 넘겨진 <code class=\"language-text\">아규먼트 개수</code>를</li>\n<li><code class=\"language-text\">'$0'</code>은 실행된 <code class=\"language-text\">셸 스크립트명</code>을 의미해요</li>\n</ul>\n<p>스크립트의 내용은 넘겨진 아규먼트의 개수가 3개가 아니라면 <code class=\"language-text\">\"plz check arguments again\"</code>을 출력하고<br>\n3개가 맞다면 <code class=\"language-text\">\"00 script is running\"</code> 을 출력하라는 간단한 코드입니다 :)</p>\n<br/>\n</li>\n<li>\n<p>스크립트를 실행시켜봅시다</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>nasa<span class=\"token punctuation\">.</span>sh a b          ### 아규먼트 갯수를 <span class=\"token number\">2</span>개로 지정\nplz check arguments again\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ \nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>nasa<span class=\"token punctuation\">.</span>sh a b c        ### 아규먼트 갯수를 <span class=\"token number\">3</span>개로 지정\n<span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>nasa<span class=\"token punctuation\">.</span>sh script <span class=\"token keyword\">is</span> <span class=\"token class-name\">running</span></code></pre></div>\n</li>\n<li>위의 예제와 같이 <code class=\"language-text\">아규먼트의 개수</code>를 담고 있는 <code class=\"language-text\">'$#'</code>처럼<br>\n내부적으로 편의성을 위해 정의되어 있는 변수들을 <code class=\"language-text\">특수변수</code>라고 합니다.\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-아규먼트-변수--위치매개변수\" style=\"position:relative;\"><a href=\"#-%EC%95%84%EA%B7%9C%EB%A8%BC%ED%8A%B8-%EB%B3%80%EC%88%98--%EC%9C%84%EC%B9%98%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98\" aria-label=\" 아규먼트 변수  위치매개변수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ 아규먼트 변수 , 위치매개변수</h2>\n<ul>\n<li>\n<p>변수들의 종류  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90601547-583fb100-e233-11ea-93ab-bbc26a14fe06.png\" alt=\"스크린샷, 2020-08-19 15-47-49\"></p>\n<p>이전 포스트인 정규표현식과 동일합니다.<br>\n각 숫자들은 우리가 어떤 명령을 내릴 때, <code class=\"language-text\">띄어쓰기</code> 기준으로 그 위치에 해당하는 값들을 가져옵니다.</p>\n<p>그래서 <code class=\"language-text\">$숫자</code> 형태를 <code class=\"language-text\">위치매개변수</code>라고 합니다.<br>\n추가적인 팁으로 10번째부터는 ”{}“로 감싸줘야 합니다. ex) ${10}</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90601817-bd93a200-e233-11ea-9647-0409b949173d.png\" alt=\"스크린샷, 2020-08-19 15-50-40\"></p>\n</li>\n</ul>\n<br/>\n<h3 id=\"매개변수-값-확인\" style=\"position:relative;\"><a href=\"#%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98-%EA%B0%92-%ED%99%95%EC%9D%B8\" aria-label=\"매개변수 값 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>매개변수 값 확인</h3>\n<ul>\n<li>\n<p>실습을 위해서 아래와 같이 스크립트를 작성했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">#!/bin/bash</span>\n\necho '$<span class=\"token number\">0</span>' <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> $<span class=\"token number\">0</span>\necho '$<span class=\"token number\">1</span>' <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> $<span class=\"token number\">1</span>\necho '$<span class=\"token number\">2</span>' <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> $<span class=\"token number\">2</span>\necho '$<span class=\"token number\">3</span>' <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> $<span class=\"token number\">3</span>\necho '$#' <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> $#\necho '$<span class=\"token operator\">*</span>' <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> $<span class=\"token operator\">*</span>\necho '$@' <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> $@</code></pre></div>\n<br/>\n</li>\n<li>\n<p>스크립트를 실행해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>nasa1515<span class=\"token punctuation\">.</span>sh int1 int2 int3\n$<span class=\"token number\">0</span> <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>nasa1515<span class=\"token punctuation\">.</span>sh\n$<span class=\"token number\">1</span> <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> int1\n$<span class=\"token number\">2</span> <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> int2\n$<span class=\"token number\">3</span> <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> int3\n$# <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>\n$<span class=\"token operator\">*</span> <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> int1 int2 int3\n$@ <span class=\"token keyword\">value</span> <span class=\"token punctuation\">:</span> int1 int2 int3</code></pre></div>\n<p><code class=\"language-text\">$*</code>와 <code class=\"language-text\">$0</code>는 결과처럼 동일한 것처럼 보입니다.<br>\n보통 <code class=\"language-text\">쌍따옴표</code>로 묶어주지 않으면 동일한 기능을 수행합니다.</p>\n<br/>\n</li>\n<li>\n<p>간단하게 두 변수 모두 쌍따옴표로 묶어서 테스트 해볼까요?  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># 아래와 같이 간단한 스크립트를 하나 만들었습니다.</span>\n<span class=\"token preprocessor property\">#!/bin/bash</span>\n\necho '<span class=\"token number\">1</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"$@\"</span>GO<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>'\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token string\">\"$@\"</span>\n<span class=\"token keyword\">do</span>\necho $i\ndone\n\necho <span class=\"token string\">\"\"</span>\n\necho '<span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"$*\"</span>GO<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>'\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token string\">\"$*\"</span>\n<span class=\"token keyword\">do</span>\necho $i\ndone</code></pre></div>\n<br/>\n</li>\n<li>\n<p>쌍따옴표로 묶은 결과는 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>test<span class=\"token punctuation\">.</span>sh aaa bbb ccc ddd fff\n<span class=\"token number\">1</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"$@\"</span>GO<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\naaa\nbbb\nccc\nddd\nfff\n\n<span class=\"token number\">2</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"$*\"</span>GO<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\naaa bbb ccc ddd fff</code></pre></div>\n<p>결과로 보이듯이 <code class=\"language-text\">\"\" \"\"</code>로 변수가 묶인 경우 저장되어있는 개개의 값이 전개되는 것이 다릅니다.</p>\n<p>더 쉽게 예를들어 받는 값이 <code class=\"language-text\">\"aaa\" \"bbb\" \"ccc\"</code>(※ set “aaa” “bbb” “ccc”) 일 때</p>\n<ul>\n<li>\n<p>”$@”</p>\n<p>“aaa” “bbb” “ccc” 처럼 전개됩니다.</p>\n</li>\n<li>\n<p>”$*”</p>\n<p>“aaa bbb ccc” 처럼 전개됩니다.</p>\n</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"특수매개변수\" style=\"position:relative;\"><a href=\"#%ED%8A%B9%EC%88%98%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98\" aria-label=\"특수매개변수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>특수매개변수</h3>\n<p>특수매개변수가 꼭 아규먼트와 관련된 변수만 있는 것은 아닙니다.<br>\n아규먼트 변수 외에도 아래와 같은 다양한 정보를 알 수 있는 변수들이 있습니다</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90604746-49a7c880-e238-11ea-9a63-b436c18f0721.png\" alt=\"스크린샷, 2020-08-19 16-23-10\"></p>\n<ul>\n<li>\n<h3 id=\"code-classlanguage-textcode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textcode\" aria-label=\"code classlanguage textcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">$$</code></h3>\n<p>보통 pid는 유일한 값이기 때문에 유니크한 구분코드를 만들때 날짜시분초와 함께 명명규칙에 잘 포함되어 사용됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">uniq_id<span class=\"token operator\">=</span>$$`date <span class=\"token operator\">+</span><span class=\"token operator\">%</span>Y<span class=\"token operator\">%</span>m<span class=\"token operator\">%</span>d<span class=\"token operator\">%</span>H<span class=\"token operator\">%</span>M<span class=\"token operator\">%</span>S` \necho $<span class=\"token punctuation\">{</span>uniq_id<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ uniq_id<span class=\"token operator\">=</span>$$`date <span class=\"token operator\">+</span><span class=\"token operator\">%</span>Y<span class=\"token operator\">%</span>m<span class=\"token operator\">%</span>d<span class=\"token operator\">%</span>H<span class=\"token operator\">%</span>M<span class=\"token operator\">%</span>S`\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ echo $<span class=\"token punctuation\">{</span>uniq_id<span class=\"token punctuation\">}</span>\n<span class=\"token number\">395820200819162509</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ echo $$\n<span class=\"token number\">3958</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"code-classlanguage-textcode-1\" style=\"position:relative;\"><a href=\"#code-classlanguage-textcode-1\" aria-label=\"code classlanguage textcode 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">$?</code></h3>\n<p>명령을 정상적으로 수행하면 0을 실패했다면 그 외의 값을 반환합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ echo <span class=\"token string\">\"test\"</span>\ntest\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ echo $<span class=\"token punctuation\">?</span>\n<span class=\"token number\">0</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ \nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ <span class=\"token class-name\">llls</span>\nllls<span class=\"token punctuation\">:</span> 명령을 찾을 수 없습니다\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ echo $<span class=\"token punctuation\">?</span>\n<span class=\"token number\">127</span></code></pre></div>\n<p>보통 if문의 결과값을 확인하기위해 많이 사용됩니다.  </p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"code-classlanguage-textcode-2\" style=\"position:relative;\"><a href=\"#code-classlanguage-textcode-2\" aria-label=\"code classlanguage textcode 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">$!</code></h3>\n<p>백그라운드로 실행된 명령의 pid 입니다</p>\n</li>\n<li>\n<p>실습을 위해 아래같은 스크립트를 하나 만들었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">#!/bin/bash</span>\n<span class=\"token class-name\">echo</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">:</span> $$\nsleep <span class=\"token number\">10</span>\necho finish</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>aa<span class=\"token punctuation\">.</span>sh <span class=\"token operator\">&amp;</span>\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token number\">9007</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ <span class=\"token keyword\">value</span><span class=\"token punctuation\">:</span> <span class=\"token number\">9007</span>\nfinish\n\n<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span>  완료                  <span class=\"token punctuation\">.</span><span class=\"token operator\">/</span>aa<span class=\"token punctuation\">.</span>sh</code></pre></div>\n<p>다음과 같이 정상적으로 백그라운드로 실행된 PID를 출력합니다</p>\n<p>이후에 다시 <code class=\"language-text\">$!</code>을 출력해보더라도 동일한 PID 출력됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ echo $<span class=\"token operator\">!</span>\n<span class=\"token number\">9007</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h3 id=\"code-classlanguage-text_code\" style=\"position:relative;\"><a href=\"#code-classlanguage-text_code\" aria-label=\"code classlanguage text_code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">$_</code></h3>\n<p>지난 명령의 마지막 인자로 전달된 값 출력</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ echo AA BB \nAA BB \n$ echo $_ \nBB</code></pre></div>\n</li>\n</ul>\n<br/>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-%ED%8A%B9%EC%88%98-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98\">✔ 특수 매개변수</a></p>\n<ul>\n<li><a href=\"#%ED%8A%B9%EC%88%98-%EB%A7%A4%EA%B0%9C-%EB%B3%80%EC%88%98-%EC%82%AC%EC%9A%A9-%EC%98%88\">특수 매개 변수 사용 예</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%95%84%EA%B7%9C%EB%A8%BC%ED%8A%B8-%EB%B3%80%EC%88%98--%EC%9C%84%EC%B9%98%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98\">✌ 아규먼트 변수 , 위치매개변수</a></p>\n<ul>\n<li><a href=\"#%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98-%EA%B0%92-%ED%99%95%EC%9D%B8\">매개변수 값 확인</a></li>\n<li><a href=\"#%ED%8A%B9%EC%88%98%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98\">특수매개변수</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"머리말   이전 포스트에서는 정규표현식에 대한 내용을 포스팅 했었습니다. 이번 포스트에서부터는 이제 실제 스크립트를 작성하는데 많은 도움이 되는 매개변수등에 대해서 설명 할 예정입니다. ✔ 특수 매개변수 특수매개변수 (Special Parameters)    매개변수를 설명하기 전 알고가야 할 사항은 인지, 인지  사실 별로 중요하지 않습니다. 그저 미리 내장된 특수한 변수들이 있고, 해당 코드들이 무슨 의미인지만 알면 됩니다. 매개변수들의 상관관계 스크린샷, 2020-08-19 15-35-50 특수 매개 변수 사용 예 간단하게 스크립트를 하나 짜봤습니다. 코드에 보이는 과 와 같이 달러 표시로 시작되는 것들이 내부적…","frontmatter":{"date":"June 28, 2021","title":"[LINUX] - Shell Script - 특수,위치,아규먼트 매개 변수","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-shellscript/"}},"next":{"id":"5de3edf0-d3d2-54d0-8c0a-ff6001426eaa","html":"<p>머리말  </p>\n<p>이전 포스트에서는 sed,awk등 텍스트를 편집하는 명령어들에 대해서 알아보았습니다.<br>\n이번에는 쉘스크립트를 작성할때 가장 기초가 되는 정규표현식에 대해서 포스트했습니다.  </p>\n<hr>\n<h2 id=\"-정규표현식\" style=\"position:relative;\"><a href=\"#-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D\" aria-label=\" 정규표현식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ 정규표현식</h2>\n<ul>\n<li>정규 표현식은 <code class=\"language-text\">데이터 검색</code>, <code class=\"language-text\">복잡한 패턴 매칭</code>을 도와주는 특별한 문자입니다  </li>\n<li>정규표현식(regular expression)은 줄여서 <code class=\"language-text\">'regexp'</code> 또는 <code class=\"language-text\">'regex'</code> 라고도 합니다.  </li>\n<li>정규 표현식은 리눅스 뿐만 아니라 <code class=\"language-text\">유닉스, SQL, R, Python</code> 등 에서도 사용할 수 있습니다.  </li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90595346-a2229a00-e227-11ea-995d-990cf210fd93.png\" alt=\"스크린샷, 2020-08-19 14-23-56\"></p>\n<br/>\n<hr>\n<h2 id=\"-정규표현식-표현방법\" style=\"position:relative;\"><a href=\"#-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D-%ED%91%9C%ED%98%84%EB%B0%A9%EB%B2%95\" aria-label=\" 정규표현식 표현방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ 정규표현식 표현방법</h2>\n<ul>\n<li>정규표현식은 표준인 <code class=\"language-text\">POSIX의 정규표현식</code>과 POSIX 정규표현식에서 확장된 <code class=\"language-text\">Perl방식의 PCRE</code>가 대표적입니다  </li>\n<li>이외에도 수많은 정규표현식이 존재하지만 약간의 차이점이 있을뿐 대부분 비슷합니다.  </li>\n<li>정규표현식에서 사용하는 기호를 <code class=\"language-text\">Meta문자</code>라고 합니다.</li>\n<li>\n<p>Meta문자란 표현식 내부에서 특정한 의미를 갖는 문자를 말하며, 공통적인 기본 Meta문자의 종류로는 다음과 같습니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90595597-2bd26780-e228-11ea-829f-01e7003b4d5e.png\" alt=\"스크린샷, 2020-08-19 14-27-48\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>Meta 문자중에 독특한 성질을 지니고 있는 <code class=\"language-text\">문자클래스'[ ]'</code>라는 문자가 있습니다.<br>\n문자클래스는 그 내부에 해당하는 문자열의 범위 중 한 문자만 선택한다는 의미이며,<br>\n문자클래스 내부에서는 Meta문자를 사용할 수 없거나 의미가 다르게 사용됩니다.  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90595694-5e7c6000-e228-11ea-8a14-ff254a3eb351.png\" alt=\"스크린샷, 2020-08-19 14-29-16\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">POSIX에서만 사용</code>하는 문자클래스가 있는데 단축키처럼 편리하게 사용할 수 있습니다.<br>\n대표적인 POSIX 문자클래스는 다음과 같으며 <code class=\"language-text\">대괄호'[ ]'</code> 가 붙어있는 모양 자체가 표현식이므로<br>\n실제로 문자클래스로 사용할 때에는 대괄호를 씌워서 사용해야만 정상적인 결과를 얻을 수 있습니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90595815-9f747480-e228-11ea-81bd-157acfc5010d.png\" alt=\"스크린샷, 2020-08-19 14-30-58\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">Flag</code>의 종류<br>\n자주 사용하는 Flag는 밑의 3종류가 있으며 Flag를 사용을 하지 않을 수도 있습니다.<br>\n만약 Flag를 설정 하지 않을 경우에는 문자열 내에서 검색대상이 많더라도 한번만 찾고 끝나게 됩니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90595939-dd719880-e228-11ea-984d-1da56b69cb66.png\" alt=\"스크린샷, 2020-08-19 14-32-47\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-정규표현식-사용-예제\" style=\"position:relative;\"><a href=\"#-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%A0%9C\" aria-label=\" 정규표현식 사용 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👍 정규표현식 사용 예제</h2>\n<ul>\n<li>\n<p>우선 실습을 위해서 아래와 같은 텍스트 파일을 만들었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">$ cat nasa1515<span class=\"token punctuation\">.</span>txt \ndrum\nphotography\ndata science\ngreenplum\npython\nR\nbook\nmovie\ndancing\nsinging\nmilk\nenglish\ngangnam style\n<span class=\"token keyword\">new</span> face\nsoccer\npingpong\nsleeping\nmartial art\njogging\nblogging\napple\ngrape\nbanana\ntomato\nbibimbab\nkimchi\n@email\n123_abc_d4e5\nxyz123_abc_d4e5\n123_abc_d4e5<span class=\"token punctuation\">.</span>xyz\nxyz123_abc_d4e5<span class=\"token punctuation\">.</span>xyz</code></pre></div>\n</li>\n</ul>\n<br/>\n<h3 id=\"기본-정규-표현식을-실습\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%84-%EC%8B%A4%EC%8A%B5\" aria-label=\"기본 정규 표현식을 실습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본 정규 표현식을 실습</h3>\n<p>정규표현식은 <code class=\"language-text\">큰 따옴표(\" \")</code>안에 매칭할 문자와 함께 사용합니다.   </p>\n<ol>\n<li>\n<p>문자열의 처음 시작 부분 매칭: <code class=\"language-text\">^</code> , <code class=\"language-text\">-n</code> 은 행번호를 출력하라는 뜻입니다.  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token operator\">-</span>n <span class=\"token string\">\"^m\"</span> nasa1515   # m으로 시작하는 텍스트\n<span class=\"token number\">8</span><span class=\"token punctuation\">:</span>movie\n<span class=\"token number\">11</span><span class=\"token punctuation\">:</span>milk\n<span class=\"token number\">18</span><span class=\"token punctuation\">:</span>martial art </code></pre></div>\n<br/>\n</li>\n<li>\n<p>문자열의 끝 부분 매칭: <code class=\"language-text\">$</code>  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token operator\">-</span>n <span class=\"token string\">\"m$\"</span> nasa1515 \n<span class=\"token number\">1</span><span class=\"token punctuation\">:</span>drum\n<span class=\"token number\">4</span><span class=\"token punctuation\">:</span>greenplum</code></pre></div>\n<br/>\n</li>\n<li>\n<p>점의 개수만큼 아무 문자나 대체: <code class=\"language-text\">...</code>  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># m 문자 뒤에 아무 문자 3개 이상이 존재하는 텍스트 검색</span>\n\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token operator\">-</span>n <span class=\"token string\">\"m...\"</span> nasa1515 \n<span class=\"token number\">8</span><span class=\"token punctuation\">:</span>movie\n<span class=\"token number\">11</span><span class=\"token punctuation\">:</span>milk\n<span class=\"token number\">13</span><span class=\"token punctuation\">:</span>gangnam style\n<span class=\"token number\">18</span><span class=\"token punctuation\">:</span>martial art\n<span class=\"token number\">24</span><span class=\"token punctuation\">:</span>tomato\n<span class=\"token number\">25</span><span class=\"token punctuation\">:</span>bibimbab\n<span class=\"token number\">26</span><span class=\"token punctuation\">:</span>kimchi\n<span class=\"token number\">27</span><span class=\"token punctuation\">:</span>@email</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># m 문자 뒤에 아무 문자 5개 이상이 존재하는 텍스트 검색</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token operator\">-</span>n <span class=\"token string\">\"m.....\"</span> nasa1515 \n<span class=\"token number\">13</span><span class=\"token punctuation\">:</span>gangnam style\n<span class=\"token number\">18</span><span class=\"token punctuation\">:</span>martial art</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># m 문자 앞에 2개 이상 + 뒤에 3개 이상이 존재하는 텍스트 검색</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token operator\">-</span>n <span class=\"token string\">\"..m...\"</span> nasa1515 \n<span class=\"token number\">13</span><span class=\"token punctuation\">:</span>gangnam style\n<span class=\"token number\">24</span><span class=\"token punctuation\">:</span>tomato\n<span class=\"token number\">25</span><span class=\"token punctuation\">:</span>bibimbab\n<span class=\"token number\">26</span><span class=\"token punctuation\">:</span>kimchi\n<span class=\"token number\">27</span><span class=\"token punctuation\">:</span>@email</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># m 문자 앞에 5개 이상이 존재하는 텍스트 검색</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token operator\">-</span>n <span class=\"token string\">\"....m\"</span> nasa1515 \n<span class=\"token number\">4</span><span class=\"token punctuation\">:</span>greenplum\n<span class=\"token number\">13</span><span class=\"token punctuation\">:</span>gangnam style\n<span class=\"token number\">25</span><span class=\"token punctuation\">:</span>bibimbab</code></pre></div>\n<br/>\n</li>\n<li>\n<p><code class=\"language-text\">*</code> 부호 앞의 문자와 여러개 매칭 : <code class=\"language-text\">*</code>  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token operator\">-</span>n <span class=\"token string\">\"app*\"</span> nasa1515 \n<span class=\"token number\">2</span><span class=\"token punctuation\">:</span>photography\n<span class=\"token number\">21</span><span class=\"token punctuation\">:</span>apple\n<span class=\"token number\">22</span><span class=\"token punctuation\">:</span>grape\n<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token operator\">-</span>n <span class=\"token string\">\"^app\"</span> nasa1515 \n<span class=\"token number\">21</span><span class=\"token punctuation\">:</span>apple</code></pre></div>\n<br/>\n</li>\n<li>\n<p>특수 문자와 매칭: <code class=\"language-text\">\\</code>  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token string\">\"\\@\"</span> nasa1515 \n@email</code></pre></div>\n<br/>\n</li>\n<li>\n<p>a나 b로 시작하는 모든 행을 찾아서 출력 : <code class=\"language-text\">^[ab]</code> </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token string\">\"^[ab]\"</span> nasa1515 \nbook\nblogging\napple\nbanana\nbibimbab</code></pre></div>\n<br/>\n</li>\n<li>\n<p>0~9 사이 숫자로 시작하는 단어 :  <code class=\"language-text\">^[0-9]</code> </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token string\">\"^[0-9]\"</span> nasa1515 \n123_abc_d4e5\n123_abc_d4e5<span class=\"token punctuation\">.</span>xyz</code></pre></div>\n<br/>\n</li>\n<li>\n<p>x~z 사이 알파벳으로 끝나는 단어 : <code class=\"language-text\">[x-z]$</code> </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">student@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token string\">\"[x-z]$\"</span> nasa1515 \nphotography\n123_abc_d4e5<span class=\"token punctuation\">.</span>xyz\nxyz123_abc_d4e5<span class=\"token punctuation\">.</span>xyz</code></pre></div>\n</li>\n</ol>\n<br/>\n<hr>\n<h3 id=\"간격-정규-표현식-실습\" style=\"position:relative;\"><a href=\"#%EA%B0%84%EA%B2%A9-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D-%EC%8B%A4%EC%8A%B5\" aria-label=\"간격 정규 표현식 실습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>간격 정규 표현식 실습</h3>\n<p>간격 정규 표현식은 문자열 안에서 특정 문자가 <code class=\"language-text\">몇 번 출현</code> 했는지를 가지고 패턴 매칭할 때 사용합니다.  </p>\n<ol>\n<li>\n<p>앞의 문자와 ‘n’번 정확하게 매칭: <code class=\"language-text\">{n}</code><br>\n<code class=\"language-text\">grep -E \"character\"\\{n}</code> 의 형식으로 사용합니다. </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># 기존 파일에서의 g 문자가 포함된 내역은 다음과 같다.</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token string\">\"g\"</span> nasa1515 \nphotography\ngreenplum\ndancing\nsinging\nenglish\ngangnam style\npingpong\nsleeping\njogging\nblogging\ngrape</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># 이번에는 g가 두번 반복되어있는 문자를 찾아봤다.</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ \nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token operator\">-</span>E <span class=\"token string\">\"g\"</span>\\<span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span> nasa1515 \njogging\nblogging</code></pre></div>\n</li>\n</ol>\n<br/>\n<hr>\n<h3 id=\"확장-정규-표현식-실습\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9E%A5-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D-%EC%8B%A4%EC%8A%B5\" aria-label=\"확장 정규 표현식 실습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>확장 정규 표현식 실습</h3>\n<p>확장 정규 표현식은 <code class=\"language-text\">한 개 이상의 표현식</code>을 <code class=\"language-text\">결합</code>하여 사용할 수 있게 해줍니다.  </p>\n<ol>\n<li>\n<p><code class=\"language-text\">\\+</code>앞의 문자가 한번 이상 출현한 문자열과 매칭: <code class=\"language-text\">\\+</code>  </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># 해당 파일에는 k 문자가 포함된 문자열은 다음과 같다.</span>\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token string\">\"k\"</span> nasa1515 \nbook\nmilk\nkimchi</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># 문자 </span><span class=\"token string character\">'k'</span>의 앞에 <span class=\"token string character\">'o'</span>가 있는 문자열을 선별하고 싶은 경우 <span class=\"token string\">\"o\\+k\"</span> 정규표현식 사용\n\nstudent@cccr<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span>home<span class=\"token operator\">/</span>won<span class=\"token operator\">/</span>script$ grep <span class=\"token string\">\"o\\+k\"</span> nasa1515 \nbook</code></pre></div>\n</li>\n</ol>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D\">✔ 정규표현식</a></li>\n<li><a href=\"#-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D-%ED%91%9C%ED%98%84%EB%B0%A9%EB%B2%95\">✌ 정규표현식 표현방법</a></li>\n<li>\n<p><a href=\"#-%EC%A0%95%EA%B7%9C%ED%91%9C%ED%98%84%EC%8B%9D-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%A0%9C\">👍 정규표현식 사용 예제</a></p>\n<ul>\n<li><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D%EC%9D%84-%EC%8B%A4%EC%8A%B5\">기본 정규 표현식을 실습</a></li>\n<li><a href=\"#%EA%B0%84%EA%B2%A9-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D-%EC%8B%A4%EC%8A%B5\">간격 정규 표현식 실습</a></li>\n<li><a href=\"#%ED%99%95%EC%9E%A5-%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D-%EC%8B%A4%EC%8A%B5\">확장 정규 표현식 실습</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 28, 2021","title":"[LINUX] - Shell Script - 정규표현식","categories":"LINUX","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/linux-shellscript-intervalRegula/"}},"prev":{"id":"5355c631-7fe6-5aa1-b88f-9fb739c067bf","html":"<p>머리말  </p>\n<p> 쿠버네티스… 이름만 많이 들어보고 많이 사용하는 기술이라고만 들었다.<br>\n하지만 온프레미스 경험만 가지고 있는 나는 아무것도 알지 못한다.  아마도 포스트를 작성하면서 조금씩 익숙해질 것이라고 생각한다.<br>\n마지막 포스트를 쓸 때 쯤에는 초급정도의 스킬은 가지고 있었으면 싶다.  </p>\n<hr>\n<p> 참고 블로그 : <a href=\"https://subicura.com/2019/05/19/kubernetes-basic-1.html\">https://subicura.com/2019/05/19/kubernetes-basic-1.html</a></p>\n<hr>\n<h2 id=\"-쿠버네티스란\" style=\"position:relative;\"><a href=\"#-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EB%9E%80\" aria-label=\" 쿠버네티스란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ 쿠버네티스란??</h2>\n<p><img src=\"https://subicura.com/assets/article_images/2019-05-19-kubernetes-basic-1/kubernetes-logo.png\"></p>\n<ul>\n<li>쿠버네티스는 컨테이너를 쉽고 빠르게 <code class=\"language-text\">배포/확장하고 관리를 자동화</code>해주는 오픈소스 플랫폼입니다.  </li>\n<li>보통 k8s 또는 큐브 (kube) 라고 줄여서 부릅니다.</li>\n<li>현재는 단순한 컨테이너 플랫폼이 아닌 <code class=\"language-text\">마이크로서비스</code>, <code class=\"language-text\">클라우드 플랫폼</code>을 지향하고<br>\n컨테이너로 이루어진 것들을 손쉽게 담고 관리할 수 있는 그릇 역할을 합니다.<br>\n서버리스, CI/CD, 머신러닝 등 다양한 기능이 쿠버네티스 플랫폼 위에서 동작합니다.</li>\n</ul>\n<br/>\n<h2 id=\"-대표적인-쿠버네티스의-기능들\" style=\"position:relative;\"><a href=\"#-%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%9D%98-%EA%B8%B0%EB%8A%A5%EB%93%A4\" aria-label=\" 대표적인 쿠버네티스의 기능들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ 대표적인 쿠버네티스의 기능들</h2>\n<h3 id=\"쿠버네티스의-배포-방식\" style=\"position:relative;\"><a href=\"#%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%9D%98-%EB%B0%B0%ED%8F%AC-%EB%B0%A9%EC%8B%9D\" aria-label=\"쿠버네티스의 배포 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿠버네티스의 배포 방식</h3>\n<p><img src=\"https://subicura.com/assets/article_images/2019-05-19-kubernetes-basic-1/workload.png\"></p>\n<ul>\n<li>컨테이너와 관련된 많은 예제가 <code class=\"language-text\">웹(프론트엔드+백엔드)</code> 애플리케이션을 다루고 있지만 실제론 더 다양한 형태의 APP이 있습니다.<br>\n쿠버네티스는 <code class=\"language-text\">Deployment</code>, <code class=\"language-text\">StatefulSets</code>, <code class=\"language-text\">DaemonSet</code>, <code class=\"language-text\">Job</code>, <code class=\"language-text\">CronJob</code>등 다양한 배포 방식을 지원합니다.  </li>\n<li><code class=\"language-text\">Deployment</code>는 새로운 버전의 애플리케이션을 다양한 전략으로 무중단 배포할 수 있습니다. </li>\n<li><code class=\"language-text\">StatefulSets</code>은 실행 순서를 보장하고 호스트 이름과 볼륨을 일정하게<br>\n사용할 수 있어 순서나 데이터가 중요한 경우에 사용할 수 있습니다. </li>\n<li><code class=\"language-text\">DaemonSet</code>은 로그나 모니터링 등 모든 노드에 설치가 필요한 경우에 사용 할 수 있습니다.</li>\n<li><code class=\"language-text\">Job, CronJob</code>을 이용해 배치성 작업을 할 수도 있습니다.</li>\n</ul>\n<br/>\n<h3 id=\"cloud-지원\" style=\"position:relative;\"><a href=\"#cloud-%EC%A7%80%EC%9B%90\" aria-label=\"cloud 지원 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CLOUD 지원</h3>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90616176-12411800-e248-11ea-8e9e-b79e49051a66.png\" alt=\"스크린샷, 2020-08-19 18-16-09\"></p>\n<ul>\n<li>쿠버네티스는 부하에 따라 자동으로 서버를 늘리는 기능 <code class=\"language-text\">AutoScaling</code> 기능을 가지고 있으며 LoadBalancer로 사용할 수 있습니다. </li>\n<li>외부 스토리지를 컨테이너 내부에 마운트해 사용도 가능한데 이를 위해 클라우드 별로 적절한 API를 사용하는 모듈이 필요합니다.</li>\n<li>쿠버네티스는 <code class=\"language-text\">Cloud Controller</code>를 이용하여 클라우드 연동을 손쉽게 확장할 수 있습니다.<br>\n<code class=\"language-text\">AWS, GCP, AZURE</code>는 물론 <code class=\"language-text\">다양한 모듈</code>을 제공해 동일한 설정 파일을 서로 다른 클라우드에서 동일하게 사용할 수 있습니다.</li>\n</ul>\n<br/>\n<h3 id=\"namespace--label\" style=\"position:relative;\"><a href=\"#namespace--label\" aria-label=\"namespace  label permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NAMESPACE &#x26; LABEL</h3>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90703714-722bd300-e2c9-11ea-927f-e4e2e4fdc719.png\" alt=\"스크린샷, 2020-08-20 09-42-17\"></p>\n<ul>\n<li>쿠버네티스에서는 1개의 클러스터를 <code class=\"language-text\">논리적으로 구분</code>하여 사용할 수 있습니다. </li>\n<li>하나의 클러스터에 다양한 프레임워크와 애플리케이션을 설치하기 때문에 기본(system, default)외에 여러 개의 네임스페이스를 사용하는 것이 당연합니다.   </li>\n<li>더 세부적으로 <code class=\"language-text\">라벨 기능</code>을 적극적으로 사용하여 유연하고, 확장성 있게 리소스를 관리할 수 있습니다.</li>\n</ul>\n<br/>\n<h3 id=\"auto-scaling\" style=\"position:relative;\"><a href=\"#auto-scaling\" aria-label=\"auto scaling permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Auto Scaling</h3>\n<p>k8s는 <code class=\"language-text\">CPU</code>, <code class=\"language-text\">memory</code> 사용량에 따른 확장은 기본이고 현재 접속자 수와 같은 값을 사용할 수도 있습니다.  </p>\n<p>총 세개의 방식이 대표적인데 아래와 같습니다.  </p>\n<ul>\n<li><code class=\"language-text\">Horizontal Pod Autoscaler(HPA)</code> : 컨테이너의 개수를 조정\n<img src=\"https://user-images.githubusercontent.com/69498804/90703962-23326d80-e2ca-11ea-934d-86b32cfdd145.png\" alt=\"스크린샷, 2020-08-20 09-47-14\"></li>\n</ul>\n<br/>\n<ul>\n<li><code class=\"language-text\">Vertical Pod Autoscaler(VPA)</code>: 컨테이너의 리소스 할당량을 조정\n<img src=\"https://user-images.githubusercontent.com/69498804/90704099-8f14d600-e2ca-11ea-9e20-1cd1837fa9b2.png\" alt=\"스크린샷, 2020-08-20 09-50-15\"></li>\n</ul>\n<br/>\n<ul>\n<li><code class=\"language-text\">Cluster Autosclaer(CA)</code> : 서버 개수(노드 수) 를 조정 </li>\n</ul>\n<br/>\n<h3 id=\"쿠버네티스의-단점\" style=\"position:relative;\"><a href=\"#%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%9D%98-%EB%8B%A8%EC%A0%90\" aria-label=\"쿠버네티스의 단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿠버네티스의 단점</h3>\n<ul>\n<li>컨테이너라는 개념조차도 처음 접해보는 초보자에게는 <code class=\"language-text\">쿠버네티스</code>는 복잡하고 초반 개념을 이해하기 매우 어렵습니다.</li>\n<li><code class=\"language-text\">YAML 설정 파일</code>은 매우 많고 클러스터를 만드는 것도 쉽지 않습니다. </li>\n<li>즉 오래동안 사용해보지 않는 사람을 제외한 초기사용자에겐 진입장벽이 높습니다</li>\n</ul>\n<hr>\n<h2 id=\"-쿠버네티스의-기본-로직-및-개념\" style=\"position:relative;\"><a href=\"#-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EB%A1%9C%EC%A7%81-%EB%B0%8F-%EA%B0%9C%EB%85%90\" aria-label=\" 쿠버네티스의 기본 로직 및 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ 쿠버네티스의 기본 로직, 및 개념</h2>\n<ul>\n<li>\n<p><code class=\"language-text\">Desired State</code></p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90704590-e10a2b80-e2cb-11ea-95dd-9553e597fd69.png\" alt=\"스크린샷, 2020-08-20 09-59-42\"></p>\n</li>\n<li><code class=\"language-text\">k8s</code>에서 가장 중요한 것은 <code class=\"language-text\">desired state</code> - <code class=\"language-text\">원하는 상태</code> 라는 개념이라고 합니다.  </li>\n</ul>\n<br/>\n<ul>\n<li><code class=\"language-text\">원하는 상태</code>라 함은 관리자가 원하는 환경을 의미하고<br>\n구체적으로는 몇대의 웹서버가 떠 있으면 좋은지, 몇 번 포트를 사용하길 원하는지 등을 말합니다.</li>\n</ul>\n<br/>\n<ul>\n<li>k8s는 복잡한 작업을 하지만 자세히 들여다보면 <code class=\"language-text\">현재 상태 (current state)</code>를 모니터링하면서<br>\n관리자가 설정한 상태를 유지하려 내부적으로 작업을 하는 로직을 가지고 있습니다.</li>\n</ul>\n<br/>\n<ul>\n<li>이 개념 때문에 관리자가 배포할 때 직접적인 동작을 명령하지 않고 상태를 선언하는 방식을 사용합니다.</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>예를 들어 “nginx 컨테이너를 실행해줘. 그리고 80 포트로 오픈해줘라는 것은”  </p>\n<ul>\n<li><code class=\"language-text\">명령(imperative)</code> :  nginx 컨테이너 실행, 80포트로 서비스 (현재 상태 변경)</li>\n<li><code class=\"language-text\">선언(declarative)</code> : 80 포트를 오픈한 nginx 컨테이너를 1개 유지해</li>\n</ul>\n</li>\n<li>\n<p>말로 풀어쓰니깐 약간 이해가 안되는데 아래의 <code class=\"language-text\">CLI</code> 명령을 보면 이해가 될 것입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ docker run                    # 명령 (imperative)\n$ kubectl create \n# 상태 생성</code></pre></div>\n<p>k8s의 <code class=\"language-text\">핵심은 상태</code>입니다. k8s를 사용하려면 어떤 상태가 있고 어떻게 상태를 선언하는지를 아는 것이 가장 중요합니다</p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-아키텍처\" style=\"position:relative;\"><a href=\"#-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\" aria-label=\" 아키텍처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👌 아키텍처</h2>\n<ul>\n<li>컨테이너는 아주 심플하고 우아하게 동작합니다.  </li>\n<li>즉 <code class=\"language-text\">run</code>을 하면 실행되고 <code class=\"language-text\">stop</code>을 하면 멈춥니다.</li>\n<li>\n<p><code class=\"language-text\">서버-클라이언트</code> 구조를 안다면 컨테이너를 관리하는 에이전트를 만들고<br>\n중앙에서 <code class=\"language-text\">API</code>를 사용해 원격으로 관리하는 로직을 그릴 수 있을 것입니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90705561-31828880-e2ce-11ea-9b8b-5e6c4d725632.png\" alt=\"스크린샷, 2020-08-20 10-16-16\"></p>\n</li>\n<li>ks8 또한 <code class=\"language-text\">Master</code>에 <code class=\"language-text\">API 서버와 상태 저장소</code>를 두고 각 <code class=\"language-text\">Node</code>의 <code class=\"language-text\">에이전트(kubelet)</code>와 통신하는 구조입니다.  </li>\n</ul>\n<hr>\n<h2 id=\"-마스터---노드-구조\" style=\"position:relative;\"><a href=\"#-%EB%A7%88%EC%8A%A4%ED%84%B0---%EB%85%B8%EB%93%9C-%EA%B5%AC%EC%A1%B0\" aria-label=\" 마스터   노드 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👍 마스터 - 노드 구조</h2>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90705892-ecab2180-e2ce-11ea-8226-f235801c05ab.png\" alt=\"스크린샷, 2020-08-20 10-21-31\"></p>\n<ul>\n<li>k8s는 <code class=\"language-text\">전체 클러스터를 관리</code>하는 <code class=\"language-text\">마스터</code>와 <code class=\"language-text\">컨테이너가 배포</code>되는 <code class=\"language-text\">노드</code>로 구성되어 있습니다.  </li>\n<li>모든 명령은 <code class=\"language-text\">마스터의 API 서버를 호출</code>하고 노드는 마스터와 통신하면서 필요한 작업을 수행합니다.  </li>\n<li>특정 노드에 명령하거나 로그를 조회할 때도 노드에 직접 명령하는 게 아닌<br>\n마스터에 명령을 내리고 마스터가 노드에 접속하여 대신 결과를 응답합니다.</li>\n</ul>\n<br/>\n<p><strong>Master</strong>  </p>\n<ul>\n<li><code class=\"language-text\">MASTER</code>는 다양한 모듈이 확장성을 고려하여 기능별로 쪼개져 있는 것이 특징 입니다.  </li>\n<li>그러다 보니 보안 설정에 심혈을 기울여야 합니다.</li>\n<li>마스터 서버 장애시 클러스터를 관리할 수 없기 때문에 보통 여러대로 구성하여 안정성을 높입니다.  </li>\n</ul>\n<br/>\n<p><strong>Node</strong></p>\n<ul>\n<li><code class=\"language-text\">NODE</code>는 <code class=\"language-text\">MASTER</code>와 통신하면서 필요한 Pod을 생성하고 네트워크와 볼륨을 설정합니다.  </li>\n<li><code class=\"language-text\">실제 컨테이너들이 생성되는 곳</code>으로 거의 수천대로 확장할 수 있습니다.  </li>\n<li><code class=\"language-text\">추가적으로 라벨기능</code>을 사용하게되면 각각의 서버에 라벨을 붙여 사용목적(GPU 특화, SSD 서버 등)을 정의할 수 있습니다.</li>\n</ul>\n<br/>\n<p><strong>Kubectl</strong></p>\n<ul>\n<li>API 서버는 json 또는 protobuf 형식을 이용한 http 통신을 지원합니다.</li>\n<li>보통 kubectl이라는 명령행 도구를 사용합니다.  (매우 편함!!)</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"master-구성-요소\" style=\"position:relative;\"><a href=\"#master-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\" aria-label=\"master 구성 요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Master 구성 요소</h3>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90707414-845e3f00-e2d2-11ea-881a-c754f08739cb.png\" alt=\"스크린샷, 2020-08-20 10-47-13\"></p>\n<br/>\n<h3 id=\"api-서버-kube-apiserver\" style=\"position:relative;\"><a href=\"#api-%EC%84%9C%EB%B2%84-kube-apiserver\" aria-label=\"api 서버 kube apiserver permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API 서버 kube-apiserver</h3>\n<ul>\n<li>API 서버는 <code class=\"language-text\">모든(ALL) 요청을 처리하는 마스터의 핵심 모듈</code>입니다.  </li>\n<li>kubectl의 요청과 더불어 <code class=\"language-text\">내부 모듈</code>의 요청도 처리하고, 권한을 체크하여 요청을 거부할 수 있습니다.    </li>\n<li>실제로 하는 일은 <code class=\"language-text\">원하는 상태</code>를 <code class=\"language-text\">key-value 저장소</code>에 저장하고 저장된 상태를 조회하는 매우 단순한 작업입니다.  </li>\n<li>\n<p><code class=\"language-text\">Pod을 노드에 할당</code>하고 상태를 체크하는 일은 다른 모듈로 분리되어 있습니다.<br>\n노드에서 실행 중인 컨테이너의 로그를 보여주고 명령을 보내는 등 <code class=\"language-text\">디버거 역할</code>도 수행합니다.</p>\n<p><code class=\"language-text\">즉!!!! 마스터는 엄마입니다!!</code></p>\n</li>\n</ul>\n<br/>\n<h3 id=\"분산-데이터-저장소-etcd\" style=\"position:relative;\"><a href=\"#%EB%B6%84%EC%82%B0-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%80%EC%9E%A5%EC%86%8C-etcd\" aria-label=\"분산 데이터 저장소 etcd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>분산 데이터 저장소 etcd</h3>\n<ul>\n<li><code class=\"language-text\">RAFT 알고리즘</code>을 이용한 <code class=\"language-text\">key-value 저장소</code>입니다.  </li>\n<li>여러 개로 분산하여 복제할 수 있기 때문에 안정성이 높고 속도가 빠릅니다.  </li>\n<li>단순히 값을 저장하고 읽는 기능뿐 아니라 <code class=\"language-text\">watch 기능</code>이 있어 어떤 상태가 변경되면 바로 체크하여 로직을 실행할 수 있습니다.</li>\n<li><code class=\"language-text\">클러스터의 모든 설정</code>, <code class=\"language-text\">상태 데이터</code>는 여기 저장되고 나머지 모듈은 stateless하게 동작하기 때문에<br>\n<code class=\"language-text\">etcd</code>만 잘 백업해두면 언제든지 클러스터를 복구할 수 있습니다.  </li>\n<li><code class=\"language-text\">etcd는 오직 API 서버와 통신</code>하고 다른 모듈은 API 서버를 거쳐 etcd 데이터에 접근합니다.  </li>\n</ul>\n<br/>\n<h3 id=\"스케줄러-컨트롤러\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\" aria-label=\"스케줄러 컨트롤러 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스케줄러, 컨트롤러</h3>\n<ul>\n<li>API 서버는 요청 시 etcd 저장소와 통신할 뿐 <code class=\"language-text\">실제로 상태를 바꾸는 건 스케줄러와 컨트롤러</code> 입니다.  </li>\n<li>\n<p><code class=\"language-text\">현재 상태</code>를 모니터링하다가 원하는 상태와 다르면 맡은 작업을 수행하고 상태를 갱신합니다.</p>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">스케줄러 kube-scheduler</code>  </p>\n<p>스케줄러는 할당되지 않은 <code class=\"language-text\">Pod을 여러 가지 조건(필요한 자원, 라벨)</code>에 따라 적절한 노드 서버에 할당해주는 모듈입니다.</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">큐브 컨트롤러 kube-controller-manager</code></p>\n<p>큐브 컨트롤러는 다양한 역할을 하는 아주 바쁜 모듈입니다.<br>\nk8s에 있는 거의 <code class=\"language-text\">모든 오브젝트의 상태를 관리</code>합니다. 오브젝트별로 철저하게 분업화되어<br>\nDeployment는 ReplicaSet을 생성하고 ReplicaSet은 Pod을 생성하고 Pod은 스케줄러가 관리하는 식입니다.</p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p><code class=\"language-text\">클라우드 컨트롤러 cloud-controller-manager</code>  </p>\n<p>클라우드 컨트롤러는 <code class=\"language-text\">AWS, GCE, Azure 등 클라우드에 특화</code>된 모듈입니다.<br>\n<code class=\"language-text\">노드를 추가/삭제</code>하고 <code class=\"language-text\">로드 밸런서를 연결</code>하거나 볼륨을 붙일 수 있습니다.<br>\n각 클라우드 업체에서 자체 모듈을 만들어 제공하고 있습니다.</p>\n</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"node-구성-요소\" style=\"position:relative;\"><a href=\"#node-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\" aria-label=\"node 구성 요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Node 구성 요소</h3>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90708077-f08d7280-e2d3-11ea-9e24-eb5e0f52430a.png\" alt=\"스크린샷, 2020-08-20 10-57-25\"></p>\n<br/>\n<p><strong>큐블릿 kubelet</strong>   </p>\n<ul>\n<li>노드에 할당된 Pod의 생명주기를 관리합니다.  </li>\n<li><code class=\"language-text\">Pod을 생성</code>하고 Pod 안 컨테이너에 이상을 확인하면서 <code class=\"language-text\">주기적으로 마스터에 상태를 전달</code>합니다.  </li>\n<li>API 서버의 요청을 받아 컨테이너의 로그를 전달하거나 <code class=\"language-text\">특정 명령을 대신 수행</code>하기도 합니다.</li>\n</ul>\n<br/>\n<p><strong>프록시 kube-proxy</strong>  </p>\n<ul>\n<li>프록시는 Pod으로 연결되는 <code class=\"language-text\">네트워크를 관리</code>합니다.  </li>\n<li><code class=\"language-text\">TCP, UDP, SCTP 스트림을 포워딩</code>하고<br>\n여러 개의 Pod을 <code class=\"language-text\">라운드로빈 형태</code>로 묶어 서비스를 제공할 수 있습니다.  </li>\n<li>현재는 요청에 대한 처리를 <code class=\"language-text\">iptables를 설정하는 방식으로 변경</code>되었습니다.<br>\n하지만 iptables에 등록된 규칙이 많아지면 <code class=\"language-text\">느려지는 문제</code> 때문에 최근 <code class=\"language-text\">IPVS</code>를 지원하기 시작했습니다.</li>\n</ul>\n<br/>\n<p><strong>추상화</strong></p>\n<ul>\n<li>컨테이너는 도커고 도커가 컨테이너라고 생각해도 무리가 없는 상황입니다만 </li>\n<li>k8s는 <code class=\"language-text\">CRI(Container runtime interface)</code>를 구현한 다양한 컨테이너 런타임을 지원합니다.  </li>\n<li>CRI 외에 <code class=\"language-text\">CNI(네트워크)</code>, <code class=\"language-text\">CSI(스토리지)</code>를 지원하여 쉽게 확장하여 사용할 수 있습니다.</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"k8s의-전체적인-로직-요약\" style=\"position:relative;\"><a href=\"#k8s%EC%9D%98-%EC%A0%84%EC%B2%B4%EC%A0%81%EC%9D%B8-%EB%A1%9C%EC%A7%81-%EC%9A%94%EC%95%BD\" aria-label=\"k8s의 전체적인 로직 요약 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>K8S의 전체적인 로직 요약</h3>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/90708580-1ff0af00-e2d5-11ea-9102-75dd7cf923ff.png\" alt=\"스크린샷, 2020-08-20 11-05-54\"></p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EB%9E%80\">✔ 쿠버네티스란??</a></li>\n<li>\n<p><a href=\"#-%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%9D%98-%EA%B8%B0%EB%8A%A5%EB%93%A4\">✌ 대표적인 쿠버네티스의 기능들</a></p>\n<ul>\n<li><a href=\"#%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%9D%98-%EB%B0%B0%ED%8F%AC-%EB%B0%A9%EC%8B%9D\">쿠버네티스의 배포 방식</a></li>\n<li><a href=\"#cloud-%EC%A7%80%EC%9B%90\">CLOUD 지원</a></li>\n<li><a href=\"#namespace--label\">NAMESPACE &#x26; LABEL</a></li>\n<li><a href=\"#auto-scaling\">Auto Scaling</a></li>\n<li><a href=\"#%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%9D%98-%EB%8B%A8%EC%A0%90\">쿠버네티스의 단점</a></li>\n</ul>\n</li>\n<li><a href=\"#-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EB%A1%9C%EC%A7%81-%EB%B0%8F-%EA%B0%9C%EB%85%90\">✌ 쿠버네티스의 기본 로직, 및 개념</a></li>\n<li><a href=\"#-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\">👌 아키텍처</a></li>\n<li>\n<p><a href=\"#-%EB%A7%88%EC%8A%A4%ED%84%B0---%EB%85%B8%EB%93%9C-%EA%B5%AC%EC%A1%B0\">👍 마스터 - 노드 구조</a></p>\n<ul>\n<li><a href=\"#master-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\">Master 구성 요소</a></li>\n<li><a href=\"#api-%EC%84%9C%EB%B2%84-kube-apiserver\">API 서버 kube-apiserver</a></li>\n<li><a href=\"#%EB%B6%84%EC%82%B0-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%80%EC%9E%A5%EC%86%8C-etcd\">분산 데이터 저장소 etcd</a></li>\n<li><a href=\"#%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\">스케줄러, 컨트롤러</a></li>\n<li><a href=\"#node-%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\">Node 구성 요소</a></li>\n<li><a href=\"#k8s%EC%9D%98-%EC%A0%84%EC%B2%B4%EC%A0%81%EC%9D%B8-%EB%A1%9C%EC%A7%81-%EC%9A%94%EC%95%BD\">K8S의 전체적인 로직 요약</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 29, 2021","title":"[Kubernetes] - 쿠버네티스란?","categories":"Kubernetes","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/kubernetes01/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/linux-shellscript/","nextSlug":"/linux-shellscript-intervalRegula/","prevSlug":"/kubernetes01/"}},"staticQueryHashes":["1073350324","2938748437"]}