{"componentChunkName":"component---src-templates-blog-template-js","path":"/azure-coludshellerror/","result":{"data":{"cur":{"id":"44a1ef15-7454-5c7f-9869-55e001e067ce","html":"<p>머리말  </p>\n<p>이번에 새롭게 Azure PASS를 전달받아서 해당 구독으로 Cloud Shell을 사용하려고 했으나<br>\nCloudshell error = Error creating Azure Storage Account - code : 409 error<br>\n발생으로 Storage가 생성되지 않아 관련 포스트를 작성합니다.  </p>\n<hr>\n<h2 id=\"-error\" style=\"position:relative;\"><a href=\"#-error\" aria-label=\" error permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ Error!</h2>\n<h4 id=\"cloud-shell에-연결을-위한-storage를-생성하려는데-다음과-같은-error-발생\" style=\"position:relative;\"><a href=\"#cloud-shell%EC%97%90-%EC%97%B0%EA%B2%B0%EC%9D%84-%EC%9C%84%ED%95%9C-storage%EB%A5%BC-%EC%83%9D%EC%84%B1%ED%95%98%EB%A0%A4%EB%8A%94%EB%8D%B0-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%9D%80-error-%EB%B0%9C%EC%83%9D\" aria-label=\"cloud shell에 연결을 위한 storage를 생성하려는데 다음과 같은 error 발생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cloud Shell에 연결을 위한 Storage를 생성하려는데 다음과 같은 Error 발생</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112244518-cb5e4980-8c92-11eb-9688-bddeb6457fbf.JPG\" alt=\"11111\"></p>\n<ul>\n<li>해당 Error Code : 409가 발생전에 403 Error도 발생했으나 해결했습니다.  </li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"403-error-해결--stackoverflow에서-구독의-resource-providers의-microsoftstorage-권한-설정\" style=\"position:relative;\"><a href=\"#403-error-%ED%95%B4%EA%B2%B0--stackoverflow%EC%97%90%EC%84%9C-%EA%B5%AC%EB%8F%85%EC%9D%98-resource-providers%EC%9D%98-microsoftstorage-%EA%B6%8C%ED%95%9C-%EC%84%A4%EC%A0%95\" aria-label=\"403 error 해결  stackoverflow에서 구독의 resource providers의 microsoftstorage 권한 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>403 ERROR 해결 : <a href=\"https://stackoverflow.com/questions/44107943/unable-to-create-storage-for-persisting-account-files-in-azure-cloud-shell-cli\">StackOverFlow</a>에서 구독의 Resource providers의 Microsoft.Storage 권한 설정</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112245160-b504bd80-8c93-11eb-96cc-11449ff92060.png\" alt=\"ehMUs\"></p>\n<ul>\n<li>해당 ERROR는 구독에서 providers의 권한이 없어서 발생한 문제였음  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"409-error-해결--stackoverflow에서-custom하게-storage-생성\" style=\"position:relative;\"><a href=\"#409-error-%ED%95%B4%EA%B2%B0--stackoverflow%EC%97%90%EC%84%9C-custom%ED%95%98%EA%B2%8C-storage-%EC%83%9D%EC%84%B1\" aria-label=\"409 error 해결  stackoverflow에서 custom하게 storage 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>409 ERROR 해결 : <a href=\"https://stackoverflow.com/questions/60620035/unable-to-open-cloud-shell-because-of-storage-account-error\">StackOverFlow</a>에서 Custom하게 Storage 생성</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112245280-e4b3c580-8c93-11eb-9514-14be46875521.png\" alt=\"KKoo7\"></p>\n<ul>\n<li>다음과 같이 <code class=\"language-text\">show advanced settings</code> tab을 선택해 Custom하게 생성   </li>\n</ul>\n<p>StorageAccountAlreadyTaken error는 스토리지 계정 생성 문제입니다.<br>\n이는 새로운 스토리지 계정을 만들고 있지만 동일한 이름의 스토리지 계정이 전 세계의 이미 존재함을 나타냅니다.<br>\n(왜냐하면 스토리지 계정 이름은 모든 Azure 계정에서 고유해야 하기 떄문).<br>\n또한 구독에 상속되어있는 Default Region의 문제일 수도 있어 해당 Region도 지정해주었습니다.  </p>\n</li>\n</ul>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-error\">✔ Error!</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#cloud-shell%EC%97%90-%EC%97%B0%EA%B2%B0%EC%9D%84-%EC%9C%84%ED%95%9C-storage%EB%A5%BC-%EC%83%9D%EC%84%B1%ED%95%98%EB%A0%A4%EB%8A%94%EB%8D%B0-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%9D%80-error-%EB%B0%9C%EC%83%9D\">Cloud Shell에 연결을 위한 Storage를 생성하려는데 다음과 같은 Error 발생</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"머리말   이번에 새롭게 Azure PASS를 전달받아서 해당 구독으로 Cloud Shell을 사용하려고 했으나 Cloudshell error = Error creating Azure Storage Account - code : 409 error 발생으로 Storage가 생성되지 않아 관련 포스트를 작성합니다.   ✔ Error! Cloud Shell에 연결을 위한 Storage를 생성하려는데 다음과 같은 Error 발생 11111 해당 Error Code : 409가 발생전에 403 Error도 발생했으나 해결했습니다.   403 ERROR 해결 : StackOverFlow에서 구독의 Resource provider…","frontmatter":{"date":"August 20, 2021","title":"[AZURE] Cloudshell error = Error creating Azure Storage Account - code : 409","categories":"CLOUD Error-Report","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/azure-coludshellerror/"}},"next":{"id":"f5c486fe-8405-5843-a44d-eb7bf2fda959","html":"<p>머리말  </p>\n<p>추후에 Kafka를 k8s Cluster 환경에서 설치 및 구동을 해보려고 합니다.<br>\n그래서 일단 YAM을 더 효율적이게 생성하기 위해 VSCODE와 AKS를 연결해봅시다.  </p>\n<hr>\n<h2 id=\"-preview--vscode로-k8s를-관리한다면\" style=\"position:relative;\"><a href=\"#-preview--vscode%EB%A1%9C-k8s%EB%A5%BC-%EA%B4%80%EB%A6%AC%ED%95%9C%EB%8B%A4%EB%A9%B4\" aria-label=\" preview  vscode로 k8s를 관리한다면 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ Preview : VSCODE로 k8s를 관리한다면?</h2>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112405756-40468780-8d56-11eb-923c-2eb754abb929.gif\" alt=\"nasagif\"></p>\n<ul>\n<li>위처럼 pod, service 등의 yaml 형식을 자동으로 정의해 편리하게 사용 가능  </li>\n<li>굳이 명령어를 치지 않고도 배포 및 상태 확인이 가능  </li>\n<li>yaml manifest 모아서 관리 한 뒤 helm Chart를 만들기 간편하다.  </li>\n<li>추가적으로 AKS은 대체로 Cloud Shell을 이용하는데 - Cloud Shell은 docker 명령을 지원하지 않는다.  </li>\n<li>실제로 Master Node는 존재하지 않고 (PaaS 형태) NodePool에만 docker가 깔려있음<br>\n때문에 Imaging을 할 Docker Client를 따로 구성해야 하는 불편함이 있음<br>\n그래서 어짜피 구성해야하면 VSCODE가 깔린 Window의 Local에서 Docker를 구성해서<br>\nImaging 작업은 Local vscode terminal에서 진행하고 바로 aks에서 인식하게 하려는 계획  </li>\n</ul>\n<h3 id=\"그냥-겁나-편하다\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%83%A5-%EA%B2%81%EB%82%98-%ED%8E%B8%ED%95%98%EB%8B%A4\" aria-label=\"그냥 겁나 편하다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그냥 겁나 편하다</h3>\n<br/>\n<hr>\n<h2 id=\"-aks-구성\" style=\"position:relative;\"><a href=\"#-aks-%EA%B5%AC%EC%84%B1\" aria-label=\" aks 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ AKS 구성</h2>\n<p>아래 Azure의 공식 DOC로 CLI, Portal을 이용해서 AKS Cluster를 구축합니다. </p>\n<ul>\n<li>\n<h4 id=\"azure-aks-doc\" style=\"position:relative;\"><a href=\"#azure-aks-doc\" aria-label=\"azure aks doc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://docs.microsoft.com/ko-kr/azure/aks/kubernetes-walkthrough\">Azure AKS DOC</a></h4>\n</li>\n<li>\n<h4 id=\"azure-portal-용-aks-doc\" style=\"position:relative;\"><a href=\"#azure-portal-%EC%9A%A9-aks-doc\" aria-label=\"azure portal 용 aks doc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://docs.microsoft.com/ko-kr/azure/aks/kubernetes-walkthrough-portal\">Azure Portal 용 AKS DOC</a></h4>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"cluster-생성되면-아래와-같이-rg와-resource들이-생성됩니다\" style=\"position:relative;\"><a href=\"#cluster-%EC%83%9D%EC%84%B1%EB%90%98%EB%A9%B4-%EC%95%84%EB%9E%98%EC%99%80-%EA%B0%99%EC%9D%B4-rg%EC%99%80-resource%EB%93%A4%EC%9D%B4-%EC%83%9D%EC%84%B1%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"cluster 생성되면 아래와 같이 rg와 resource들이 생성됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cluster 생성되면 아래와 같이 RG와 Resource들이 생성됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112254765-762b3380-8ca4-11eb-88b9-b64266de090c.JPG\" alt=\"123\"></p>\n<ul>\n<li>k8s : AKS Resource가 있는 RG </li>\n<li>MC<em>k8s</em>nasa1515_koreacentral : AKS의 실제 VMSS나 PIP들의 Resource가 있는 RG  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"이제-cloud-shell에서-kubelet-명령어를-입력해보려는데-error가-발생합니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%9C-cloud-shell%EC%97%90%EC%84%9C-kubelet-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A5%BC-%EC%9E%85%EB%A0%A5%ED%95%B4%EB%B3%B4%EB%A0%A4%EB%8A%94%EB%8D%B0-error%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"이제 cloud shell에서 kubelet 명령어를 입력해보려는데 error가 발생합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이제 Cloud shell에서 kubelet 명령어를 입력해보려는데 ERROR가 발생합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112254836-9529c580-8ca4-11eb-9edf-f971a165e43b.JPG\" alt=\"캡처\"></p>\n<ul>\n<li>Cloud shell에서 AKS에 연결하기 위해선 Credentials이 필요하기 때문입니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"다음-명령어로-credentials을-가져-올-수-있습니다\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%9D%8C-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-credentials%EC%9D%84-%EA%B0%80%EC%A0%B8-%EC%98%AC-%EC%88%98-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"다음 명령어로 credentials을 가져 올 수 있습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>다음 명령어로 credentials을 가져 올 수 있습니다.</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">az aks <span class=\"token keyword\">get</span><span class=\"token operator\">-</span>credentials <span class=\"token operator\">--</span>resource<span class=\"token operator\">-</span><span class=\"token keyword\">group</span> <span class=\"token punctuation\">[</span>myResourceGroup<span class=\"token punctuation\">]</span> <span class=\"token operator\">--</span>name <span class=\"token punctuation\">[</span>myAKSCluster<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"credentials을-가져온-뒤-정상적으로-kebectl-명령이-실행됩니다\" style=\"position:relative;\"><a href=\"#credentials%EC%9D%84-%EA%B0%80%EC%A0%B8%EC%98%A8-%EB%92%A4-%EC%A0%95%EC%83%81%EC%A0%81%EC%9C%BC%EB%A1%9C-kebectl-%EB%AA%85%EB%A0%B9%EC%9D%B4-%EC%8B%A4%ED%96%89%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"credentials을 가져온 뒤 정상적으로 kebectl 명령이 실행됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Credentials을 가져온 뒤 정상적으로 kebectl 명령이 실행됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112256786-97d9ea00-8ca7-11eb-90a6-56a7150ef2b7.JPG\" alt=\"캡처2\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"사실-이미-vscode의-azure-extentions을-이용해-cloud-shell로-사용-가능합니다\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%8B%A4-%EC%9D%B4%EB%AF%B8-vscode%EC%9D%98-azure-extentions%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%B4-cloud-shell%EB%A1%9C-%EC%82%AC%EC%9A%A9-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"사실 이미 vscode의 azure extentions을 이용해 cloud shell로 사용 가능합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사실 이미 VSCODE의 Azure extentions을 이용해 Cloud shell로 사용 가능합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112258604-1afc3f80-8caa-11eb-8641-fe03947a05a8.JPG\" alt=\"캡처3333\"></p>\n<ul>\n<li>다만 저는 CloudShell의 불편함을 해결하고, 왼쪽의 File list에서 여러 yaml 을 관리하고 싶습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"vscode-kubernetes-extentions-사용\" style=\"position:relative;\"><a href=\"#vscode-kubernetes-extentions-%EC%82%AC%EC%9A%A9\" aria-label=\"vscode kubernetes extentions 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VSCODE Kubernetes extentions 사용</h3>\n<p>그래서 VSCODE의 Kubernetes extentions을 사용해 AKS와 직접 연결하겠습니다.  </p>\n<ul>\n<li>\n<h4 id=\"설정-가이드\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%A0%95-%EA%B0%80%EC%9D%B4%EB%93%9C\" aria-label=\"설정 가이드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://mountainss.wordpress.com/2018/07/17/create-azure-kubernetes-cluster-and-manage-in-visual-studio-code-vsc-kubernetes-cloud/\">설정 가이드</a></h4>\n</li>\n</ul>\n<br/>\n<p>위의 링크에서 설명하는 방법은 다음과 같습니다.  </p>\n<ul>\n<li>\n<h4 id=\"1-aks-cluster-생성\" style=\"position:relative;\"><a href=\"#1-aks-cluster-%EC%83%9D%EC%84%B1\" aria-label=\"1 aks cluster 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. AKS Cluster 생성</h4>\n</li>\n<li>\n<h4 id=\"2-local에-azure-cli-설치\" style=\"position:relative;\"><a href=\"#2-local%EC%97%90-azure-cli-%EC%84%A4%EC%B9%98\" aria-label=\"2 local에 azure cli 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Local에 Azure CLI 설치</h4>\n</li>\n<li>\n<h4 id=\"3-vscode에-kubernetes-extentions-설치\" style=\"position:relative;\"><a href=\"#3-vscode%EC%97%90-kubernetes-extentions-%EC%84%A4%EC%B9%98\" aria-label=\"3 vscode에 kubernetes extentions 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. vscode에 kubernetes extentions 설치</h4>\n</li>\n<li>\n<h4 id=\"4-kubernetes-extentions을-사용해-aks와-직접-연결\" style=\"position:relative;\"><a href=\"#4-kubernetes-extentions%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4-aks%EC%99%80-%EC%A7%81%EC%A0%91-%EC%97%B0%EA%B2%B0\" aria-label=\"4 kubernetes extentions을 사용해 aks와 직접 연결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. kubernetes extentions을 사용해 AKS와 직접 연결</h4>\n<br/>\n</li>\n</ul>\n<p>1,2번 작업은 이미 완료했다고 가정하고 2번 작업 이후 local 에서 Azure cli에 연결해야 합니다.  </p>\n<br/>\n<ul>\n<li>\n<h4 id=\"az-aks-install-cli\" style=\"position:relative;\"><a href=\"#az-aks-install-cli\" aria-label=\"az aks install cli permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>az aks install-cli</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259140-1ab07400-8cab-11eb-9abc-8341b85fff04.JPG\" alt=\"캡처4\"></p>\n<br/>\n</li>\n<li>\n<h4 id=\"az-login-명령으로-azure-로그인\" style=\"position:relative;\"><a href=\"#az-login-%EB%AA%85%EB%A0%B9%EC%9C%BC%EB%A1%9C-azure-%EB%A1%9C%EA%B7%B8%EC%9D%B8\" aria-label=\"az login 명령으로 azure 로그인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>az login 명령으로 azure 로그인</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\"># az login</span></code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259289-5f3c0f80-8cab-11eb-906e-ccc957cdc10e.JPG\" alt=\"캡처5555\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"aks의-credentials-가져오기\" style=\"position:relative;\"><a href=\"#aks%EC%9D%98-credentials-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\" aria-label=\"aks의 credentials 가져오기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AKS의 Credentials 가져오기</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">E az aks <span class=\"token keyword\">get</span><span class=\"token operator\">-</span>credentials <span class=\"token operator\">--</span>resource<span class=\"token operator\">-</span><span class=\"token keyword\">group</span> k8s <span class=\"token operator\">--</span>name nasa1515 </code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259355-80046500-8cab-11eb-8a94-b990a1a72a08.JPG\" alt=\"캡처666\"></p>\n<br/>\n</li>\n<li>\n<h4 id=\"aks의-dashboard-실행시키기\" style=\"position:relative;\"><a href=\"#aks%EC%9D%98-dashboard-%EC%8B%A4%ED%96%89%EC%8B%9C%ED%82%A4%EA%B8%B0\" aria-label=\"aks의 dashboard 실행시키기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AKS의 dashboard 실행시키기</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">az aks browse <span class=\"token operator\">--</span>resource<span class=\"token operator\">-</span><span class=\"token keyword\">group</span> k8s <span class=\"token operator\">--</span>name nasa1515</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259585-e5585600-8cab-11eb-903d-e05c85c33f60.JPG\" alt=\"캡처6666\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"extentions-에-aks-연결하기\" style=\"position:relative;\"><a href=\"#extentions-%EC%97%90-aks-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0\" aria-label=\"extentions 에 aks 연결하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Extentions 에 AKS 연결하기</h3>\n<ul>\n<li>\n<h4 id=\"위의-작업을-완료하면-vscode의-extentions에서-다음과-같이-구독이-표시됩니다\" style=\"position:relative;\"><a href=\"#%EC%9C%84%EC%9D%98-%EC%9E%91%EC%97%85%EC%9D%84-%EC%99%84%EB%A3%8C%ED%95%98%EB%A9%B4-vscode%EC%9D%98-extentions%EC%97%90%EC%84%9C-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%9D%B4-%EA%B5%AC%EB%8F%85%EC%9D%B4-%ED%91%9C%EC%8B%9C%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"위의 작업을 완료하면 vscode의 extentions에서 다음과 같이 구독이 표시됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>위의 작업을 완료하면 vscode의 extentions에서 다음과 같이 구독이 표시됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112259771-2ea8a580-8cac-11eb-87a4-b88237ea493f.JPG\" alt=\"캡처77777\"></p>\n<br/>\n</li>\n<li>\n<h4 id=\"정상적으로-cluster를-추가했으나-옆에-cluster-목록에-뜨지-않는-이슈가-발생\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EC%83%81%EC%A0%81%EC%9C%BC%EB%A1%9C-cluster%EB%A5%BC-%EC%B6%94%EA%B0%80%ED%96%88%EC%9C%BC%EB%82%98-%EC%98%86%EC%97%90-cluster-%EB%AA%A9%EB%A1%9D%EC%97%90-%EB%9C%A8%EC%A7%80-%EC%95%8A%EB%8A%94-%EC%9D%B4%EC%8A%88%EA%B0%80-%EB%B0%9C%EC%83%9D\" aria-label=\"정상적으로 cluster를 추가했으나 옆에 cluster 목록에 뜨지 않는 이슈가 발생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정상적으로 Cluster를 추가했으나 옆에 Cluster 목록에 뜨지 않는 이슈가 발생.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112261431-31f16080-8caf-11eb-835b-f4b44fe0a015.JPG\" alt=\"캡처32323\"></p>\n<ul>\n<li>vscode에서 kubectl.exe의 환경변수가 정상적으로 등록되지 않아서 발생.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"기본적으로-kubernetes-extentions을-설치하면-아래-위치에-tools이-설치됩니다\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9C%BC%EB%A1%9C-kubernetes-extentions%EC%9D%84-%EC%84%A4%EC%B9%98%ED%95%98%EB%A9%B4-%EC%95%84%EB%9E%98-%EC%9C%84%EC%B9%98%EC%97%90-tools%EC%9D%B4-%EC%84%A4%EC%B9%98%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"기본적으로 kubernetes extentions을 설치하면 아래 위치에 tools이 설치됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본적으로 kubernetes extentions을 설치하면 아래 위치에 tools이 설치됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112275393-e8127580-8cc2-11eb-992a-69fcfddaa45c.JPG\" alt=\"1231211\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"해당-위치의-환경변수-설정이-자동으로-되지-않아-이슈가-발생\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EB%8B%B9-%EC%9C%84%EC%B9%98%EC%9D%98-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%84%A4%EC%A0%95%EC%9D%B4-%EC%9E%90%EB%8F%99%EC%9C%BC%EB%A1%9C-%EB%90%98%EC%A7%80-%EC%95%8A%EC%95%84-%EC%9D%B4%EC%8A%88%EA%B0%80-%EB%B0%9C%EC%83%9D\" aria-label=\"해당 위치의 환경변수 설정이 자동으로 되지 않아 이슈가 발생 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해당 위치의 환경변수 설정이 자동으로 되지 않아 이슈가 발생.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112275708-37f13c80-8cc3-11eb-8ae8-0aafe3abefcf.png\" alt=\"MicrosoftTeams-image\"></p>\n<ul>\n<li>위처럼 window cmd console 에서도 kubectl 명령이 먹지 않습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"window-10-고급-시스템-설정---환경변수에서-code-classlanguage-textpathcode에-해당-경로를-추가해줍니다\" style=\"position:relative;\"><a href=\"#window-10-%EA%B3%A0%EA%B8%89-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EC%A0%95---%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98%EC%97%90%EC%84%9C-code-classlanguage-textpathcode%EC%97%90-%ED%95%B4%EB%8B%B9-%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EC%B6%94%EA%B0%80%ED%95%B4%EC%A4%8D%EB%8B%88%EB%8B%A4\" aria-label=\"window 10 고급 시스템 설정   환경변수에서 code classlanguage textpathcode에 해당 경로를 추가해줍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>[window 10] 고급 시스템 설정 -> 환경변수에서 <code class=\"language-text\">path</code>에 해당 경로를 추가해줍니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112276007-8f8fa800-8cc3-11eb-95e0-d96b91f86000.JPG\" alt=\"1112211211\"></p>\n<ul>\n<li>적용하고 나오기  </li>\n</ul>\n<br/>\n</li>\n<li>\n<h4 id=\"이제-window-cmd--vscode-terminer에서-모두-kubectl이-사용-가능합니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%9C-window-cmd--vscode-terminer%EC%97%90%EC%84%9C-%EB%AA%A8%EB%91%90-kubectl%EC%9D%B4-%EC%82%AC%EC%9A%A9-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"이제 window cmd  vscode terminer에서 모두 kubectl이 사용 가능합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이제 window cmd , vscode terminer에서 모두 kubectl이 사용 가능합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112276186-cebdf900-8cc3-11eb-8043-bc2bbf6d9fc0.JPG\" alt=\"44444\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h3 id=\"이미-설치된-kubectl-말고도-바이너리를-설치-할-수도-있습니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%AF%B8-%EC%84%A4%EC%B9%98%EB%90%9C-kubectl-%EB%A7%90%EA%B3%A0%EB%8F%84-%EB%B0%94%EC%9D%B4%EB%84%88%EB%A6%AC%EB%A5%BC-%EC%84%A4%EC%B9%98-%ED%95%A0-%EC%88%98%EB%8F%84-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"이미 설치된 kubectl 말고도 바이너리를 설치 할 수도 있습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이미 설치된 kubectl 말고도 바이너리를 설치 할 수도 있습니다.</h3>\n<ul>\n<li>\n<p><a href=\"https://kubernetes.io/ko/docs/tasks/tools/install-kubectl-windows/\">가이드</a>  </p>\n<br/>\n<p>설치 방법은 다음과 같습니다.  </p>\n<br/>\n<ul>\n<li>\n<ol>\n<li>curl로 kubectl 바이너리 설치  </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">curl <span class=\"token operator\">-</span><span class=\"token class-name\">LO</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>dl<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>release<span class=\"token operator\">/</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">20.0</span><span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>windows<span class=\"token operator\">/</span>amd64<span class=\"token operator\">/</span>kubectl<span class=\"token punctuation\">.</span>exe</code></pre></div>\n<br/>\n</li>\n<li>\n<ol start=\"2\">\n<li>바이너리 검증  </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">### checksum file download </span>\n\ncurl <span class=\"token operator\">-</span><span class=\"token class-name\">LO</span> https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>dl<span class=\"token punctuation\">.</span>k8s<span class=\"token punctuation\">.</span>io<span class=\"token operator\">/</span>v1<span class=\"token punctuation\">.</span><span class=\"token number\">20.0</span><span class=\"token operator\">/</span>bin<span class=\"token operator\">/</span>windows<span class=\"token operator\">/</span>amd64<span class=\"token operator\">/</span>kubectl<span class=\"token punctuation\">.</span>exe<span class=\"token punctuation\">.</span>sha256</code></pre></div>\n<br/>\n</li>\n<li>\n<ol start=\"3\">\n<li>checksum file로 검증  </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">CertUtil <span class=\"token operator\">-</span>hashfile kubectl<span class=\"token punctuation\">.</span>exe SHA256\ntype kubectl<span class=\"token punctuation\">.</span>exe<span class=\"token punctuation\">.</span>sha256</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">### 점검 결과 동일</span>\nC<span class=\"token punctuation\">:</span>\\Users\\USER<span class=\"token operator\">></span>CertUtil <span class=\"token operator\">-</span>hashfile kubectl<span class=\"token punctuation\">.</span>exe SHA256                                                                                                                                                                                   SHA256의 kubectl<span class=\"token punctuation\">.</span>exe 해시<span class=\"token punctuation\">:</span>                                                                                                                                                                                                            <span class=\"token class-name\">ee7be8e93349fb0fd1db7f5cdb5985f5698cef69b7b7be012fc0e6bed06b254d</span>                                                                                                                                                                      CertUtil<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span>hashfile 명령이 성공적으로 완료되었습니다<span class=\"token punctuation\">.</span>                                                                                                                                                                                                                                                                                                                                                                                                                       C<span class=\"token punctuation\">:</span>\\Users\\USER<span class=\"token operator\">></span>type kubectl<span class=\"token punctuation\">.</span>exe<span class=\"token punctuation\">.</span>sha256                                                                                                                                                                                                 <span class=\"token class-name\">ee7be8e93349fb0fd1db7f5cdb5985f5698cef69b7b7be012fc0e6bed06b254d</span>                                                                                                                                                                      C<span class=\"token punctuation\">:</span>\\Users\\USER<span class=\"token operator\">></span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<ol start=\"4\">\n<li>kubectl version 확인 </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">C<span class=\"token punctuation\">:</span>\\Users\\USER<span class=\"token operator\">></span>kubectl version <span class=\"token operator\">--</span>client\n<span class=\"token class-name\">Client</span> Version<span class=\"token punctuation\">:</span> version<span class=\"token punctuation\">.</span>Info<span class=\"token punctuation\">{</span>Major<span class=\"token punctuation\">:</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">Minor</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"20\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">GitVersion</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"v1.20.0\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">GitCommit</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"af46c47ce925f4c4ad5cc8d1fca46c7b77d13b38\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">GitTreeState</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"clean\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">BuildDate</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"2020-12-08T17:59:43Z\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">GoVersion</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"go1.15.5\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">Compiler</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"gc\"</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">Platform</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"windows/amd64\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<ul>\n<li>\n<h4 id=\"환경변수-설정-후-동일하게-진행했지만-이번엔-다른-에러가-발생합니다\" style=\"position:relative;\"><a href=\"#%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%84%A4%EC%A0%95-%ED%9B%84-%EB%8F%99%EC%9D%BC%ED%95%98%EA%B2%8C-%EC%A7%84%ED%96%89%ED%96%88%EC%A7%80%EB%A7%8C-%EC%9D%B4%EB%B2%88%EC%97%94-%EB%8B%A4%EB%A5%B8-%EC%97%90%EB%9F%AC%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"환경변수 설정 후 동일하게 진행했지만 이번엔 다른 에러가 발생합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>환경변수 설정 후 동일하게 진행했지만 이번엔 다른 에러가 발생합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112276614-49871400-8cc4-11eb-868e-0a7db41a3c2d.png\" alt=\"KakaoTalk_20210324_164952086\"></p>\n<ul>\n<li>해당 경로에는 한글이나 깨질만한 언어로 생성된 것이 없었습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"그래서-vscode-kubenetes-extentions의-config-설정을-확인하니\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-vscode-kubenetes-extentions%EC%9D%98-config-%EC%84%A4%EC%A0%95%EC%9D%84-%ED%99%95%EC%9D%B8%ED%95%98%EB%8B%88\" aria-label=\"그래서 vscode kubenetes extentions의 config 설정을 확인하니 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 vscode kubenetes extentions의 config 설정을 확인하니</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112277112-c31f0200-8cc4-11eb-88df-e5b269b0b0d1.JPG\" alt=\"캡처444444\"></p>\n<ul>\n<li>다음과 같이 settings.json이라는 file로 관리되고 있었습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"해당-settingsjson-file은-실제-extentions-설정의-값을-그대로-반영합니다\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EB%8B%B9-settingsjson-file%EC%9D%80-%EC%8B%A4%EC%A0%9C-extentions-%EC%84%A4%EC%A0%95%EC%9D%98-%EA%B0%92%EC%9D%84-%EA%B7%B8%EB%8C%80%EB%A1%9C-%EB%B0%98%EC%98%81%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"해당 settingsjson file은 실제 extentions 설정의 값을 그대로 반영합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해당 settings.json file은 실제 extentions 설정의 값을 그대로 반영합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112277273-ee095600-8cc4-11eb-98b2-0dd559b6f7b7.JPG\" alt=\"캡처55555\"></p>\n<ul>\n<li>그러나 다음과 같이 main path로 등록이 될 부분들은 빈칸이 되어야 했습니다.  </li>\n<li>저의 경우에는 해당 칸들이 자동으로 undefined로 채워져 있었습니다.  </li>\n<li>또한 이미 undefined로 채워져 있었을 경우 이후 빈칸으로 만든 뒤 저장을해도 setting.json 파일에서는 인식이 안되는 이슈가 있습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"그래서-저는-settingsjson-file을-직접-수정했습니다\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%A0%80%EB%8A%94-settingsjson-file%EC%9D%84-%EC%A7%81%EC%A0%91-%EC%88%98%EC%A0%95%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"그래서 저는 settingsjson file을 직접 수정했습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그래서 저는 settings.json file을 직접 수정했습니다.</h4>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token preprocessor property\">## 해당 부분이 helm이나 kubectl들의 main 바이너리 위치를 읽는 부분입니다.</span>\n\n<span class=\"token string\">\"vs-kubernetes\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token string\">\"vscode-kubernetes.helm-path.windows\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"C:\\\\Users\\\\USER\\\\.vs-kubernetes\\\\tools\\\\helm\\\\windows-amd64\\\\helm.exe\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"vscode-kubernetes.minikube-path.windows\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"C:\\\\Users\\\\USER\\\\.vs-kubernetes\\\\tools\\\\minikube\\\\windows-amd64\\\\minikube.exe\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token string\">\"vs-kubernetes.kubeconfig\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"undefined\"</span><span class=\"token punctuation\">,</span>    <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span> 지정하지 않고 undefined 로 둬야함\n<span class=\"token string\">\"vscode-kubernetes.kubectl-path.windows\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"C:\\\\Users\\\\USER\\\\.vs-kubernetes\\\\tools\\\\kubectl\\\\kubectl.exe\"</span>  <span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span> 해당 환경 변수 문을 추가\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"위-까지-모든-설정을-완료했으면-가이드-대로-aks-연결-시-정상-연결됩니다\" style=\"position:relative;\"><a href=\"#%EC%9C%84-%EA%B9%8C%EC%A7%80-%EB%AA%A8%EB%93%A0-%EC%84%A4%EC%A0%95%EC%9D%84-%EC%99%84%EB%A3%8C%ED%96%88%EC%9C%BC%EB%A9%B4-%EA%B0%80%EC%9D%B4%EB%93%9C-%EB%8C%80%EB%A1%9C-aks-%EC%97%B0%EA%B2%B0-%EC%8B%9C-%EC%A0%95%EC%83%81-%EC%97%B0%EA%B2%B0%EB%90%A9%EB%8B%88%EB%8B%A4\" aria-label=\"위 까지 모든 설정을 완료했으면 가이드 대로 aks 연결 시 정상 연결됩니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>위 까지 모든 설정을 완료했으면 가이드 대로 AKS 연결 시 정상 연결됩니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112278060-c23aa000-8cc5-11eb-8b3a-623f0f11f9ca.JPG\" alt=\"222313121\"></p>\n<ul>\n<li>그럼 위처럼 vscode &#x3C;-> aks cluster가 직접 연결되어 환경관리나 배포가 가능합니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<h3 id=\"추가-이슈-발생--cluster는-연결이되나-명령어-실행이-되지-않음\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80-%EC%9D%B4%EC%8A%88-%EB%B0%9C%EC%83%9D--cluster%EB%8A%94-%EC%97%B0%EA%B2%B0%EC%9D%B4%EB%90%98%EB%82%98-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%8B%A4%ED%96%89%EC%9D%B4-%EB%90%98%EC%A7%80-%EC%95%8A%EC%9D%8C\" aria-label=\"추가 이슈 발생  cluster는 연결이되나 명령어 실행이 되지 않음 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가 이슈 발생 : Cluster는 연결이되나 명령어 실행이 되지 않음</h3>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112402848-a03a2f80-8d50-11eb-8e70-eee856ff7a16.JPG\" alt=\"캡처\"></p>\n<ul>\n<li>사실 ERROR만 봐도 알 수 있는 error 입니다. </li>\n<li>위의 Settings.json File에서 Config File의 위치를 지정해야함  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"저의-최종-settingsjson-file은-다음과-같습니다\" style=\"position:relative;\"><a href=\"#%EC%A0%80%EC%9D%98-%EC%B5%9C%EC%A2%85-settingsjson-file%EC%9D%80-%EB%8B%A4%EC%9D%8C%EA%B3%BC-%EA%B0%99%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"저의 최종 settingsjson file은 다음과 같습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>저의 최종 Settings.json File은 다음과 같습니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403164-425a1780-8d51-11eb-8132-c792deee9559.JPG\" alt=\"캡처2\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"간단한-테스트-yaml을-하나-생성해서-배포해보겠습니다\" style=\"position:relative;\"><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8-yaml%EC%9D%84-%ED%95%98%EB%82%98-%EC%83%9D%EC%84%B1%ED%95%B4%EC%84%9C-%EB%B0%B0%ED%8F%AC%ED%95%B4%EB%B3%B4%EA%B2%A0%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"간단한 테스트 yaml을 하나 생성해서 배포해보겠습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>간단한 테스트 Yaml을 하나 생성해서 배포해보겠습니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403390-aa106280-8d51-11eb-97f5-f91408e8fa4d.JPG\" alt=\"캡처3\"></p>\n<br/>\n</li>\n<li>\n<h4 id=\"vscode에서-yaml-작성-후-shift--ctrl--p-입력-후-create로-배포\" style=\"position:relative;\"><a href=\"#vscode%EC%97%90%EC%84%9C-yaml-%EC%9E%91%EC%84%B1-%ED%9B%84-shift--ctrl--p-%EC%9E%85%EB%A0%A5-%ED%9B%84-create%EB%A1%9C-%EB%B0%B0%ED%8F%AC\" aria-label=\"vscode에서 yaml 작성 후 shift  ctrl  p 입력 후 create로 배포 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>vscode에서 yaml 작성 후 Shift + Ctrl + P 입력 후 Create로 배포</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403539-ef349480-8d51-11eb-9239-54a97f38e4fc.JPG\" alt=\"캡처4\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"실제-연결된-cluster의-pod-목록에서도-확인히-가능합니다\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%A0%9C-%EC%97%B0%EA%B2%B0%EB%90%9C-cluster%EC%9D%98-pod-%EB%AA%A9%EB%A1%9D%EC%97%90%EC%84%9C%EB%8F%84-%ED%99%95%EC%9D%B8%ED%9E%88-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"실제 연결된 cluster의 pod 목록에서도 확인히 가능합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실제 연결된 Cluster의 pod 목록에서도 확인히 가능합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403663-2b67f500-8d52-11eb-9b83-57a2646d5bc9.JPG\" alt=\"캡처5\"></p>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<h4 id=\"또한-명령어로-입력하지-않고-클릭으로만-확인이-가능합니다\" style=\"position:relative;\"><a href=\"#%EB%98%90%ED%95%9C-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C-%EC%9E%85%EB%A0%A5%ED%95%98%EC%A7%80-%EC%95%8A%EA%B3%A0-%ED%81%B4%EB%A6%AD%EC%9C%BC%EB%A1%9C%EB%A7%8C-%ED%99%95%EC%9D%B8%EC%9D%B4-%EA%B0%80%EB%8A%A5%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"또한 명령어로 입력하지 않고 클릭으로만 확인이 가능합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>또한 명령어로 입력하지 않고 클릭으로만 확인이 가능합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/112403794-6c600980-8d52-11eb-895e-872580f22dea.JPG\" alt=\"캡처6\"></p>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며…</h2>\n<p>환경변수의 문제의 경우 제 노트북 환경에서만 발생한 문제라 (검색해도 나오질 않음)<br>\n꽤나 애를 먹었습니다. 결국은 하루를 사용해서 잘 해결하긴 했지만 돌이켜보면<br>\n충분히 가지고 있는 지식만으로 1~2시간 내에 해결 할 수 있었던 문제 인 것 같습니다.<br>\n다음에는 연결된 aks에 kafka를 구동시키는 포스트로 뵙겠습니다.  </p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-preview--vscode%EB%A1%9C-k8s%EB%A5%BC-%EA%B4%80%EB%A6%AC%ED%95%9C%EB%8B%A4%EB%A9%B4\">✔ Preview : VSCODE로 k8s를 관리한다면?</a></p>\n<ul>\n<li><a href=\"#%EA%B7%B8%EB%83%A5-%EA%B2%81%EB%82%98-%ED%8E%B8%ED%95%98%EB%8B%A4\">그냥 겁나 편하다</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-aks-%EA%B5%AC%EC%84%B1\">✌ AKS 구성</a></p>\n<ul>\n<li><a href=\"#vscode-kubernetes-extentions-%EC%82%AC%EC%9A%A9\">VSCODE Kubernetes extentions 사용</a></li>\n<li><a href=\"#extentions-%EC%97%90-aks-%EC%97%B0%EA%B2%B0%ED%95%98%EA%B8%B0\">Extentions 에 AKS 연결하기</a></li>\n<li><a href=\"#%EC%9D%B4%EB%AF%B8-%EC%84%A4%EC%B9%98%EB%90%9C-kubectl-%EB%A7%90%EA%B3%A0%EB%8F%84-%EB%B0%94%EC%9D%B4%EB%84%88%EB%A6%AC%EB%A5%BC-%EC%84%A4%EC%B9%98-%ED%95%A0-%EC%88%98%EB%8F%84-%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4\">이미 설치된 kubectl 말고도 바이너리를 설치 할 수도 있습니다.</a></li>\n</ul>\n</li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며…</a></li>\n</ul>\n</div>","frontmatter":{"date":"August 19, 2021","title":"[AZURE] VSCODE로 Cloud PaaS k8s (AKS) 관리하기","categories":"CLOUD","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/azure-aksconnect/"}},"prev":{"id":"d7e3e240-ef5e-5891-af05-6c06162c25f1","html":"<p>머리말  </p>\n<p>요즘 포스트를 작성 할 시간이 부족했습니다…(일…) 그래서 오랜만에 포스트를 올린 기념으로 이번 내용을 더욱 알차게 준비했습니다.<br>\n이번 포스트에서는 GCP의 DataFlow를 사용해 GCS에 있는 CSV 파일을 간단한 Parsing 작업을 한 뒤<br>\nBigQuery Table에 적재하는 부분을 다뤘습니다. 물론 파이썬을 첨가해서  </p>\n<br/>\n<hr>\n<h2 id=\"-dataflow에-대해서\" style=\"position:relative;\"><a href=\"#-dataflow%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\" aria-label=\" dataflow에 대해서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✔ DataFlow에 대해서..</h2>\n<p>DataFlow는 GCP에서 DataPipeline(ETL, MR 등)을 Apache Beam 기반으로 동작하도록 만든 Runtime Service 입니다.<br>\n음 간단하게 말하면 Spark Streming이나 Batch 처리를 Cloud를 사용해 PaaS로 사용 가능합니다.<br>\n단 Apache beam에 종속되어 있어서 beam SDK를 봐야하는 불편한 부분은 있습니다..   </p>\n<br/>\n<ul>\n<li>\n<p>일단 이번 포스트에서 간단하게 구성하려고 하는 아키텍쳐는 다음과 같습니다. </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/116188577-9bf39e80-a762-11eb-8d0a-ad2989bbaa14.JPG\" alt=\"캡처\"></p>\n<ul>\n<li>Batch 형태의 Data [CSV]를 GCS에 Upload하면 해당 File Parsing 후 DW에 적재. </li>\n</ul>\n<br/>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"-dataflow-사용을-위한-환경-구성\" style=\"position:relative;\"><a href=\"#-dataflow-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1\" aria-label=\" dataflow 사용을 위한 환경 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>✌ DataFlow 사용을 위한 환경 구성</h2>\n<p>저는 Local의 VScode에서 Code를 사용 할 것이기 때문에<br>\nDataFlow 사용하기 위한 환경을 구성하는 것부터 진행하도록 하겠습니다. </p>\n<br/>\n<ul>\n<li>\n<h4 id=\"dataflow를-사용하기-위해서는-아래-api들이-필요합니다-추가해줍니다\" style=\"position:relative;\"><a href=\"#dataflow%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%B4%EC%84%9C%EB%8A%94-%EC%95%84%EB%9E%98-api%EB%93%A4%EC%9D%B4-%ED%95%84%EC%9A%94%ED%95%A9%EB%8B%88%EB%8B%A4-%EC%B6%94%EA%B0%80%ED%95%B4%EC%A4%8D%EB%8B%88%EB%8B%A4\" aria-label=\"dataflow를 사용하기 위해서는 아래 api들이 필요합니다 추가해줍니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DataFlow를 사용하기 위해서는 아래 API들이 필요합니다. [추가해줍니다.]</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/113811074-806e2700-97a6-11eb-9e4b-384907be0558.JPG\" alt=\"캡처2\"></p>\n<p>설치 API 목록</p>\n<ul>\n<li>Cloud Dataflow</li>\n<li>Stackdriver</li>\n<li>Cloud Storage</li>\n<li>Cloud Storage JSON</li>\n<li>BigQuery</li>\n<li>Cloud Pub/Sub</li>\n<li>Cloud Datastore</li>\n<li>Cloud Resource Manager APIs</li>\n</ul>\n<br/>\n<br/>\n</li>\n<li>\n<h4 id=\"이후-새로운-service-account를-생성합니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%ED%9B%84-%EC%83%88%EB%A1%9C%EC%9A%B4-service-account%EB%A5%BC-%EC%83%9D%EC%84%B1%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"이후 새로운 service account를 생성합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이후 새로운 Service Account를 생성합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/113811448-30439480-97a7-11eb-9a42-4e8425375130.JPG\" alt=\"캡처3\"></p>\n<ul>\n<li>권한 : 소유자  </li>\n<li>\n<p>KeyFile : Json  </p>\n<ul>\n<li>KeyFilw을 Local로 받아놔야 합니다!</li>\n</ul>\n</li>\n</ul>\n<br/> \n<br/>\n</li>\n<li>\n<h4 id=\"이제-gcsgoogle-cloud-storage를-생성합니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%9C-gcsgoogle-cloud-storage%EB%A5%BC-%EC%83%9D%EC%84%B1%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"이제 gcsgoogle cloud storage를 생성합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이제 GCS(Google Cloud Storage)를 생성합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/113811803-d68f9a00-97a7-11eb-8cc0-0d6463f8a42b.JPG\" alt=\"캡처4\"></p>\n<ul>\n<li>Storage Class : Standard</li>\n<li>\n<p>Single Region </p>\n<ul>\n<li>가급적이면 비용적으로라도 BigQuery를 사용 할 Region과 맞춰주세요!</li>\n</ul>\n</li>\n</ul>\n<br/>\n<br/>\n</li>\n<li>\n<h4 id=\"최종적으로-data를-적재-할-bigquery-dataset을-생성합니다\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%A2%85%EC%A0%81%EC%9C%BC%EB%A1%9C-data%EB%A5%BC-%EC%A0%81%EC%9E%AC-%ED%95%A0-bigquery-dataset%EC%9D%84-%EC%83%9D%EC%84%B1%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"최종적으로 data를 적재 할 bigquery dataset을 생성합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>최종적으로 Data를 적재 할 Bigquery DataSet을 생성합니다.</h4>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/116189103-6dc28e80-a763-11eb-88f6-1a8e49ea32b8.JPG\" alt=\"캡처2\"></p>\n<ul>\n<li>BigQuery Project : lws-cloocus</li>\n<li>BigQuery DataSet : Test </li>\n</ul>\n</li>\n</ul>\n<p>자 여기까지 간단한 환경설정은 완료되었고 Code를 설명하면서 추가적으로 보겠습니다.  </p>\n<br/>\n<hr>\n<h2 id=\"-python-code-a-namea1a\" style=\"position:relative;\"><a href=\"#-python-code-a-namea1a\" aria-label=\" python code a namea1a permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👍 python code <a name=\"a1\"></a></h2>\n<ul>\n<li>\n<p>최종적인 DataPipeline의 Python Code 입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> __future__ <span class=\"token keyword\">import</span> absolute_import\n<span class=\"token keyword\">import</span> argparse\n<span class=\"token keyword\">import</span> logging\n<span class=\"token keyword\">import</span> re\n<span class=\"token keyword\">import</span> apache_beam <span class=\"token keyword\">as</span> beam\n<span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> os\n\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> ReadFromText\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> WriteToText\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>metrics <span class=\"token keyword\">import</span> Metrics\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>pipeline_options <span class=\"token keyword\">import</span> PipelineOptions\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>pipeline_options <span class=\"token keyword\">import</span> SetupOptions\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>pipeline_options <span class=\"token keyword\">import</span> StandardOptions\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>pipeline_options <span class=\"token keyword\">import</span> GoogleCloudOptions\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>pipeline <span class=\"token keyword\">import</span> PipelineOptions\n<span class=\"token keyword\">from</span> google<span class=\"token punctuation\">.</span>cloud <span class=\"token keyword\">import</span> storage\n<span class=\"token keyword\">from</span> google<span class=\"token punctuation\">.</span>oauth2 <span class=\"token keyword\">import</span> service_account\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n\n\n<span class=\"token comment\"># GCP Service Account Key env 윈도우에서는 환경변수로 설정가능</span>\nstorage_client <span class=\"token operator\">=</span> storage<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">.</span>                            from_service_account_json                                                   <span class=\"token punctuation\">(</span><span class=\"token string\">'C:\\GCP\\lws-cloocus-d4fde98375c7.json'</span><span class=\"token punctuation\">)</span>\n    \n\n<span class=\"token comment\"># for linux \"service account key\" </span>\n\n<span class=\"token comment\">#GOOGLE_APPLICATION_CREDENTIALS('/home/nasa1515/dataflow/lwskey.json')</span>\n\n<span class=\"token comment\"># word length code</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">WordExtractingDoFn</span><span class=\"token punctuation\">(</span>beam<span class=\"token punctuation\">.</span>DoFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">process</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    \n    splited <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span>\n    writestring <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">:</span> splited<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'price'</span><span class=\"token punctuation\">:</span> splited<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'manufacturer'</span><span class=\"token punctuation\">:</span> splited<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'condition'</span><span class=\"token punctuation\">:</span> splited<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">#writestring = {'splited[0], splited[1], splited[2], splited[3]'}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>writestring<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># parser option code</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>argv<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> save_main_session<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\nparser <span class=\"token operator\">=</span> argparse<span class=\"token punctuation\">.</span>ArgumentParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nparser<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'--input'</span><span class=\"token punctuation\">,</span>dest<span class=\"token operator\">=</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">,</span>required<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">'default'</span>\n    <span class=\"token punctuation\">,</span>default<span class=\"token operator\">=</span><span class=\"token string\">'gs://storage_nasa1515/data/batch2.csv'</span><span class=\"token punctuation\">)</span>\nparser<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'--output'</span><span class=\"token punctuation\">,</span>dest<span class=\"token operator\">=</span><span class=\"token string\">'output'</span><span class=\"token punctuation\">,</span>required<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">'default'</span>\n    <span class=\"token punctuation\">,</span>default<span class=\"token operator\">=</span><span class=\"token string\">'lws-cloocus:nasa1515.batchtest'</span><span class=\"token punctuation\">)</span>\n\nknown_args<span class=\"token punctuation\">,</span> pipeline_args <span class=\"token operator\">=</span> parser<span class=\"token punctuation\">.</span>parse_known_args<span class=\"token punctuation\">(</span>argv<span class=\"token punctuation\">)</span>\npipeline_options <span class=\"token operator\">=</span> PipelineOptions<span class=\"token punctuation\">(</span>pipeline_args<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># pipline option</span>\n\ngoogle_cloud_options <span class=\"token operator\">=</span> pipeline_options<span class=\"token punctuation\">.</span>view_as<span class=\"token punctuation\">(</span>GoogleCloudOptions<span class=\"token punctuation\">)</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>project <span class=\"token operator\">=</span> <span class=\"token string\">'lws-cloocus'</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>job_name <span class=\"token operator\">=</span> <span class=\"token string\">'test-to-big'</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>staging_location <span class=\"token operator\">=</span> <span class=\"token string\">'gs://storage_nasa1515/staging'</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>temp_location <span class=\"token operator\">=</span> <span class=\"token string\">'gs://storage_nasa1515/temp'</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>region <span class=\"token operator\">=</span> <span class=\"token string\">'asia-northeast3'</span>\npipeline_options<span class=\"token punctuation\">.</span>view_as<span class=\"token punctuation\">(</span>StandardOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>runner <span class=\"token operator\">=</span> <span class=\"token string\">'DataflowRunner'</span>\n\n\n<span class=\"token comment\"># # test1</span>\n\np <span class=\"token operator\">=</span> beam<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">(</span>options <span class=\"token operator\">=</span> PipelineOptions<span class=\"token punctuation\">(</span>pipeline_args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">with</span> beam<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">(</span>options<span class=\"token operator\">=</span>pipeline_options<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> p<span class=\"token punctuation\">:</span>\n\n    table_schema <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'fields'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"STRING\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"mode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"NULLABLE\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> \n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"price\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"INTEGER\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"mode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"NULLABLE\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"manufacturer\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"STRING\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"mode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"NULLABLE\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"condition\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"STRING\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"mode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"NULLABLE\"</span><span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token punctuation\">(</span>p \n        <span class=\"token operator\">|</span> <span class=\"token string\">'Read Data'</span> <span class=\"token operator\">>></span> ReadFromText<span class=\"token punctuation\">(</span>known_args<span class=\"token punctuation\">.</span><span class=\"token builtin\">input</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token operator\">|</span> beam<span class=\"token punctuation\">.</span>ParDo<span class=\"token punctuation\">(</span>WordExtractingDoFn<span class=\"token punctuation\">(</span>WordExtractingDoFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">|</span> <span class=\"token string\">'write to BigQuery'</span> <span class=\"token operator\">>></span> beam<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>WriteToBigQuery<span class=\"token punctuation\">(</span>\n            known_args<span class=\"token punctuation\">.</span>output<span class=\"token punctuation\">,</span>\n            schema <span class=\"token operator\">=</span> table_schema<span class=\"token punctuation\">,</span>\n            method<span class=\"token operator\">=</span>beam<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>WriteToBigQuery<span class=\"token punctuation\">.</span>Method<span class=\"token punctuation\">.</span>FILE_LOADS<span class=\"token punctuation\">,</span>\n            create_disposition <span class=\"token operator\">=</span> beam<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>BigQueryDisposition<span class=\"token punctuation\">.</span>CREATE_IF_NEEDED<span class=\"token punctuation\">,</span>\n            write_disposition <span class=\"token operator\">=</span> beam<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>BigQueryDisposition<span class=\"token punctuation\">.</span>WRITE_TRUNCATE\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n\nresult <span class=\"token operator\">=</span> p<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nresult<span class=\"token punctuation\">.</span>wait_until_finish<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    logging<span class=\"token punctuation\">.</span>getLogger<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>setLevel<span class=\"token punctuation\">(</span>logging<span class=\"token punctuation\">.</span>INFO<span class=\"token punctuation\">)</span>\n    run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>기본적으로 GCP DataFlow에서 beam SDK를 사용하기 위해선 아래 SDK의 설치가 필요합니다. </p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\">pip install apache<span class=\"token operator\">-</span>beam<span class=\"token punctuation\">[</span>gcp<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>SDK 선언 코드 </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> __future__ <span class=\"token keyword\">import</span> absolute_import\n<span class=\"token keyword\">import</span> argparse\n<span class=\"token keyword\">import</span> logging\n<span class=\"token keyword\">import</span> re\n<span class=\"token keyword\">import</span> apache_beam <span class=\"token keyword\">as</span> beam\n<span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> ReadFromText\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>io <span class=\"token keyword\">import</span> WriteToText\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>metrics <span class=\"token keyword\">import</span> Metrics\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>pipeline_options <span class=\"token keyword\">import</span> PipelineOptions\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>pipeline_options <span class=\"token keyword\">import</span> SetupOptions\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>pipeline_options <span class=\"token keyword\">import</span> StandardOptions\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>pipeline_options <span class=\"token keyword\">import</span> GoogleCloudOptions\n<span class=\"token keyword\">from</span> apache_beam<span class=\"token punctuation\">.</span>pipeline <span class=\"token keyword\">import</span> PipelineOptions\n<span class=\"token keyword\">from</span> google<span class=\"token punctuation\">.</span>cloud <span class=\"token keyword\">import</span> storage\n<span class=\"token keyword\">from</span> google<span class=\"token punctuation\">.</span>oauth2 <span class=\"token keyword\">import</span> service_account</code></pre></div>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>권한을 얻기 위한 코드 </p>\n<p>아까 Service Account를 생성하며 발급 받았던 Key의 위치를 선언해줍니다.<br>\nWindow/Linux 모두 환경변수로 GOOGLE<em>APPLICATION</em>CREDENTIALS 설정하면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># GCP Service Account Key env</span>\nstorage_client <span class=\"token operator\">=</span> storage<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">.</span>from_service_account_json<span class=\"token punctuation\">(</span><span class=\"token string\">'C:\\GCP\\lws-cloocus-d4fde98375c7.json'</span><span class=\"token punctuation\">)</span>\n    \n\n<span class=\"token comment\"># for linux/window \"service account key\" </span>\n\n<span class=\"token comment\">#GOOGLE_APPLICATION_CREDENTIALS('/home/nasa1515/dataflow/lwskey.json')</span></code></pre></div>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>파이프라인 설정 코드</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">## ,으로 구분된 CSV File을 Bigquery가 인식하는 ,으로 구분된 Json File로 변환하는 코드</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">WordExtractingDoFn</span><span class=\"token punctuation\">(</span>beam<span class=\"token punctuation\">.</span>DoFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">process</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    \n    splited <span class=\"token operator\">=</span> element<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span>\n    writestring <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">:</span> splited<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'price'</span><span class=\"token punctuation\">:</span> splited<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'manufacturer'</span><span class=\"token punctuation\">:</span> splited<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'condition'</span><span class=\"token punctuation\">:</span> splited<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">#writestring = {'splited[0], splited[1], splited[2], splited[3]'}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>writestring<span class=\"token punctuation\">]</span>\n\n\n<span class=\"token comment\">## pasing 할 데이터를 가져오고 write 할 Bigquery에 대한 정보들을 입력</span>\n\n<span class=\"token comment\"># parser option code</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>argv<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> save_main_session<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\nparser <span class=\"token operator\">=</span> argparse<span class=\"token punctuation\">.</span>ArgumentParser<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nparser<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'--input'</span><span class=\"token punctuation\">,</span>dest<span class=\"token operator\">=</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">,</span>required<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">'default'</span>\n    <span class=\"token punctuation\">,</span>default<span class=\"token operator\">=</span><span class=\"token string\">'gs://storage_nasa1515/data/batch2.csv'</span><span class=\"token punctuation\">)</span>\nparser<span class=\"token punctuation\">.</span>add_argument<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'--output'</span><span class=\"token punctuation\">,</span>dest<span class=\"token operator\">=</span><span class=\"token string\">'output'</span><span class=\"token punctuation\">,</span>required<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span><span class=\"token builtin\">help</span><span class=\"token operator\">=</span><span class=\"token string\">'default'</span>\n    <span class=\"token punctuation\">,</span>default<span class=\"token operator\">=</span><span class=\"token string\">'lws-cloocus:nasa1515.batchtest'</span><span class=\"token punctuation\">)</span>\n\nknown_args<span class=\"token punctuation\">,</span> pipeline_args <span class=\"token operator\">=</span> parser<span class=\"token punctuation\">.</span>parse_known_args<span class=\"token punctuation\">(</span>argv<span class=\"token punctuation\">)</span>\npipeline_options <span class=\"token operator\">=</span> PipelineOptions<span class=\"token punctuation\">(</span>pipeline_args<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># pipline option</span>\n\ngoogle_cloud_options <span class=\"token operator\">=</span> pipeline_options<span class=\"token punctuation\">.</span>view_as<span class=\"token punctuation\">(</span>GoogleCloudOptions<span class=\"token punctuation\">)</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>project <span class=\"token operator\">=</span> <span class=\"token string\">'lws-cloocus'</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>job_name <span class=\"token operator\">=</span> <span class=\"token string\">'test-to-big'</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>staging_location <span class=\"token operator\">=</span> <span class=\"token string\">'gs://storage_nasa1515/staging'</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>temp_location <span class=\"token operator\">=</span> <span class=\"token string\">'gs://storage_nasa1515/temp'</span>\ngoogle_cloud_options<span class=\"token punctuation\">.</span>region <span class=\"token operator\">=</span> <span class=\"token string\">'asia-northeast3'</span>\npipeline_options<span class=\"token punctuation\">.</span>view_as<span class=\"token punctuation\">(</span>StandardOptions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>runner <span class=\"token operator\">=</span> <span class=\"token string\">'DataflowRunner'</span></code></pre></div>\n<ul>\n<li>이부분에서 주요하게 봐야 할 점을 Bigquery가 받아 들일 수 있는 파일의 형식입니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>제가 Pasing 하려고 하는 Batch 성 데이터는 다음과 같습니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/116191285-06a6d900-a767-11eb-8860-ad389d2b7e0f.JPG\" alt=\"캡처\"></p>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>그러나 Bigquery에서는 미리 정의한 Schema 형태의 ,JSON으로만 Data를 Load 할 수 있습니다. </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/116191459-4cfc3800-a767-11eb-9b76-9717d755dfca.JPG\" alt=\"캡처2\"></p>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>만약 해당 Data 형태로 Parsing이 되지 않으면 아래와 같은 Error가 발생하며 Job이 멈춥니다.. </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/116191628-9ea4c280-a767-11eb-8c0c-f78ab7588ad3.png\" alt=\"MicrosoftTeams-image\"></p>\n<ul>\n<li>때문에 위의 자료형대로 형식을 맞춰주는 건 매우 중요합니다..[여기서 뻘짓을 너무 많이했어요..]</li>\n</ul>\n</li>\n</ul>\n<br/>\n<br/>\n<ul>\n<li>\n<p>또한 google<em>cloud</em>options에 GCS의 경로들은 전부 미리 생성되어있어야 합니다. </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/116192136-6487f080-a768-11eb-9054-337c87a348be.JPG\" alt=\"캡처3\"></p>\n<ul>\n<li>staging</li>\n<li>temp </li>\n</ul>\n</li>\n</ul>\n<br/>\n<br/>\n<hr>\n<h2 id=\"-이제-코드에-대한-설명을-이어서-하겠습니다\" style=\"position:relative;\"><a href=\"#-%EC%9D%B4%EC%A0%9C-%EC%BD%94%EB%93%9C%EC%97%90-%EB%8C%80%ED%95%9C-%EC%84%A4%EB%AA%85%EC%9D%84-%EC%9D%B4%EC%96%B4%EC%84%9C-%ED%95%98%EA%B2%A0%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\" 이제 코드에 대한 설명을 이어서 하겠습니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👀 이제 코드에 대한 설명을 이어서 하겠습니다.</h2>\n<ul>\n<li>\n<p>파이프라인 실행 코드 </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">p <span class=\"token operator\">=</span> beam<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">(</span>options <span class=\"token operator\">=</span> PipelineOptions<span class=\"token punctuation\">(</span>pipeline_args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">with</span> beam<span class=\"token punctuation\">.</span>Pipeline<span class=\"token punctuation\">(</span>options<span class=\"token operator\">=</span>pipeline_options<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> p<span class=\"token punctuation\">:</span>\n\n    table_schema <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'fields'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"STRING\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"mode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"NULLABLE\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> \n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"price\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"INTEGER\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"mode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"NULLABLE\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"manufacturer\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"STRING\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"mode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"NULLABLE\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"condition\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"type\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"STRING\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"mode\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"NULLABLE\"</span><span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token punctuation\">(</span>p \n        <span class=\"token operator\">|</span> <span class=\"token string\">'Read Data'</span> <span class=\"token operator\">>></span> ReadFromText<span class=\"token punctuation\">(</span>known_args<span class=\"token punctuation\">.</span><span class=\"token builtin\">input</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token operator\">|</span> beam<span class=\"token punctuation\">.</span>ParDo<span class=\"token punctuation\">(</span>WordExtractingDoFn<span class=\"token punctuation\">(</span>WordExtractingDoFn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">|</span> <span class=\"token string\">'write to BigQuery'</span> <span class=\"token operator\">>></span> beam<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>WriteToBigQuery<span class=\"token punctuation\">(</span>\n            known_args<span class=\"token punctuation\">.</span>output<span class=\"token punctuation\">,</span>\n            schema <span class=\"token operator\">=</span> table_schema<span class=\"token punctuation\">,</span>\n            method<span class=\"token operator\">=</span>beam<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>WriteToBigQuery<span class=\"token punctuation\">.</span>Method<span class=\"token punctuation\">.</span>FILE_LOADS<span class=\"token punctuation\">,</span>\n            create_disposition <span class=\"token operator\">=</span> beam<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>BigQueryDisposition<span class=\"token punctuation\">.</span>CREATE_IF_NEEDED<span class=\"token punctuation\">,</span>\n            write_disposition <span class=\"token operator\">=</span> beam<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span>BigQueryDisposition<span class=\"token punctuation\">.</span>WRITE_TRUNCATE\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n\nresult <span class=\"token operator\">=</span> p<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nresult<span class=\"token punctuation\">.</span>wait_until_finish<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    logging<span class=\"token punctuation\">.</span>getLogger<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>setLevel<span class=\"token punctuation\">(</span>logging<span class=\"token punctuation\">.</span>INFO<span class=\"token punctuation\">)</span>\n    run<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>저는 위처럼 table_schema로 JSON 형태의 Schema를 미리 정의해서 사용했습니다.  </li>\n<li>\n<p>create<em>disposition = beam.io.BigQueryDisposition.CREATE</em>IF_NEEDED</p>\n<ul>\n<li>해당 구문은 BigQuery DataSet에 Table이 없으면 만들어 주는 옵션입니다.  </li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<br/>\n<br/>\n<hr>\n<h2 id=\"-실행-결과\" style=\"position:relative;\"><a href=\"#-%EC%8B%A4%ED%96%89-%EA%B2%B0%EA%B3%BC\" aria-label=\" 실행 결과 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🙌 실행 결과</h2>\n<p>코드가 모두 짜여졌으니 코드를 실행시켜보죠.  </p>\n<br/>\n<ul>\n<li>\n<p>실행하면 다음과 같으 DataFlow Tab에서 결과를 확인 할 수 있습니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/116193716-bcbff200-a76a-11eb-887a-6bf57009c06c.JPG\" alt=\"캡처4\"></p>\n<ul>\n<li>항목마다 어떤 부분을 성공했는지 자세하게 볼 수 있습니다.  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<ul>\n<li>\n<p>DataFlow Job이 성공이니 BigQuery Table을 확인 해 볼까요?  </p>\n<p><img src=\"https://user-images.githubusercontent.com/69498804/116193951-20e2b600-a76b-11eb-8827-666ff168be00.JPG\" alt=\"캡처5\"></p>\n<ul>\n<li>다음과 같이 간단한 쿼리문을 BigQuery에 날려보니 Data가 제대로 들어갔네요!  </li>\n</ul>\n</li>\n</ul>\n<br/>\n<hr>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며…</h2>\n<p>한 2~3일정도 삽질을 경험한 것 같습니다.<br>\n이번에는 Batch 형태의 데이터만 DataFlow를 이용했지만 사실 Streming의 역할이 더 중요합니다.<br>\n그래서 추후에 Pub/Sub과 연동하여 Streming Data를 적재하는 부분도 포스트 하겠습니다.   </p>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#-dataflow%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\">✔ DataFlow에 대해서..</a></li>\n<li><a href=\"#-dataflow-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%9C%84%ED%95%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1\">✌ DataFlow 사용을 위한 환경 구성</a></li>\n<li><a href=\"#-python-code-a-namea1a\">👍 python code <a name=\"a1\"></a></a></li>\n<li><a href=\"#-%EC%9D%B4%EC%A0%9C-%EC%BD%94%EB%93%9C%EC%97%90-%EB%8C%80%ED%95%9C-%EC%84%A4%EB%AA%85%EC%9D%84-%EC%9D%B4%EC%96%B4%EC%84%9C-%ED%95%98%EA%B2%A0%EC%8A%B5%EB%8B%88%EB%8B%A4\">👀 이제 코드에 대한 설명을 이어서 하겠습니다.</a></li>\n<li><a href=\"#-%EC%8B%A4%ED%96%89-%EA%B2%B0%EA%B3%BC\">🙌 실행 결과</a></li>\n<li><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며…</a></li>\n</ul>\n</div>","frontmatter":{"date":"September 02, 2021","title":"[DATA] - GCP DataFlow, csv from GCS to BigQuery With Python","categories":"DATA CLOUD","author":"nasa1515","emoji":"🤦‍♂️"},"fields":{"slug":"/data-gcpdataflow/"}},"site":{"siteMetadata":{"siteUrl":"https://nasa1515.com","comments":{"utterances":{"repo":"nasa1515/nasablog"}}}}},"pageContext":{"slug":"/azure-coludshellerror/","nextSlug":"/azure-aksconnect/","prevSlug":"/data-gcpdataflow/"}},"staticQueryHashes":["1073350324","2938748437"]}