<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.15e079f6d096ad07886e.css" id="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(/static/montserrat-cyrillic-ext-400-normal-a13ef88d6cc2bace52bc1684ecb8823d.woff2) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+0460-052f,U+1c80-1c88,U+20b4,U+2de0-2dff,U+a640-a69f,U+fe2e-fe2f}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(/static/montserrat-cyrillic-400-normal-298b48e6dfdf7ec4ef8907ff8a7182b1.woff2) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+0400-045f,U+0490-0491,U+04b0-04b1,U+2116}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(data:font/woff2;base64,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) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01a0-01a1,U+01af-01b0,U+1ea0-1ef9,U+20ab}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(/static/montserrat-latin-ext-400-normal-97638b9a50d86ae960e84043314bf07a.woff2) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+0100-024f,U+0259,U+1e??,U+2020,U+20a0-20ab,U+20ad-20cf,U+2113,U+2c60-2c7f,U+a720-a7ff}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:url(/static/montserrat-latin-400-normal-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-all-400-normal-7bf99c007acd1baa1f21903b6fda4d65.woff) format("woff");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}a{outline:none;text-decoration:none}body{--background-color:#fff;--primary-text-color:#000;--secondary-text-color:#9e9e9e;--content-text-color:#37352f;--button-background-color:#f3f3f4;--button-text-color:#363f47;--tab-text-color:#6e6d7a;--tab-hover-text-color:#0d0c22;--tab-selected-background-color:rgba(13,12,34,0.05);--bio-link-icon-color:rgba(0,0,0,0.54);--about-link-icon-color:#a8a8a8;--chip-background-color:#f3f3f4;--link-text-color:rgb(55 53 47/70%);--post-card-border-color:rgba(0,0,0,0.12);--markdown-table-even-cell-background-color:#f6f8fa;--markdown-table-border-color:#dfe2e5;--markdown-blockquote-border-color:#dfe2e5;--markdown-border-color:#e1e4e8}body.dark{--background-color:#232326;--primary-text-color:#e6e6e6;--secondary-text-color:#768390;--content-text-color:#e6e6e6;--button-background-color:#444c56;--button-text-color:#363f47;--tab-text-color:#e6e6e6;--tab-hover-text-color:#e6e6e6;--tab-selected-background-color:#373e47;--chip-background-color:#323a42;--bio-link-icon-color:#e6e6e6;--about-link-icon-color:#a8a8a8;--link-text-color:#90b0ec;--post-card-border-color:#363f47;--markdown-table-even-cell-background-color:#2d333b;--markdown-table-border-color:#444c56;--markdown-blockquote-border-color:#4f5864;--markdown-border-color:#e1e4e8}*{-webkit-appearance:none;appearance:none;box-sizing:border-box}html{background:var(--background-color);font-family:Noto Sans KR,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:14px;height:100%;overflow-y:scroll;width:100%}html.transition,html.transition *,html.transition :after,html.transition :before{transition:.42s cubic-bezier(.68,-.55,.27,1.55)!important;transition-delay:0!important}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:var(--background-color);color:var(--primary-text-color);height:100%;margin:0;width:100%;word-break:keep-all}ul{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0;margin-block-end:0;margin-block-start:0;margin-inline-end:0;margin-inline-start:0;padding-inline-start:0}a{color:var(--link-text-color)}.markdown .octicon{fill:currentColor;display:inline-block;vertical-align:text-bottom}.markdown .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown .anchor:focus{outline:none}.markdown h1 .octicon-link,.markdown h2 .octicon-link,.markdown h3 .octicon-link,.markdown h4 .octicon-link,.markdown h5 .octicon-link,.markdown h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown h1:hover .anchor,.markdown h2:hover .anchor,.markdown h3:hover .anchor,.markdown h4:hover .anchor,.markdown h5:hover .anchor,.markdown h6:hover .anchor{text-decoration:none}.markdown h1:hover .anchor .octicon-link,.markdown h2:hover .anchor .octicon-link,.markdown h3:hover .anchor .octicon-link,.markdown h4:hover .anchor .octicon-link,.markdown h5:hover .anchor .octicon-link,.markdown h6:hover .anchor .octicon-link{visibility:visible}.markdown h1:hover .anchor .octicon-link:before,.markdown h2:hover .anchor .octicon-link:before,.markdown h3:hover .anchor .octicon-link:before,.markdown h4:hover .anchor .octicon-link:before,.markdown h5:hover .anchor .octicon-link:before,.markdown h6:hover .anchor .octicon-link:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E");content:" ";display:inline-block;height:16px;width:16px}.markdown{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;word-wrap:break-word;color:var(--content-text-color);font-family:Noto Sans KR,Georama,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;font-weight:500;line-height:1.5}.markdown details{display:block}.markdown summary{display:list-item}.markdown a{background-color:initial}.markdown a:active,.markdown a:hover{outline-width:0}.markdown strong{font-weight:inherit;font-weight:bolder}.markdown h1{margin:.67em 0}.markdown img{border-style:none}.markdown code,.markdown kbd,.markdown pre{font-family:monospace,monospace;font-size:1em}.markdown hr{box-sizing:initial;overflow:visible}.markdown input{font:inherit;margin:0;overflow:visible}.markdown [type=checkbox]{box-sizing:border-box;padding:0}.markdown *{box-sizing:border-box}.markdown input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown a{border-bottom:.05em solid;border-bottom-color:var(--link-text-color);border-left-color:var(--link-text-color);border-right-color:var(--link-text-color);border-top-color:var(--link-text-color);color:var(--link-text-color);text-decoration:none}.markdown a.anchor{border-bottom:none}.markdown strong{font-weight:700}.markdown hr{background:transparent;border-bottom:1px solid var(--markdown-blockquote-border-color);height:0;margin:15px 0;overflow:hidden}.markdown hr:after,.markdown hr:before{content:"";display:table}.markdown hr:after{clear:both}.markdown table{border-collapse:collapse;border-spacing:0}.markdown td,.markdown th{padding:0}.markdown details summary{cursor:pointer}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{margin-bottom:0;margin-top:0}.markdown h1{font-size:32px}.markdown h1,.markdown h2{font-weight:600}.markdown h2{font-size:24px}.markdown h3{font-size:20px}.markdown h3,.markdown h4{font-weight:600}.markdown h4{font-size:16px}.markdown h5{font-size:14px}.markdown h5,.markdown h6{font-weight:600}.markdown h6{font-size:12px}.markdown p{margin-bottom:10px;margin-top:0}.markdown blockquote{margin:0}.markdown ol,.markdown ul{margin-bottom:0;margin-top:0;padding-left:0}.markdown ol ol,.markdown ul ol{list-style-type:lower-roman}.markdown ol ol ol,.markdown ol ul ol,.markdown ul ol ol,.markdown ul ul ol{list-style-type:lower-alpha}.markdown dd{margin-left:0}.markdown code,.markdown pre{font-size:12px}.markdown code,.markdown code.language-text,.markdown pre{font-family:Noto Sans KR,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace}.markdown code.language-text{background:rgba(135,131,120,.15);border-radius:3px;color:#eb5757;font-size:85%;padding:.2em .4em}.markdown pre{margin-bottom:0;margin-top:0}.markdown input::-webkit-inner-spin-button,.markdown input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.markdown :checked+.radio-label{border-color:#0366d6;position:relative;z-index:1}.markdown .border{border:1px solid var(--markdown-border-color)!important}.markdown .border-0{border:0!important}.markdown .border-bottom{border-bottom:1px solid var(--markdown-border-color)!important}.markdown .rounded-1{border-radius:3px!important}.markdown .bg-white{background-color:transparent!important}.markdown .bg-gray-light{background-color:#fafbfc!important}.markdown .text-gray-light{color:#6a737d!important}.markdown .pl-3,.markdown .px-3{padding-left:16px!important}.markdown .px-3{padding-right:16px!important}.markdown .f6{font-size:12px!important}.markdown .lh-condensed{line-height:1.25!important}.markdown .text-bold{font-weight:600!important}.markdown .pl-c{color:#6a737d}.markdown .pl-c1,.markdown .pl-s .pl-v{color:#005cc5}.markdown .pl-e,.markdown .pl-en{color:#6f42c1}.markdown .pl-s .pl-s1,.markdown .pl-smi{color:#24292e}.markdown .pl-ent{color:#22863a}.markdown .pl-k{color:#d73a49}.markdown .pl-pds,.markdown .pl-s,.markdown .pl-s .pl-pse .pl-s1,.markdown .pl-sr,.markdown .pl-sr .pl-cce,.markdown .pl-sr .pl-sra,.markdown .pl-sr .pl-sre{color:#032f62}.markdown .pl-smw,.markdown .pl-v{color:#e36209}.markdown .pl-bu{color:#b31d28}.markdown .pl-ii{background-color:#b31d28;color:#fafbfc}.markdown .pl-c2{background-color:#d73a49;color:#fafbfc}.markdown .pl-c2:before{content:"^M"}.markdown .pl-sr .pl-cce{color:#22863a;font-weight:700}.markdown .pl-ml{color:#735c0f}.markdown .pl-mh,.markdown .pl-mh .pl-en,.markdown .pl-ms{color:#005cc5;font-weight:700}.markdown .pl-mi{color:#24292e;font-style:italic}.markdown .pl-mb{color:#24292e;font-weight:700}.markdown .pl-md{background-color:#ffeef0;color:#b31d28}.markdown .pl-mi1{background-color:#f0fff4;color:#22863a}.markdown .pl-mc{background-color:#ffebda;color:#e36209}.markdown .pl-mi2{background-color:#005cc5;color:#f6f8fa}.markdown .pl-mdr{color:#6f42c1;font-weight:700}.markdown .pl-ba{color:#586069}.markdown .pl-sg{color:#959da5}.markdown .pl-corl{color:#032f62;text-decoration:underline}.markdown .mb-0{margin-bottom:0!important}.markdown .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown .pl-0{padding-left:0!important}.markdown .py-0{padding-bottom:0!important;padding-top:0!important}.markdown .pl-1{padding-left:4px!important}.markdown .pl-2{padding-left:8px!important}.markdown .py-2{padding-bottom:8px!important;padding-top:8px!important}.markdown .pl-3{padding-left:16px!important}.markdown .pl-4{padding-left:24px!important}.markdown .pl-5{padding-left:32px!important}.markdown .pl-6{padding-left:40px!important}.markdown .pl-7{padding-left:48px!important}.markdown .pl-8{padding-left:64px!important}.markdown .pl-9{padding-left:80px!important}.markdown .pl-10{padding-left:96px!important}.markdown .pl-11{padding-left:112px!important}.markdown .pl-12{padding-left:128px!important}.markdown hr{border-bottom-color:#eee}.markdown kbd{background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da;color:#444d56;display:inline-block;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown:after,.markdown:before{content:"";display:table}.markdown:after{clear:both}.markdown>:first-child{margin-top:0!important}.markdown>:last-child{margin-bottom:0!important}.markdown a:not([href]){color:inherit;text-decoration:none}.markdown blockquote,.markdown details,.markdown dl,.markdown ol,.markdown p,.markdown pre,.markdown table,.markdown ul{margin-bottom:16px;margin-top:0}.markdown hr{background-color:var(--markdown-border-color);border:0;height:.25em;margin:24px 0;padding:0}.markdown blockquote{border-left:.25em solid var(--markdown-blockquote-border-color);color:#6a737d;padding:0 1em}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown h1{font-size:2em}.markdown h2{font-size:1.5em}.markdown h3{font-size:1.25em}.markdown h4{font-size:1em}.markdown h5{font-size:.875em}.markdown h6{color:#6a737d;font-size:.85em}.markdown ol,.markdown ul{padding-left:2em}.markdown ol ol,.markdown ol ul,.markdown ul ol,.markdown ul ul{margin-bottom:0;margin-top:0}.markdown ol{list-style-type:decimal}.markdown ul{list-style-type:disc}.markdown li{word-wrap:break-all;display:list-item;text-align:-webkit-match-parent}.markdown li>p{margin-top:16px}.markdown li+li{margin-top:.25em}.markdown dl{padding:0}.markdown dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0}.markdown dl dd{margin-bottom:16px;padding:0 16px}.markdown table{display:block;overflow:auto;width:100%}.markdown table th{font-weight:600}.markdown table td,.markdown table th{border:1px solid var(--markdown-table-border-color);padding:6px 13px}.markdown table tr{border-top:1px solid var(--markdown-table-border-color)}.markdown table tr:nth-child(2n){background-color:var(--markdown-table-even-cell-background-color)}.markdown img{background-color:transparent;box-sizing:initial;display:block;max-width:100%}.markdown img[align=right]{padding-left:20px}.markdown img[align=left]{padding-right:20px}.markdown code{background-color:rgba(27,31,35,.05);border-radius:3px;font-size:85%;margin:0;padding:.2em .4em}.markdown pre{word-wrap:normal}.markdown pre>code{background:transparent;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.markdown .highlight{margin-bottom:16px}.markdown .highlight pre{margin-bottom:0;word-break:normal}.markdown .highlight pre,.markdown pre{background-color:#f6f8fa;border-radius:3px;font-size:85%;line-height:1.45;overflow:auto;padding:16px}.markdown pre code{word-wrap:normal;background-color:initial;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}.markdown .commit-tease-sha{color:#444d56;display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%}.markdown .full-commit .btn-outline:not(:disabled):hover{border-color:#005cc5;color:#005cc5}.markdown .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown .blob-num{color:rgba(27,31,35,.3);cursor:pointer;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;min-width:50px;padding-left:10px;padding-right:10px;text-align:right;-webkit-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;white-space:nowrap;width:1%}.markdown .blob-num:hover{color:rgba(27,31,35,.6)}.markdown .blob-num:before{content:attr(data-line-number)}.markdown .blob-code{line-height:20px;padding-left:10px;padding-right:10px;position:relative;vertical-align:top}.markdown .blob-code-inner{word-wrap:normal;color:#24292e;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:15px;overflow:visible;white-space:pre}.markdown .pl-token.active,.markdown .pl-token:hover{background:#ffea7f;cursor:pointer}.markdown .tab-size[data-tab-size="1"]{-moz-tab-size:1;-o-tab-size:1;tab-size:1}.markdown .tab-size[data-tab-size="2"]{-moz-tab-size:2;-o-tab-size:2;tab-size:2}.markdown .tab-size[data-tab-size="3"]{-moz-tab-size:3;-o-tab-size:3;tab-size:3}.markdown .tab-size[data-tab-size="4"]{-moz-tab-size:4;-o-tab-size:4;tab-size:4}.markdown .tab-size[data-tab-size="5"]{-moz-tab-size:5;-o-tab-size:5;tab-size:5}.markdown .tab-size[data-tab-size="6"]{-moz-tab-size:6;-o-tab-size:6;tab-size:6}.markdown .tab-size[data-tab-size="7"]{-moz-tab-size:7;-o-tab-size:7;tab-size:7}.markdown .tab-size[data-tab-size="8"]{-moz-tab-size:8;-o-tab-size:8;tab-size:8}.markdown .tab-size[data-tab-size="9"]{-moz-tab-size:9;-o-tab-size:9;tab-size:9}.markdown .tab-size[data-tab-size="10"]{-moz-tab-size:10;-o-tab-size:10;tab-size:10}.markdown .tab-size[data-tab-size="11"]{-moz-tab-size:11;-o-tab-size:11;tab-size:11}.markdown .tab-size[data-tab-size="12"]{-moz-tab-size:12;-o-tab-size:12;tab-size:12}.markdown .task-list-item{list-style-type:none}.markdown .task-list-item+.task-list-item{margin-top:3px}.markdown .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown .table-of-contents{align-items:flex-start;display:flex;flex-direction:column;font-size:20px;justify-content:center;position:fixed;right:0;top:75px;width:340px}@media(max-width:1300px){.markdown .table-of-contents{display:none}}.markdown .table-of-contents ul{cursor:pointer;list-style-type:none}.markdown .table-of-contents ul li a{border-bottom:none;color:var(--secondary-text-color);font-size:14px;height:30px;padding:6px 2px;width:100%}.markdown .table-of-contents ul p{margin:0}.markdown .gatsby-resp-image-wrapper{display:flex!important;max-height:560px!important;width:100%!important}.markdown .gatsby-resp-image-wrapper img{height:auto!important;max-height:560px!important;max-width:100%!important;position:relative!important;width:auto!important}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}.page-header-wrapper{display:flex;height:62px;justify-content:center;padding-left:15px;padding-right:15px;width:100%}.page-header-wrapper .page-header{align-items:center;display:flex;justify-content:space-between;max-width:900px;width:100%}.page-header-wrapper .page-header .link{color:var(--primary-text-color);font-size:17px;font-weight:700}@media(min-width:768px){.page-header-wrapper .page-header .link{font-size:20px;font-weight:700}}.page-header-wrapper .page-header .trailing-section{align-items:center;display:flex}.page-header-wrapper .page-header .trailing-section .link{margin-left:10px}@media(min-width:768px){.page-header-wrapper .page-header .trailing-section .link{margin-left:20px}}.page-header-wrapper .page-header .trailing-section .dark-mode-switch{margin-left:3px}@media(min-width:768px){.page-header-wrapper .page-header .trailing-section .dark-mode-switch{margin-left:13px}}.page-footer-wrapper{align-items:center;display:flex;height:62px;justify-content:center;margin-top:auto;padding-left:15px;padding-right:15px;width:100%}.page-footer-wrapper .page-footer{max-width:900px;text-align:center;width:100%}.page-footer-wrapper .page-footer .link{color:var(--primary-text-color);font-size:20px;font-weight:700;margin-right:20px}.page-footer-wrapper .page-footer a{color:#3a95ff}.icon{color:var(--about-link-icon-color);font-size:20px}.social-links .icon{color:var(--bio-link-icon-color);font-size:30px}@-webkit-keyframes blinking-cursor{0%{opacity:0}50%{opacity:1}to{opacity:0}}@keyframes blinking-cursor{0%{opacity:0}50%{opacity:1}to{opacity:0}}strong{font-weight:600}.bio-wrapper{align-items:center;color:var(--primary-text-color);margin-bottom:120px;margin-top:120px;padding-left:15px;padding-right:15px}.bio-wrapper,.bio-wrapper .bio{display:flex;flex-direction:column;width:100%}.bio-wrapper .bio{justify-content:space-between;max-width:900px}@media(min-width:768px){.bio-wrapper .bio{align-items:center;flex-direction:row}}.bio-wrapper .bio .introduction{display:flex;flex-direction:column;word-break:keep-all}.bio-wrapper .bio .introduction .react-rotating-text-cursor{-webkit-animation:blinking-cursor .8s cubic-bezier(.68,.01,.01,.99) 0s infinite;animation:blinking-cursor .8s cubic-bezier(.68,.01,.01,.99) 0s infinite}.bio-wrapper .bio .introduction strong{display:inline-block;font-weight:600}.bio-wrapper .bio .introduction.korean{font-size:32px;font-weight:100;line-height:1.2}.bio-wrapper .bio .introduction.korean .title .react-rotating-text-cursor{font-size:35px;line-height:35px}@media(min-width:768px){.bio-wrapper .bio .introduction.korean{font-size:40px}.bio-wrapper .bio .introduction.korean .title .react-rotating-text-cursor{font-size:45px;line-height:45px}}.bio-wrapper .bio .introduction.english{font-family:montserrat;font-size:25px;line-height:1.2}@media(min-width:768px){.bio-wrapper .bio .introduction.english{font-size:45px}}.bio-wrapper .bio .introduction.english .name{font-size:35px;font-weight:600}.bio-wrapper .bio .introduction.english .job{font-size:35px}.bio-wrapper .bio .introduction.english .description{font-size:20px;font-weight:200;margin-top:8px}.bio-wrapper .bio .introduction.english .social-links{display:flex;margin-top:20px}.bio-wrapper .bio .thumbnail{display:none;width:250px}@media(min-width:768px){.bio-wrapper .bio .thumbnail{display:block}}.section-header-wrapper{display:flex;justify-content:center;margin-bottom:32px;width:100%}.section-header-wrapper .section-header{border-bottom:4px solid var(--primary-text-color);color:var(--primary-text-color);font-size:30px;font-weight:700;padding-bottom:5px}.timestamps-section-wrapper{display:flex;justify-content:center;padding-left:15px;padding-right:15px;width:100%}.timestamps-section-wrapper .timestamps-section{align-items:center;display:flex;flex-direction:column;margin-bottom:50px;max-width:900px;width:100%;word-break:keep-all}.timestamps-section-wrapper .timestamps-section .body{padding:0 10px;width:100%}.timestamps-section-wrapper .timestamps-section .body .timestamp{border-left:2px solid #bdbdbd;display:flex;font-size:18px;font-weight:400;justify-items:center;margin-left:5px;padding:10px 0;width:100%}.timestamps-section-wrapper .timestamps-section .body .timestamp:first-child{padding-top:7px}.timestamps-section-wrapper .timestamps-section .body .timestamp:last-child{padding-bottom:7px}.timestamps-section-wrapper .timestamps-section .body .timestamp:before{align-self:center;background-color:var(--background-color);border:2px solid #828282;border-radius:10px;content:"";height:10px;left:-1px;position:relative;-webkit-transform:translatex(-50%);transform:translatex(-50%);width:10px}.timestamps-section-wrapper .timestamps-section .body .timestamp .date{align-self:center;color:#828282;margin-left:5px;margin-right:5px;min-width:115px;width:115px}@media(min-width:768px){.timestamps-section-wrapper .timestamps-section .body .timestamp .date{min-width:200px;width:200px}}.timestamps-section-wrapper .timestamps-section .body .timestamp .activity{line-height:23px;width:100%}.projects-section-wrapper{display:flex;justify-content:center;padding-left:15px;padding-right:15px;width:100%}.projects-section-wrapper .projects-section{align-items:center;display:flex;flex-direction:column;max-width:900px;width:100%}.projects-section-wrapper .projects-section .project{display:flex;flex-direction:column;margin-bottom:30px;padding:15px}.projects-section-wrapper .projects-section .project .head{font-size:20px;font-weight:700;line-height:30px;margin-bottom:20px}.projects-section-wrapper .projects-section .project .body{align-items:flex-start;display:flex}.projects-section-wrapper .projects-section .project .body .thumbnail-wrapper{align-items:center;display:flex;height:100%;justify-content:center;margin-right:15px;width:100px}.projects-section-wrapper .projects-section .project .body .thumbnail-wrapper .thumbnail{width:100px}.projects-section-wrapper .projects-section .project .body .content{display:flex;flex-direction:column;margin-top:20px}.projects-section-wrapper .projects-section .project .body .content .tech-stack{display:flex;margin-bottom:10px}.projects-section-wrapper .projects-section .project .body .content .tech-stack .tech{background-color:var(--chip-background-color);border-radius:10px;font-size:15px;font-weight:500;margin-right:5px;padding:5px 7px}.projects-section-wrapper .projects-section .project .body .content .description{font-size:16px;font-weight:400;line-height:1.4}@media(min-width:768px){.projects-section-wrapper .projects-section .project .body{flex-direction:row}.projects-section-wrapper .projects-section .project .body .content{margin-top:0}}.post-card-wrapper{display:flex;justify-content:center;min-height:150px;width:100%}.post-card-wrapper .post-card{border:1px solid var(--post-card-border-color);border-radius:6px;color:var(--primary-text-color);cursor:pointer;display:flex;flex-direction:column;height:100%;margin-bottom:15px;max-width:900px;padding:15px;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s;width:100%}.post-card-wrapper .post-card:hover .title{text-decoration:underline}@media(min-width:768px){.post-card-wrapper .post-card{margin-bottom:0}}.post-card-wrapper .post-card .title{font-size:18px;font-weight:600;line-height:1.4;margin-bottom:7px}.post-card-wrapper .post-card .description{-webkit-line-clamp:3;-webkit-box-orient:vertical;color:var(--primary-text-color);display:-webkit-box;font-size:13px;line-height:20px;margin-bottom:10px;overflow:hidden;text-overflow:ellipsis}.post-card-wrapper .post-card .info{color:var(--about-link-icon-color);display:flex;font-size:14px;justify-content:space-between;margin-top:auto}.post-card-wrapper .post-card .info .categories{display:flex}.post-card-wrapper .post-card .info .categories .category{margin-left:4px}.post-card-wrapper .post-card .info .categories .category:hover{text-decoration:underline}.post-cards-column-wrapper{display:flex;justify-content:center;padding-left:15px;padding-right:15px;width:100%}.post-cards-column-wrapper .post-cards-column{align-items:center;display:flex;flex-direction:column;max-width:900px;width:100%}.post-cards-column-wrapper .post-cards-column .post-card-wrapper{margin-bottom:10px}.post-cards-column-wrapper .post-cards-column .more-post-cards-button{background-color:var(--button-background-color);font-size:15px;font-weight:500;height:40px}.tabs-wrapper{align-self:flex-start;margin-bottom:12px;padding-left:15px;padding-right:15px;top:0}.tabs-wrapper,.tabs-wrapper .tabs{display:flex;justify-content:center;width:100%}.tabs-wrapper .tabs{height:40px;max-width:940px}.tabs-wrapper .tabs .mui-tabs .MuiTab-root{color:var(--tab-text-color);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:17px;font-weight:500;height:40px;min-height:auto;min-width:auto;padding:10px 12px;transition:all .2s ease}.tabs-wrapper .tabs .mui-tabs .Mui-selected,.tabs-wrapper .tabs .mui-tabs .MuiTab-root :hover{color:var(--tab-hover-text-color);transition:all .2s ease}.tabs-wrapper .tabs .mui-tabs .Mui-selected{background-color:var(--tab-selected-background-color);border-radius:8px;font-weight:600}.tabs-wrapper .tabs .mui-tabs .MuiTabScrollButton-root{height:40px;width:20px}.tabs-wrapper .tabs .mui-tabs .MuiTabs-scrollable{height:40px}.tabs-wrapper .tabs .mui-tabs .MuiTabs-indicator{display:none}.post-header-wrapper{display:flex;justify-content:center;margin-bottom:40px;margin-top:20px;padding-left:15px;padding-right:15px;width:100%;word-break:keep-all}.post-header-wrapper .post-header{border-bottom:1px solid var(--post-card-border-color);display:flex;flex-direction:column;max-width:900px;padding-bottom:15px;width:100%}.post-header-wrapper .post-header .emoji{font-size:78px;margin-bottom:20px}.post-header-wrapper .post-header .categories{margin-bottom:5px}.post-header-wrapper .post-header .categories .category{color:var(--primary-text-color);font-weight:600;margin-right:4px}.post-header-wrapper .post-header .categories .category:hover{text-decoration:underline}.post-header-wrapper .post-header .title{color:var(--primary-text-color);font-size:32px;font-weight:600;line-height:1.3;margin-bottom:6px}.post-header-wrapper .post-header .info{color:var(--secondary-text-color);display:flex;font-size:16px;font-weight:500}.post-header-wrapper .post-header .info strong{color:var(--primary-text-color);font-weight:600;margin:0 4px}.post-cards-adjacent-wrapper{display:flex;justify-content:center;margin-bottom:20px;padding-left:15px;padding-right:15px;width:100%}.post-cards-adjacent-wrapper .post-cards-adjacent{-webkit-column-gap:1.4%;column-gap:1.4%;display:grid;grid-template-columns:49.3% 49.3%;max-width:900px;width:100%}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card{border:1px solid var(--post-card-border-color);border-radius:6px;color:var(--primary-text-color);cursor:pointer;display:flex;flex-direction:column;padding:15px;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s;width:100%}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card:hover .title{text-decoration:underline}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card.prev{margin-right:auto}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card.next{margin-left:auto}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card .direction{color:gray;font-size:14px;font-weight:500;margin-bottom:5px}.post-cards-adjacent-wrapper .post-cards-adjacent .post-card .title{font-size:16px;font-weight:600;line-height:1.4;margin-bottom:7px}.post-content-wrapper{display:flex;justify-content:center;margin-bottom:20px;padding-left:15px;padding-right:15px;width:100%}.post-content-wrapper .post-content{display:flex;flex-direction:column;max-width:900px;width:100%}.posts-page-body-wrapper{display:flex;justify-content:center;margin-top:30px;width:100%}.posts-page-body-wrapper .posts-page-body{display:flex;flex-direction:column;width:100%}.posts-page-body-wrapper .posts-page-body .tabs-wrapper{display:flex}.posts-page-header-wrapper{align-items:center;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;justify-content:center;margin-top:30px;padding-left:15px;padding-right:15px}.posts-page-header-wrapper .posts-page-title{border-bottom:3px solid var(--primary-text-color);font-size:40px;font-weight:700;margin-bottom:15px;padding-bottom:7px;text-align:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.posts-page-header-wrapper .posts-page-sub-title{font-size:20px;font-weight:500;padding-bottom:10px;text-align:center}</style><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">[DEVOPS] - GCP의 FileStore (NFS) 를 PV로 사용해보자</title><meta data-react-helmet="true" name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no"/><meta data-react-helmet="true" property="og:title" content="[DEVOPS] - GCP의 FileStore (NFS) 를 PV로 사용해보자"/><meta data-react-helmet="true" property="og:site_title" content="[DEVOPS] - GCP의 FileStore (NFS) 를 PV로 사용해보자"/><meta data-react-helmet="true" name="description" content="머리말   이번 포스트에서는 앱 구동을 위한 MYSQL 이중화입니다 이전 포스트에서 앱 배포를 완료했지만 MYSQL pod의 경우 볼륨의 문제로 하나밖에 뜨지 않아 DB 데이터를 어떻게 저장할지에 대한 고민이 있었습니다. 고민해본 결과 NFS를 만들어서 그쪽에 데이터를 저장해놓고 POD가 실행될때마다 NFS를 읽어오자! 라는 결론이 나왔습니다 그래서 NFS 서버를 구축하려고 하려는 찰나 GCP에서 API 서비스로 제공한다는 소식을 듣고 바로 사용해 보았습니다 사용 할 툴을 다음과 같습니다.   GCP FileStore k8s PV,PVC ArgoCD ✔ 발생 이슈 MYSQL Pod를 두개 이상 띄우려고 할때 아래와 같…"/><meta data-react-helmet="true" property="og:description" content="머리말   이번 포스트에서는 앱 구동을 위한 MYSQL 이중화입니다 이전 포스트에서 앱 배포를 완료했지만 MYSQL pod의 경우 볼륨의 문제로 하나밖에 뜨지 않아 DB 데이터를 어떻게 저장할지에 대한 고민이 있었습니다. 고민해본 결과 NFS를 만들어서 그쪽에 데이터를 저장해놓고 POD가 실행될때마다 NFS를 읽어오자! 라는 결론이 나왔습니다 그래서 NFS 서버를 구축하려고 하려는 찰나 GCP에서 API 서비스로 제공한다는 소식을 듣고 바로 사용해 보았습니다 사용 할 툴을 다음과 같습니다.   GCP FileStore k8s PV,PVC ArgoCD ✔ 발생 이슈 MYSQL Pod를 두개 이상 띄우려고 할때 아래와 같…"/><meta data-react-helmet="true" property="og:author" content="NASA1515"/><meta data-react-helmet="true" property="og:image" content="/topicon.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><script data-gatsby="web-vitals-polyfill">
              !function(){var e,t,n,i,r={passive:!0,capture:!0},a=new Date,o=function(){i=[],t=-1,e=null,f(addEventListener)},c=function(i,r){e||(e=r,t=i,n=new Date,f(removeEventListener),u())},u=function(){if(t>=0&&t<n-a){var r={entryType:"first-input",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+t};i.forEach((function(e){e(r)})),i=[]}},s=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){c(e,t),a()},i=function(){a()},a=function(){removeEventListener("pointerup",n,r),removeEventListener("pointercancel",i,r)};addEventListener("pointerup",n,r),addEventListener("pointercancel",i,r)}(t,e):c(t,e)}},f=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,s,r)}))},p="hidden"===document.visibilityState?0:1/0;addEventListener("visibilitychange",(function e(t){"hidden"===document.visibilityState&&(p=t.timeStamp,removeEventListener("visibilitychange",e,!0))}),!0);o(),self.webVitals={firstInputPolyfill:function(e){i.push(e),u()},resetFirstInputPolyfill:o,get firstHiddenTime(){return p}}}();
            </script><script>window.dataLayer = window.dataLayer || [];window.dataLayer.push({"platform":"gatsby"}); (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl+'&gtm_auth=f5v-1P2mrjP077WekXWXlQ&gtm_preview=env-1&gtm_cookies_win=x';f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer', 'GTM-5S79ZKZ');</script><style id="jss-server-side">html{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,::after,::before{box-sizing:inherit}b,strong{font-weight:700}body{color:rgba(0,0,0,.87);margin:0;font-size:.875rem;font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.43;letter-spacing:.01071em;background-color:#fafafa}@media print{body{background-color:#fff}}body::-webkit-backdrop{background-color:#fafafa}body::backdrop{background-color:#fafafa}</style><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxK.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4.woff2"/><style>@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4.woff2) format("woff2");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:url(/static/webfonts/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxK.woff2) format("woff2");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:500;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4.woff2) format("woff2");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:300;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc-.woff) format("woff");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:url(/static/webfonts/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxM.woff) format("woff");font-display:swap}@font-face{font-family:Roboto;font-style:normal;font-weight:500;src:url(/static/webfonts/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc-.woff) format("woff");font-display:swap}</style><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-LR5TBZKGVN',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-LR5TBZKGVN', 'auto', {});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>            
              (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-1125098373921970",
                enable_page_level_ads: true
              });
          </script><link rel="icon" href="/favicon-32x32.png?v=c2d23fc89c926fee770c0468d2d584f4" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=c2d23fc89c926fee770c0468d2d584f4"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=c2d23fc89c926fee770c0468d2d584f4"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=c2d23fc89c926fee770c0468d2d584f4"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=c2d23fc89c926fee770c0468d2d584f4"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=c2d23fc89c926fee770c0468d2d584f4"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=c2d23fc89c926fee770c0468d2d584f4"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=c2d23fc89c926fee770c0468d2d584f4"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=c2d23fc89c926fee770c0468d2d584f4"/><link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,400,500,700,900&amp;display=swap" rel="stylesheet"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-2dcca74ba8231e937cfc.js"/><link as="script" rel="preload" href="/framework-81279cacaab4bdba7685.js"/><link as="script" rel="preload" href="/app-af51a7650cca06e0cb78.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/f9d3028dbef90a6e9b8db85387d63dd9f4edf538-1230b370c40f1a824092.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-527d926a66cb09d51c39.js"/><link as="fetch" rel="preload" href="/page-data/devops-gcpfilestore/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1073350324.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2938748437.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5S79ZKZ&gtm_auth=f5v-1P2mrjP077WekXWXlQ&gtm_preview=env-1&gtm_cookies_win=x" height="0" width="0" style="display: none; visibility: hidden" aria-hidden="true"></iframe></noscript><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="display:flex;flex-direction:column;min-height:100vh"><main><header class="post-header-wrapper"><div class="post-header"><div class="emoji">🤦‍♂️</div><div class="info"><div class="categories"><a class="category" href="/posts/DevOps">DevOps</a><a class="category" href="/posts/GCP">GCP</a></div></div><h1 class="title">[DEVOPS] - GCP의 FileStore (NFS) 를 PV로 사용해보자</h1><div class="info">posted by <strong>nasa1515</strong> · <!-- -->August 07, 2021</div></div></header><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1125098373921970" crossorigin="anonymous"></script><div class="post-content-wrapper"><div class="post-content"><div class="markdown"><p>머리말  </p>
<p>이번 포스트에서는 앱 구동을 위한 MYSQL 이중화입니다 이전 포스트에서 앱 배포를 완료했지만<br>
MYSQL pod의 경우 볼륨의 문제로 하나밖에 뜨지 않아 DB 데이터를 어떻게 저장할지에 대한 고민이 있었습니다.<br>
고민해본 결과 NFS를 만들어서 그쪽에 데이터를 저장해놓고 POD가 실행될때마다 NFS를 읽어오자! 라는 결론이 나왔습니다<br>
그래서 NFS 서버를 구축하려고 하려는 찰나 GCP에서 API 서비스로 제공한다는 소식을 듣고 바로 사용해 보았습니다</p>
<hr>
<ul>
<li>
<p>사용 할 툴을 다음과 같습니다.  </p>
<ul>
<li>GCP FileStore</li>
<li>k8s PV,PVC</li>
<li>ArgoCD</li>
</ul>
</li>
</ul>
<hr>
<h2 id="-발생-이슈" style="position:relative;"><a href="#-%EB%B0%9C%EC%83%9D-%EC%9D%B4%EC%8A%88" aria-label=" 발생 이슈 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>✔ 발생 이슈</h2>
<ul>
<li>
<p>MYSQL Pod를 두개 이상 띄우려고 할때 아래와 같은 문제가 발생했다.  </p>
<p><img src="https://user-images.githubusercontent.com/69498804/96840929-11b24100-1486-11eb-9157-145a7d03bf00.png" alt="스크린샷, 2020-10-22 16-45-58"></p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">FailedAttachVolume
Multi<span class="token operator">-</span>Attach error <span class="token keyword">for</span> volume <span class="token string">"pvc-73526617-313f-46f4-be6f-0776dcf151d3"</span> Volume <span class="token keyword">is</span> <span class="token class-name">already</span> used <span class="token keyword">by</span> <span class="token function">pod</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> mysql<span class="token operator">-</span><span class="token number">6749799856</span><span class="token operator">-</span>kb9mp	<span class="token number">6</span> minutes ago</code></pre></div>
</li>
</ul>
<br/>
<ul>
<li>
<p>이유는 Google Persistent Disk의 경우 Block 스토리지의 Access Mode인 <code class="language-text">ReadWriteMany</code> 옵션을 지원하지 않았습니다.</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96841616-f6940100-1486-11eb-8b22-406d019bcf8b.png" alt="스크린샷, 2020-10-22 16-52-21"></p>
<p>그래서 GKE를 만들때 자동 생성되는 스토리지 클래스를 사용하지 않고 PV를 직접 만들어 연결해줘야 하는 상황이 되었습니다</p>
</li>
</ul>
<br/>
<ul>
<li>
<p>다행히 공식문서를 보니 GCP에서 NFS(Filestore)를 PV로 지원한다는 문서를 확인해서 NFS를 사용하기로 했습니다</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96841887-4f639980-1487-11eb-9578-307b7b86267d.png" alt="스크린샷, 2020-10-22 16-54-43"></p>
</li>
</ul>
<br/>
<ul>
<li>
<p>GCP에서는 기본적으로 Standard 형의 스토리지 클래스를 지원합니다</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96842565-268fd400-1488-11eb-9d64-66a4b1fd41db.png" alt="스크린샷, 2020-10-22 17-00-52"></p>
</li>
</ul>
<br/>
<ul>
<li>
<p><a href="https://kubernetes.io/ko/docs/concepts/storage/storage-classes/">쿠버네티스 공식문서</a></p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">스토리지클래스는 관리자가 제공하는 스토리지의 <span class="token string">"classes"</span>를 설명할 수 있는 방법을 제공한다<span class="token punctuation">.</span> 
다른 클래스는 서비스의 품질 수준 또는 백업 정책<span class="token punctuation">,</span> 클러스터 관리자가 정한 임의의 정책에 매핑될 수 있다<span class="token punctuation">.</span> 
쿠버네티스 자체는 클래스가 무엇을 나타내는지에 대해 상관하지 않는다<span class="token punctuation">.</span> 
다른 스토리지 시스템에서는 이 개념을 <span class="token string">"프로파일"</span>이라고도 한다<span class="token punctuation">.</span></code></pre></div>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">스토리지클래스 리소스 
각 스토리지클래스에는 해당 스토리지클래스에 속하는 퍼시스턴트볼륨을 동적으로 프로비저닝 할 때 사용되는 provisioner<span class="token punctuation">,</span> parameters 와 reclaimPolicy 필드가 포함된다<span class="token punctuation">.</span>

스토리지클래스 오브젝트의 이름은 중요하며<span class="token punctuation">,</span> 사용자가 특정 클래스를 요청할 수 있는 방법이다<span class="token punctuation">.</span> 
관리자는 스토리지클래스 오브젝트를 처음 생성할 때 클래스의 이름과 기타 파라미터를 설정하며<span class="token punctuation">,</span> 일단 생성된 오브젝트는 업데이트할 수 없다<span class="token punctuation">.</span>

관리자는 특정 클래스에 바인딩을 요청하지 않는 PVC에 대해서만 기본 스토리지클래스를 지정할 수 있다<span class="token punctuation">.</span> </code></pre></div>
<br/>
<ul>
<li>쿠버네티스에서는 아래와 같이 정의 할 수 있다</li>
</ul>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">apiVersion<span class="token punctuation">:</span> storage<span class="token punctuation">.</span>k8s<span class="token punctuation">.</span>io<span class="token operator">/</span><span class="token class-name">v1</span>
kind<span class="token punctuation">:</span> <span class="token class-name">StorageClass</span>
  metadata<span class="token punctuation">:</span>
  name<span class="token punctuation">:</span> <span class="token class-name">standard</span>
    provisioner<span class="token punctuation">:</span> kubernetes<span class="token punctuation">.</span>io<span class="token operator">/</span>aws<span class="token operator">-</span><span class="token class-name">ebs</span>
  parameters<span class="token punctuation">:</span>
  type<span class="token punctuation">:</span> <span class="token class-name">gp2</span>
  reclaimPolicy<span class="token punctuation">:</span> <span class="token class-name">Retain</span>
  allowVolumeExpansion<span class="token punctuation">:</span> <span class="token class-name">true</span>
  mountOptions<span class="token punctuation">:</span>
   <span class="token operator">-</span> <span class="token class-name">debug</span>
  volumeBindingMode<span class="token punctuation">:</span> Immediate</code></pre></div>
<ul>
<li>즉 간단하게 말해서 PV를 미리 선언해주는 것이라고 이해하는게 편하다.</li>
<li>보통 PV 선언 -> PVC 선언의 과정을 거쳐야 하지만 스토리지 클래스를 미리 정의해놓으면 PV선언 과정을 생략할 수 있다.</li>
</ul>
</li>
</ul>
<br/>
<hr>
<h2 id="-이제-gcp의-nfsfilestore를-구성해보죠" style="position:relative;"><a href="#-%EC%9D%B4%EC%A0%9C-gcp%EC%9D%98-nfsfilestore%EB%A5%BC-%EA%B5%AC%EC%84%B1%ED%95%B4%EB%B3%B4%EC%A3%A0" aria-label=" 이제 gcp의 nfsfilestore를 구성해보죠 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>✌ 이제 GCP의 NFS(Filestore)를 구성해보죠</h2>
<br/>
<h3 id="gcp-nfs-설정" style="position:relative;"><a href="#gcp-nfs-%EC%84%A4%EC%A0%95" aria-label="gcp nfs 설정 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GCP NFS 설정</h3>
<br/>
<ul>
<li>
<p>우선 GCP Console에서 FILEStore API를 설치해줍니다</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96854037-0404b780-1496-11eb-81c4-922d294a441d.png" alt="스크린샷, 2020-10-22 18-39-50"></p>
</li>
</ul>
<br/>
<ul>
<li>
<p>그 후 Console TAP의 Filestore 메뉴에서 인스턴스를 생성해줍니다</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96854705-c3f20480-1496-11eb-89dc-3a46f4b99df6.png" alt="스크린샷, 2020-10-22 18-45-28"></p>
</li>
</ul>
<br/>
<ul>
<li>
<p>생성이 완료되었다면 자동으로 NFS가 연동됩니다. 임시로 Jenkins 인스턴스에서 Showmount 명령으로 확인해봅시다</p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs"><span class="token punctuation">[</span>root@jenkins <span class="token operator">~</span><span class="token punctuation">]</span># 
<span class="token punctuation">[</span>root@jenkins <span class="token operator">~</span><span class="token punctuation">]</span># showmount <span class="token operator">-</span>e <span class="token number">10.254</span><span class="token number">.194</span><span class="token number">.122</span>
Export list <span class="token keyword">for</span> <span class="token number">10.254</span><span class="token number">.194</span><span class="token number">.122</span><span class="token punctuation">:</span>
<span class="token operator">/</span>nfs_share <span class="token number">192.168</span><span class="token number">.0</span><span class="token number">.0</span><span class="token operator">/</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">172.16</span><span class="token number">.0</span><span class="token number">.0</span><span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">10.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token operator">/</span><span class="token number">8</span>
<span class="token punctuation">[</span>root@jenkins <span class="token operator">~</span><span class="token punctuation">]</span># 
<span class="token punctuation">[</span>root@jenkins <span class="token operator">~</span><span class="token punctuation">]</span># </code></pre></div>
<p>NFS끼리 잘 연결되어있는걸 확인했습니다!!</p>
</li>
</ul>
<br/>
<p><code class="language-text">FileStore를 이용한 NFS 구성은 정말 간단합니다. 비용만아니면 매일 쓰고 싶네요</code></p>
<br/>
<hr>
<h3 id="nfs를-gke의-볼륨으로-사용" style="position:relative;"><a href="#nfs%EB%A5%BC-gke%EC%9D%98-%EB%B3%BC%EB%A5%A8%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9" aria-label="nfs를 gke의 볼륨으로 사용 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>NFS를 GKE의 볼륨으로 사용</h3>
<p><a href="https://cloud.google.com/filestore/docs/accessing-fileshares?hl=ko">공식 문서</a></p>
<br/>
<br/>
<h3 id="pv-생성" style="position:relative;"><a href="#pv-%EC%83%9D%EC%84%B1" aria-label="pv 생성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PV 생성</h3>
<ul>
<li>
<p>NFS를 볼륨으로 이용하기 위해서 아래와 같은 메니페스트 파일을 작성했습니다.</p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">apiVersion<span class="token punctuation">:</span> <span class="token class-name">v1</span>
kind<span class="token punctuation">:</span> <span class="token class-name">PersistentVolume</span>
metadata<span class="token punctuation">:</span>
    name<span class="token punctuation">:</span> dbserver
    <span class="token keyword">namespace</span><span class="token punctuation">:</span> cd<span class="token operator">-</span><span class="token class-name">test</span>
spec<span class="token punctuation">:</span>
    capacity<span class="token punctuation">:</span>
    storage<span class="token punctuation">:</span> 10Gi
volumeMode<span class="token punctuation">:</span> <span class="token class-name">Filesystem</span>
accessModes<span class="token punctuation">:</span>
<span class="token operator">-</span> <span class="token class-name">ReadWriteMany</span>
persistentVolumeReclaimPolicy<span class="token punctuation">:</span> <span class="token class-name">Retain</span>
storageClassName<span class="token punctuation">:</span> <span class="token string">""</span>
nfs<span class="token punctuation">:</span>
    path<span class="token punctuation">:</span> <span class="token operator">/</span><span class="token class-name">nfs_share</span>
    server<span class="token punctuation">:</span> <span class="token number">10.254</span><span class="token number">.194</span><span class="token number">.122</span></code></pre></div>
<p>PV를 생성할때 NFS서버의 IP와 path를 제대로 설정해주지 않으면<br>
아래와 같은 <code class="language-text">NFS MOUNT ERROR</code>가 발생합니다</p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">Search
Warning	FailedMount	Unable to attach <span class="token keyword">or</span> <span class="token class-name">mount</span> volumes<span class="token punctuation">:</span> <span class="token class-name">unmounted</span> volumes<span class="token operator">=</span><span class="token punctuation">[</span>mysql<span class="token operator">-</span>vol<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token class-name">unattached</span> volumes<span class="token operator">=</span><span class="token punctuation">[</span><span class="token keyword">default</span><span class="token operator">-</span>token<span class="token operator">-</span>6778k mysql<span class="token operator">-</span>vol<span class="token punctuation">]</span><span class="token punctuation">:</span> timed <span class="token keyword">out</span> waiting <span class="token keyword">for</span> the condition	<span class="token number">2</span> minutes ago
Warning	FailedMount	MountVolume<span class="token punctuation">.</span>SetUp failed <span class="token keyword">for</span> volume <span class="token string">"dbserver"</span> <span class="token punctuation">:</span> <span class="token class-name">mount</span> failed<span class="token punctuation">:</span> exit status <span class="token number">1</span> <span class="token class-name">Mounting</span> command<span class="token punctuation">:</span> systemd<span class="token operator">-</span>run <span class="token class-name">Mounting</span> arguments<span class="token punctuation">:</span> <span class="token operator">--</span>description<span class="token operator">=</span>Kubernetes transient mount <span class="token keyword">for</span> <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span>kubelet<span class="token operator">/</span>pods<span class="token operator">/</span>d28155b1<span class="token operator">-</span>9c27<span class="token operator">-</span>4f6e<span class="token operator">-</span>b1b7<span class="token operator">-</span>9169c926f784<span class="token operator">/</span>volumes<span class="token operator">/</span>kubernetes<span class="token punctuation">.</span>io<span class="token operator">~</span>nfs<span class="token operator">/</span>dbserver <span class="token operator">--</span>scope <span class="token operator">--</span> <span class="token operator">/</span>home<span class="token operator">/</span>kubernetes<span class="token operator">/</span>containerized_mounter<span class="token operator">/</span>mounter mount <span class="token operator">-</span>t nfs <span class="token operator">-</span><span class="token class-name">o</span> hard<span class="token punctuation">,</span>nfsvers<span class="token operator">=</span><span class="token number">3</span> <span class="token number">10.254</span><span class="token number">.194</span><span class="token number">.120</span><span class="token punctuation">:</span><span class="token operator">/</span>file<span class="token operator">-</span>share <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span>kubelet<span class="token operator">/</span>pods<span class="token operator">/</span>d28155b1<span class="token operator">-</span>9c27<span class="token operator">-</span>4f6e<span class="token operator">-</span>b1b7<span class="token operator">-</span>9169c926f784<span class="token operator">/</span>volumes<span class="token operator">/</span>kubernetes<span class="token punctuation">.</span>io<span class="token operator">~</span>nfs<span class="token operator">/</span><span class="token class-name">dbserver</span> Output<span class="token punctuation">:</span> Running scope <span class="token keyword">as</span> <span class="token class-name">unit</span><span class="token punctuation">:</span> run<span class="token operator">-</span>r3af88159402a4b1ab6bc70512f1cbc1d<span class="token punctuation">.</span>scope <span class="token class-name">Mount</span> failed<span class="token punctuation">:</span> <span class="token class-name">mount</span> failed<span class="token punctuation">:</span> exit status <span class="token number">32</span> <span class="token class-name">Mounting</span> command<span class="token punctuation">:</span> chroot <span class="token class-name">Mounting</span> arguments<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">/</span>home<span class="token operator">/</span>kubernetes<span class="token operator">/</span>containerized_mounter<span class="token operator">/</span>rootfs mount <span class="token operator">-</span>t nfs <span class="token operator">-</span><span class="token class-name">o</span> hard<span class="token punctuation">,</span>nfsvers<span class="token operator">=</span><span class="token number">3</span> <span class="token number">10.254</span><span class="token number">.194</span><span class="token number">.120</span><span class="token punctuation">:</span><span class="token operator">/</span>file<span class="token operator">-</span>share <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span>kubelet<span class="token operator">/</span>pods<span class="token operator">/</span>d28155b1<span class="token operator">-</span>9c27<span class="token operator">-</span>4f6e<span class="token operator">-</span>b1b7<span class="token operator">-</span>9169c926f784<span class="token operator">/</span>volumes<span class="token operator">/</span>kubernetes<span class="token punctuation">.</span>io<span class="token operator">~</span>nfs<span class="token operator">/</span>dbserver<span class="token punctuation">]</span> Output<span class="token punctuation">:</span> mount<span class="token punctuation">.</span>nfs<span class="token punctuation">:</span> Connection timed <span class="token keyword">out</span>	<span class="token number">2</span> minutes ago</code></pre></div>
<br/>
</li>
<li>추가적으로 storageClassName: "" 항목을 None으로 둬야만 합니다.<br>
그래야 GKE 기본 스토리지 클래스인 GCP-PD 형식의 PV를 생성하지 않기 때문에<br>
NONE이 필수적입니다! 이 항목도 NONE이 아닐 경우 위와 같은 에러가 발생합니다.</li>
</ul>
<br/>
<hr>
<h3 id="pvc-생성" style="position:relative;"><a href="#pvc-%EC%83%9D%EC%84%B1" aria-label="pvc 생성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PVC 생성</h3>
<ul>
<li>
<p>NFS를 볼륨으로 이용하기 위해서 아래와 같은 메니페스트 파일을 작성했습니다.</p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">apiVersion<span class="token punctuation">:</span> <span class="token class-name">v1</span>
kind<span class="token punctuation">:</span> <span class="token class-name">PersistentVolumeClaim</span>
metadata<span class="token punctuation">:</span>
    creationTimestamp<span class="token punctuation">:</span> <span class="token keyword">null</span>
    labels<span class="token punctuation">:</span>
        io<span class="token punctuation">.</span>kompose<span class="token punctuation">.</span>service<span class="token punctuation">:</span> <span class="token class-name">mysql</span>
    name<span class="token punctuation">:</span> mysql<span class="token operator">-</span>pvc
    <span class="token keyword">namespace</span><span class="token punctuation">:</span> cd<span class="token operator">-</span><span class="token class-name">test</span>
spec<span class="token punctuation">:</span>
  accessModes<span class="token punctuation">:</span>
  <span class="token operator">-</span> <span class="token class-name">ReadWriteMany</span>
  storageClassName<span class="token punctuation">:</span> <span class="token string">""</span>
  volumeName<span class="token punctuation">:</span> <span class="token class-name">dbserver</span>
  resources<span class="token punctuation">:</span>
    requests<span class="token punctuation">:</span>
      storage<span class="token punctuation">:</span> 5Gi
status<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></div>
<p>PVC의 경우 별로 바꿔줄 것이 없습니다. 다만 <code class="language-text">storageClassName = NONE</code>이기 때문에<br>
<code class="language-text">volumeName: dbserver</code> 항목으로 PV를 잡아주어야 원할하게 바운딩 됩니다!</p>
</li>
</ul>
<br/>
<ul>
<li>
<p>그럼 PVC를 생성했으니 PV &#x3C;-> PVC가 바운딩되었는지 확인해봅시다</p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs"><span class="token operator">></span> kubectl <span class="token keyword">get</span> pv <span class="token operator">-</span>n cd<span class="token operator">-</span>test
NAME       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM               STORAGECLASS   REASON   AGE
dbserver   10Gi       RWX            Retain           Bound    cd<span class="token operator">-</span>test<span class="token operator">/</span>mysql<span class="token operator">-</span>pvc                           <span class="token number">28m</span>
<span class="token operator">></span> kubectl <span class="token keyword">get</span> pvc <span class="token operator">-</span>n cd<span class="token operator">-</span>test
NAME        STATUS   VOLUME     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
mysql<span class="token operator">-</span>pvc   Bound    dbserver   10Gi       RWX                           <span class="token number">28m</span></code></pre></div>
<p>너무 정상적입니다~ 이제 MYSQL POD를 배포해봅시다!</p>
</li>
</ul>
<br/>
<hr>
<h3 id="mysql-pod-배포" style="position:relative;"><a href="#mysql-pod-%EB%B0%B0%ED%8F%AC" aria-label="mysql pod 배포 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MYSQL POD 배포</h3>
<br/>
<ul>
<li>
<p>MYSQL 배포를 위해 아래와 같은 메니페스트 파일을 작성했습니다.</p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">apiVersion<span class="token punctuation">:</span> apps<span class="token operator">/</span><span class="token class-name">v1</span>
kind<span class="token punctuation">:</span> <span class="token class-name">Deployment</span>
metadata<span class="token punctuation">:</span>
annotations<span class="token punctuation">:</span>
    kompose<span class="token punctuation">.</span>cmd<span class="token punctuation">:</span> kompose convert
    kompose<span class="token punctuation">.</span>version<span class="token punctuation">:</span> <span class="token number">1.21</span><span class="token number">.0</span> <span class="token punctuation">(</span>992df58d8<span class="token punctuation">)</span>
creationTimestamp<span class="token punctuation">:</span> <span class="token keyword">null</span>
labels<span class="token punctuation">:</span>
    io<span class="token punctuation">.</span>kompose<span class="token punctuation">.</span>service<span class="token punctuation">:</span> <span class="token class-name">mysql</span>
name<span class="token punctuation">:</span> <span class="token class-name">mysql</span>
spec<span class="token punctuation">:</span>
replicas<span class="token punctuation">:</span> <span class="token number">1</span>
selector<span class="token punctuation">:</span>
    matchLabels<span class="token punctuation">:</span>
    io<span class="token punctuation">.</span>kompose<span class="token punctuation">.</span>service<span class="token punctuation">:</span> <span class="token class-name">mysql</span>
strategy<span class="token punctuation">:</span>
    type<span class="token punctuation">:</span> <span class="token class-name">Recreate</span>
template<span class="token punctuation">:</span>
    metadata<span class="token punctuation">:</span>
    annotations<span class="token punctuation">:</span>
        kompose<span class="token punctuation">.</span>cmd<span class="token punctuation">:</span> kompose convert
        kompose<span class="token punctuation">.</span>version<span class="token punctuation">:</span> <span class="token number">1.21</span><span class="token number">.0</span> <span class="token punctuation">(</span>992df58d8<span class="token punctuation">)</span>
    creationTimestamp<span class="token punctuation">:</span> <span class="token keyword">null</span>
    labels<span class="token punctuation">:</span>
        io<span class="token punctuation">.</span>kompose<span class="token punctuation">.</span>service<span class="token punctuation">:</span> <span class="token class-name">mysql</span>
    spec<span class="token punctuation">:</span>
    containers<span class="token punctuation">:</span>
    <span class="token operator">-</span> env<span class="token punctuation">:</span>
        <span class="token operator">-</span> name<span class="token punctuation">:</span> <span class="token class-name">MYSQL_ROOT_PASSWORD</span>
        <span class="token keyword">value</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>비번은 안댑니다<span class="token punctuation">]</span>
        image<span class="token punctuation">:</span> mysql<span class="token punctuation">:</span><span class="token number">5.5</span>
        imagePullPolicy<span class="token punctuation">:</span> <span class="token string">""</span>
        name<span class="token punctuation">:</span> <span class="token class-name">mysql</span>
        resources<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        volumeMounts<span class="token punctuation">:</span>
        <span class="token operator">-</span> mountPath<span class="token punctuation">:</span> <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span><span class="token class-name">mysql</span>
        name<span class="token punctuation">:</span> mysql<span class="token operator">-</span><span class="token class-name">vol</span>
    restartPolicy<span class="token punctuation">:</span> <span class="token class-name">Always</span>
    serviceAccountName<span class="token punctuation">:</span> <span class="token string">""</span>
    volumes<span class="token punctuation">:</span>
    <span class="token operator">-</span> name<span class="token punctuation">:</span> mysql<span class="token operator">-</span><span class="token class-name">vol</span>
        persistentVolumeClaim<span class="token punctuation">:</span>
        claimName<span class="token punctuation">:</span> mysql<span class="token operator">-</span><span class="token class-name">pvc</span>
    status<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></div>
</li>
</ul>
<br/>
<ul>
<li>
<p>다음과 같은 배포 메니페스트로 배포를 하면! 아래와 같이 정상적으로 구동이 됩니다!!</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96962891-a7aba180-1542-11eb-9d2d-3eb34c814aed.png" alt="스크린샷, 2020-10-23 15-15-52"></p>
</li>
</ul>
<br/>
<hr>
<h3 id="에러-발생ㅠ" style="position:relative;"><a href="#%EC%97%90%EB%9F%AC-%EB%B0%9C%EC%83%9D%E3%85%A0" aria-label="에러 발생ㅠ permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>에러 발생..ㅠ</h3>
<p><code class="language-text">MYSQL Unable to lock ./ib_logfile0, error: 11</code></p>
<br/>
<ul>
<li>
<p>MYSQL Deployment에 Replicas 를 2로 설정 후 이중화를 하려니깐 아래와 같은 ERROR가 발생하였다.</p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs"><span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> <span class="token punctuation">[</span>Note<span class="token punctuation">]</span> <span class="token operator">--</span>secure<span class="token operator">-</span>file<span class="token operator">-</span>priv <span class="token keyword">is</span> <span class="token keyword">set</span> to NULL<span class="token punctuation">.</span> Operations related to importing <span class="token keyword">and</span> exporting data are disabled
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> <span class="token punctuation">[</span>Note<span class="token punctuation">]</span> mysqld <span class="token punctuation">(</span>mysqld <span class="token number">5.5</span><span class="token number">.62</span><span class="token punctuation">)</span> starting <span class="token keyword">as</span> <span class="token class-name">process</span> <span class="token number">1</span> <span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> <span class="token punctuation">[</span>Note<span class="token punctuation">]</span> Plugin 'FEDERATED' <span class="token keyword">is</span> <span class="token class-name">disabled</span><span class="token punctuation">.</span>
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> InnoDB<span class="token punctuation">:</span> The InnoDB memory heap <span class="token keyword">is</span> <span class="token class-name">disabled</span>
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> InnoDB<span class="token punctuation">:</span> Mutexes <span class="token keyword">and</span> rw_locks use GCC atomic builtins
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> InnoDB<span class="token punctuation">:</span> Compressed tables use zlib <span class="token number">1.2</span><span class="token number">.11</span>
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> InnoDB<span class="token punctuation">:</span> Using Linux native AIO
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> InnoDB<span class="token punctuation">:</span> Initializing <span class="token class-name">buffer</span> pool<span class="token punctuation">,</span> size <span class="token operator">=</span> <span class="token number">128.0M</span>
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> InnoDB<span class="token punctuation">:</span> Completed initialization of buffer <span class="token class-name">pool</span>
InnoDB<span class="token punctuation">:</span> Unable to <span class="token keyword">lock</span> <span class="token punctuation">.</span><span class="token operator">/</span>ib_logfile0<span class="token punctuation">,</span> <span class="token named-parameter punctuation">error</span><span class="token punctuation">:</span> <span class="token number">11</span>
InnoDB<span class="token punctuation">:</span> Check that you <span class="token keyword">do</span> <span class="token keyword">not</span> already have another mysqld <span class="token class-name">process</span>
InnoDB<span class="token punctuation">:</span> <span class="token keyword">using</span> the same InnoDB data <span class="token keyword">or</span> log files<span class="token punctuation">.</span>
InnoDB<span class="token punctuation">:</span> Error <span class="token keyword">in</span> opening <span class="token punctuation">.</span><span class="token operator">/</span>ib_logfile0
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> <span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> Plugin 'InnoDB' init function returned error<span class="token punctuation">.</span>
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> <span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> Plugin 'InnoDB' registration <span class="token keyword">as</span> <span class="token class-name">a</span> STORAGE ENGINE failed<span class="token punctuation">.</span>
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> <span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> Unknown<span class="token operator">/</span>unsupported <span class="token class-name">storage</span> engine<span class="token punctuation">:</span> InnoDB
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> <span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> Aborting
<span class="token number">201023</span>  <span class="token number">5</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token number">32</span> <span class="token punctuation">[</span>Note<span class="token punctuation">]</span> mysqld<span class="token punctuation">:</span> Shutdown complete</code></pre></div>
</li>
</ul>
<br/>
<ul>
<li>검색을 쫌 해보니 내 환경은 NFS로 data파일을 받아오는 구조이다 보니 한쪽의 MYSQL Pod가 mysql을 실행시키면서<br>
해당 데이터파일을 사용하고 있으면 다른쪽에서는 사용하지 못하는 이슈였다.</li>
</ul>
<br/>
<ul>
<li>
<p>Rancher UI에서 확인해보니 컨테이너가 계속 재시작 되고 있다 ㅠㅠ</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96963063-f35e4b00-1542-11eb-8671-2c25c1f6236d.png" alt="스크린샷, 2020-10-23 14-15-19"></p>
</li>
</ul>
<br/>
<ul>
<li>머리말에서도 언급했듯이 이중화보다는 NFS로 DB 데이터를 받아오는 것과 별 차이가 없다고 생각을 했습니다.<br>
그래서 위의 Mysql 배포 메니페스트 파일의 replicas를 1로 두는 것으로 마무리 했습니다</li>
</ul>
<hr>
<h3 id="nfs---mysql-data-연동-확인" style="position:relative;"><a href="#nfs---mysql-data-%EC%97%B0%EB%8F%99-%ED%99%95%EC%9D%B8" aria-label="nfs   mysql data 연동 확인 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>NFS &#x3C;-> Mysql Data 연동 확인</h3>
<p>replicas를 1로 두어 NFS와 데이터파일을 연동한 POD에서 확인해봅시다!</p>
<ul>
<li>
<p>우선 MYSQL과 연동한 취약점 검사 WEB에서 아이디를 하나 만들어보죠 해당 ID 데이터는 MYSQL DB에 저장됩니다</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96963398-8c8d6180-1543-11eb-8cb1-52c331066848.png" alt="스크린샷, 2020-10-23 15-22-18"></p>
<p>test2라는 User를 만들었습니다</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96963649-f148bc00-1543-11eb-9ff7-25c533985471.png" alt="스크린샷, 2020-10-23 15-25-06"></p>
</li>
</ul>
<br/>
<ul>
<li>
<p>MYSQL POD로 가서 데이터를 확인해봅시다.</p>
<p>아래와 같이 DB Table에 Account 정보가 잘 들어와 있네요</p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">mysql<span class="token operator">></span> 
mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name  <span class="token operator">|</span> login <span class="token operator">|</span> email           <span class="token operator">|</span> password                         <span class="token operator">|</span> created_at          <span class="token operator">|</span> updated_at          <span class="token operator">|</span> role <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">18</span> <span class="token operator">|</span> test  <span class="token operator">|</span> test  <span class="token operator">|</span> test@gmail<span class="token punctuation">.</span>com  <span class="token operator">|</span> 098f6bcd4621d373cade4e832627b4f6 <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">05</span><span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">05</span><span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">19</span> <span class="token operator">|</span> NULL <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">19</span> <span class="token operator">|</span> test2 <span class="token operator">|</span> test2 <span class="token operator">|</span> test2@naver<span class="token punctuation">.</span>com <span class="token operator">|</span> ad0234829205b9033196ba818f7a872b <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">06</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">06</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">54</span> <span class="token operator">|</span> NULL <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token number">2</span> rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></code></pre></div>
</li>
</ul>
<br/>
<hr>
<h3 id="이제-mysql-pod를-강제로-죽인-뒤-다시-가동시켜서-db-data를-확인해보겠습니다" style="position:relative;"><a href="#%EC%9D%B4%EC%A0%9C-mysql-pod%EB%A5%BC-%EA%B0%95%EC%A0%9C%EB%A1%9C-%EC%A3%BD%EC%9D%B8-%EB%92%A4-%EB%8B%A4%EC%8B%9C-%EA%B0%80%EB%8F%99%EC%8B%9C%EC%BC%9C%EC%84%9C-db-data%EB%A5%BC-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EA%B2%A0%EC%8A%B5%EB%8B%88%EB%8B%A4" aria-label="이제 mysql pod를 강제로 죽인 뒤 다시 가동시켜서 db data를 확인해보겠습니다 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>이제 MYSQL POD를 강제로 죽인 뒤 다시 가동시켜서 DB DATA를 확인해보겠습니다</h3>
<br/>
<ul>
<li>
<p>Rancher에서는 POD를 다음과 같이 간단하게 종료 시킬 수 있습니다.</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96963953-8ea3f000-1544-11eb-9963-c488299be958.png" alt="스크린샷, 2020-10-23 15-29-29"></p>
</li>
</ul>
<br/>
<ul>
<li>
<p>Deployement가 POD를 재시작 시켜 이전과 다른 이름으로 컨테이너가 가동 됐습니다.</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96964025-ad09eb80-1544-11eb-9bd6-0f30336e6e03.png" alt="스크린샷, 2020-10-23 15-30-20"></p>
</li>
</ul>
<br/>
<ul>
<li>
<p>새로 생성된 컨테이너에 접속해서 DB 데이터를 보면 기존에 추가했던 test2 user 정보가 남아있습니다</p>
<div class="gatsby-highlight" data-language="cs"><pre class="language-cs"><code class="language-cs">mysql<span class="token operator">></span> use dvja
Reading table information <span class="token keyword">for</span> completion of table <span class="token keyword">and</span> column names
You can turn off <span class="token keyword">this</span> feature to <span class="token keyword">get</span> a quicker startup with <span class="token operator">-</span>A

Database changed
mysql<span class="token operator">></span> <span class="token class-name">show</span> tables<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> Tables_in_dvja <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> products       <span class="token operator">|</span>
<span class="token operator">|</span> users          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token number">2</span> rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> 
mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name  <span class="token operator">|</span> login <span class="token operator">|</span> email           <span class="token operator">|</span> password                         <span class="token operator">|</span> created_at          <span class="token operator">|</span> updated_at          <span class="token operator">|</span> role <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">18</span> <span class="token operator">|</span> test  <span class="token operator">|</span> test  <span class="token operator">|</span> test@gmail<span class="token punctuation">.</span>com  <span class="token operator">|</span> 098f6bcd4621d373cade4e832627b4f6 <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">05</span><span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">05</span><span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">19</span> <span class="token operator">|</span> NULL <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">19</span> <span class="token operator">|</span> test2 <span class="token operator">|</span> test2 <span class="token operator">|</span> test2@naver<span class="token punctuation">.</span>com <span class="token operator">|</span> ad0234829205b9033196ba818f7a872b <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">06</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">54</span> <span class="token operator">|</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">06</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">:</span><span class="token number">54</span> <span class="token operator">|</span> NULL <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token number">2</span> rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">></span> </code></pre></div>
</li>
</ul>
<br/>
<ul>
<li>
<p>물론 웹페이지에서도 접속이 원활합니다</p>
<p><img src="https://user-images.githubusercontent.com/69498804/96964242-17229080-1545-11eb-8632-0a6251fc34d8.png" alt="스크린샷, 2020-10-23 15-33-20"></p>
</li>
</ul>
<br/>
<hr>
<h2 id="마치며" style="position:relative;"><a href="#%EB%A7%88%EC%B9%98%EB%A9%B0" aria-label="마치며 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>마치며…</h2>
<p>이번에 새롭게 FileStore라는 GCP의 기능을 사용해봤습니다.<br>
진짜 이전에 노가다식으로 했었던 NFS 서버 구성이 너무 무의미해지는 서비스입니다<br>
이번 실습은 왜 클라우드 서비스 하는지 알 것같은 실습이었습니다<br>
비록 기존에 생각하던 MYSQL POD의 Active/slave,Heartbeat 방식의 이중화는 못했지만 nfs에서 데이터를 받아오는 것도 만족한 서비스 인 것 같습니다.
이번 포스트까지 이제 전반적인 서비스 구성을 마무리 지은 것 같습니다.<br>
이제는 보안툴과 취약점 검사, ARgo-cd 자동화 등을 진행해야겠죠…</p>
<hr>
<div class="table-of-contents">
<ul>
<li><a href="#-%EB%B0%9C%EC%83%9D-%EC%9D%B4%EC%8A%88">✔ 발생 이슈</a></li>
<li>
<p><a href="#-%EC%9D%B4%EC%A0%9C-gcp%EC%9D%98-nfsfilestore%EB%A5%BC-%EA%B5%AC%EC%84%B1%ED%95%B4%EB%B3%B4%EC%A3%A0">✌ 이제 GCP의 NFS(Filestore)를 구성해보죠</a></p>
<ul>
<li><a href="#gcp-nfs-%EC%84%A4%EC%A0%95">GCP NFS 설정</a></li>
<li><a href="#nfs%EB%A5%BC-gke%EC%9D%98-%EB%B3%BC%EB%A5%A8%EC%9C%BC%EB%A1%9C-%EC%82%AC%EC%9A%A9">NFS를 GKE의 볼륨으로 사용</a></li>
<li><a href="#pv-%EC%83%9D%EC%84%B1">PV 생성</a></li>
<li><a href="#pvc-%EC%83%9D%EC%84%B1">PVC 생성</a></li>
<li><a href="#mysql-pod-%EB%B0%B0%ED%8F%AC">MYSQL POD 배포</a></li>
<li><a href="#%EC%97%90%EB%9F%AC-%EB%B0%9C%EC%83%9D%E3%85%A0">에러 발생..ㅠ</a></li>
<li><a href="#nfs---mysql-data-%EC%97%B0%EB%8F%99-%ED%99%95%EC%9D%B8">NFS &#x3C;-> Mysql Data 연동 확인</a></li>
<li><a href="#%EC%9D%B4%EC%A0%9C-mysql-pod%EB%A5%BC-%EA%B0%95%EC%A0%9C%EB%A1%9C-%EC%A3%BD%EC%9D%B8-%EB%92%A4-%EB%8B%A4%EC%8B%9C-%EA%B0%80%EB%8F%99%EC%8B%9C%EC%BC%9C%EC%84%9C-db-data%EB%A5%BC-%ED%99%95%EC%9D%B8%ED%95%B4%EB%B3%B4%EA%B2%A0%EC%8A%B5%EB%8B%88%EB%8B%A4">이제 MYSQL POD를 강제로 죽인 뒤 다시 가동시켜서 DB DATA를 확인해보겠습니다</a></li>
</ul>
</li>
<li><a href="#%EB%A7%88%EC%B9%98%EB%A9%B0">마치며…</a></li>
</ul>
</div></div></div></div><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1125098373921970" crossorigin="anonymous"></script><div class="post-cards-adjacent-wrapper"><div class="post-cards-adjacent"><a class="post-card next" href="/devops-cicd2/"><div class="direction">이전 글</div><div class="title">[DEVOPS] - 보안 취약점 검사를 위한 Dvmn 앱 자동 배포하기</div></a><a class="post-card prev" href="/devops-jenkinspush/"><div class="direction">다음 글</div><div class="title">[DEVOPS] - Jenkins로 Dvmn 앱 이미지 자동 빌드 및 푸시하기</div></a></div></div><div class="utterances"></div></main><footer class="page-footer-wrapper"><p class="page-footer">© <!-- -->2022<!-- --> <a href="https://github.com/nasa1515">NASA1515</a> powered by<a href="https://github.com/nasa1515"> me</a></p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/devops-gcpfilestore/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-384ea82b9c97dbd7ee60.js"],"app":["/app-af51a7650cca06e0cb78.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-241020a1cf7d0f317bbe.js"],"component---src-pages-404-js":["/component---src-pages-404-js-18966798326ae6e5a169.js"],"component---src-pages-about-js":["/component---src-pages-about-js-84e9a8898a75d784d036.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f84ef0a3c1ad5840da0a.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-527d926a66cb09d51c39.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-d01b478dab935d07b01d.js"]};/*]]>*/</script><script src="/polyfill-384ea82b9c97dbd7ee60.js" nomodule=""></script><script src="/component---src-templates-blog-template-js-527d926a66cb09d51c39.js" async=""></script><script src="/f9d3028dbef90a6e9b8db85387d63dd9f4edf538-1230b370c40f1a824092.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-af51a7650cca06e0cb78.js" async=""></script><script src="/framework-81279cacaab4bdba7685.js" async=""></script><script src="/webpack-runtime-2dcca74ba8231e937cfc.js" async=""></script></body></html>